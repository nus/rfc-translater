{
  "title": {
    "text": "RFC 7597 - Mapping of Address and Port with Encapsulation (MAP-E)",
    "ja": "RFC 7597 - カプセル化とアドレスとポートのマッピング（MAP-E）"
  },
  "number": 7597,
  "created_at": "2019-10-30 23:24:56.798465+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                     O. Troan, Ed.\nRequest for Comments: 7597                                        W. Dec\nCategory: Standards Track                                  Cisco Systems\nISSN: 2070-1721                                                    X. Li\n                                                                  C. Bao\n                                                     Tsinghua University\n                                                           S. Matsushima\n                                                        SoftBank Telecom\n                                                             T. Murakami\n                                                             IP Infusion\n                                                          T. Taylor, Ed.\n                                                     Huawei Technologies\n                                                               July 2015",
      "raw": true
    },
    {
      "indent": 9,
      "text": "Mapping of Address and Port with Encapsulation (MAP-E)",
      "raw": true
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "抽象"
    },
    {
      "indent": 3,
      "text": "This document describes a mechanism for transporting IPv4 packets across an IPv6 network using IP encapsulation. It also describes a generic mechanism for mapping between IPv6 addresses and IPv4 addresses as well as transport-layer ports.",
      "ja": "この文書では、IPカプセル化を使用してIPv6ネットワーク間でIPv4パケットを転送するためのメカニズムについて説明します。それはまた、一般的なIPv6アドレスとIPv4アドレス間のマッピングのための機構、ならびにトランスポート層ポートを記述する。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "このメモのステータス"
    },
    {
      "indent": 3,
      "text": "This is an Internet Standards Track document.",
      "ja": "これは、インターネット標準化過程文書です。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.",
      "ja": "このドキュメントはインターネットエンジニアリングタスクフォース（IETF）の製品です。これは、IETFコミュニティの総意を表しています。これは、公開レビューを受けており、インターネットエンジニアリング運営グループ（IESG）によって公表のために承認されています。インターネット標準の詳細については、RFC 5741のセクション2で利用可能です。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7597.",
      "ja": "このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttp://www.rfc-editor.org/info/rfc7597で取得することができます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2015 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（C）2015 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（http://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。コードコンポーネントは、トラスト法規定のセクションで説明4.eおよび簡体BSDライセンスで説明したように、保証なしで提供されているよう簡体BSDライセンスのテキストを含める必要があり、この文書から抽出されました。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................4\n2. Conventions .....................................................5\n3. Terminology .....................................................5\n4. Architecture ....................................................7\n5. Mapping Algorithm ...............................................8\n   5.1. Port-Mapping Algorithm ....................................10\n   5.2. Basic Mapping Rule (BMR) ..................................11\n   5.3. Forwarding Mapping Rule (FMR) .............................14\n   5.4. Destinations outside the MAP Domain .......................14\n6. The IPv6 Interface Identifier ..................................15\n7. MAP Configuration ..............................................15\n   7.1. MAP CE ....................................................15\n   7.2. MAP BR ....................................................16\n8. Forwarding Considerations ......................................17\n   8.1. Receiving Rules ...........................................17\n   8.2. ICMP ......................................................18\n   8.3. Fragmentation and Path MTU Discovery ......................18\n        8.3.1. Fragmentation in the MAP Domain ....................18\n        8.3.2. Receiving IPv4 Fragments on the MAP Domain\n               Borders ............................................19\n        8.3.3. Sending IPv4 Fragments to the Outside ..............19\n9. NAT44 Considerations ...........................................19\n10. Security Considerations .......................................20\n11. References ....................................................21\n   11.1. Normative References .....................................21\n   11.2. Informative References ...................................21\nAppendix A. Examples ..............................................25\nAppendix B. A More Detailed Description of the Derivation of the\n            Port-Mapping Algorithm ................................29\n  B.1. Bit Representation of the Algorithm ........................31\n  B.2. GMA Examples ...............................................32\nAcknowledgements ..................................................32\nContributors ......................................................33\nAuthors' Addresses ................................................34",
      "raw": true
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1.はじめに"
    },
    {
      "indent": 3,
      "text": "Mapping of IPv4 addresses in IPv6 addresses has been described in numerous mechanisms dating back to the mid-1990s [RFC1933] [RFC4213]. The \"automatic tunneling\" mechanism as first described in [RFC1933] assigned a globally unique IPv6 address to a host by combining the host's IPv4 address with a well-known IPv6 prefix. Given an IPv6 packet with a destination address with an embedded IPv4 address, a node could automatically tunnel this packet by extracting the IPv4 tunnel endpoint address from the IPv6 destination address.",
      "ja": "IPv6アドレスでIPv4アドレスのマッピングは、1990年代半ば[RFC1933] [RFC4213]にさかのぼる数多くのメカニズムに記載されています。 「自動トンネリング」メカニズム[RFC1933]で説明した第1のような周知のIPv6プレフィックスとホストのIPv4アドレスを組み合わせることにより、ホストにグローバルに一意のIPv6アドレスを割り当てます。埋め込まれたIPv4アドレスと宛先アドレスを持つIPv6パケットが与えられると、ノードは、IPv6宛先アドレスからIPv4トンネルエンドポイントアドレスを抽出することにより、トンネルこのパケットを自動的にできました。"
    },
    {
      "indent": 3,
      "text": "There are numerous variations of this idea, as described in 6over4 [RFC2529], 6to4 [RFC3056], the Intra-Site Automatic Tunnel Addressing Protocol (ISATAP) [RFC5214], and IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) [RFC5969].",
      "ja": "[RFC5969]が6over4はで説明したようにこのアイデアの多数の変形であり、[RFC2529]の6to4 [RFC3056]、イントラサイト自動トンネルは、IPv4基盤（6rd）上のプロトコル（ISATAP）[RFC5214]、およびIPv6のRapid Deploymentアドレッシング。"
    },
    {
      "indent": 3,
      "text": "The commonalities of all of these IPv6-over-IPv4 mechanisms are as follows:",
      "ja": "次のようにこれらのIPv6オーバーIPv4のメカニズムのすべての共通点は以下のとおりです。"
    },
    {
      "indent": 3,
      "text": "o Automatic provisioning of an IPv6 address for a host or an IPv6 prefix for a site.",
      "ja": "ホストのIPv6アドレスまたはサイトのIPv6プレフィックスのO自動プロビジョニング。"
    },
    {
      "indent": 3,
      "text": "o Algorithmic or implicit address resolution of tunnel endpoint addresses. Given an IPv6 destination address, an IPv4 tunnel endpoint address can be calculated.",
      "ja": "Oアルゴリズムまたはトンネルエンドポイントアドレスの暗黙的なアドレス解決。 IPv6宛先アドレスが与えられると、IPv4のトンネル・エンドポイント・アドレスを計算することができます。"
    },
    {
      "indent": 3,
      "text": "o Embedding of an IPv4 address or part thereof into an IPv6 address.",
      "ja": "そのIPv6アドレスにIPv4アドレスまたは一部のO埋め込み。"
    },
    {
      "indent": 3,
      "text": "In later phases of IPv4-to-IPv6 migration, it is expected that IPv6-only networks will be common, while there will still be a need for residual IPv4 deployment. This document describes a generic mapping of IPv4 to IPv6 and a mechanism for encapsulating IPv4 over IPv6.",
      "ja": "IPv4のツーのIPv6移行の後の段階では、まだ残留のIPv4展開する必要があるでしょうしながら、IPv6のみのネットワークは、一般的になることが期待されます。この文書は、IPv6へのIPv4の一般的なマッピングとIPv6上でのIPv4をカプセル化するためのメカニズムについて説明します。"
    },
    {
      "indent": 3,
      "text": "Just as for the IPv6-over-IPv4 mechanisms referred to above, the residual IPv4-over-IPv6 mechanism must be capable of:",
      "ja": "ちょうど先に言及したIPv6オーバーIPv4のメカニズムについては、残留のIPv4オーバーのIPv6メカニズムができなければなりません。"
    },
    {
      "indent": 3,
      "text": "o Provisioning an IPv4 prefix, an IPv4 address, or a shared IPv4 address.",
      "ja": "OのIPv4プレフィックス、IPv4アドレス、または共有IPv4アドレスをプロビジョニングします。"
    },
    {
      "indent": 3,
      "text": "o Algorithmically mapping between an IPv4 prefix, an IPv4 address, or a shared IPv4 address and an IPv6 address.",
      "ja": "Oアルゴリズム的IPv4プレフィクス、IPv4アドレス、または共有IPv4アドレスとIPv6アドレス間のマッピング。"
    },
    {
      "indent": 3,
      "text": "The mapping scheme described here supports encapsulation of IPv4 packets in IPv6 in both mesh and hub-and-spoke topologies, including address mappings with full independence between IPv6 and IPv4 addresses.",
      "ja": "ここで説明するマッピング方式は、IPv6とIPv4アドレスの間の完全独立とアドレスのマッピングを含め、両方のメッシュとハブアンドスポークトポロジでIPv6でのIPv4パケットのカプセル化をサポートしています。"
    },
    {
      "indent": 3,
      "text": "This document describes the delivery of IPv4 unicast service across an IPv6 infrastructure. IPv4 multicast is not considered in this document.",
      "ja": "この文書は、IPv6インフラストラクチャ全体でIPv4ユニキャストサービスの送達を記載します。 IPv4マルチキャストは、このドキュメントでは考慮されていません。"
    },
    {
      "indent": 3,
      "text": "The Address plus Port (A+P) architecture of sharing an IPv4 address by distributing the port space is described in [RFC6346]. Specifically, Section 4 of [RFC6346] covers stateless mapping. The corresponding stateful solution, Dual-Stack Lite (DS-Lite), is described in [RFC6333]. The motivations for this work are described in [Solutions-4v6].",
      "ja": "ポート空間を分配することにより、IPv4アドレスを共有アドレス+ポート（A + P）アーキテクチャは、[RFC6346]に記載されています。具体的には、[RFC6346]のセクション4はステートレスマッピングを覆っています。対応ステートフル溶液、デュアルスタックライト（DS-Liteの）は、[RFC6333]に記載されています。この作業のための動機は、[ソリューション-4v6]で説明されています。"
    },
    {
      "indent": 3,
      "text": "[RFC7598] defines DHCPv6 options for the provisioning of MAP. Other means of provisioning are possible. Deployment considerations are described in [MAP-Deploy].",
      "ja": "[RFC7598]はMAPのプロビジョニングのためのDHCPv6オプションを定義します。プロビジョニングの他の手段も可能です。配備考察は[MAP-展開]に記載されています。"
    },
    {
      "indent": 3,
      "text": "MAP relies on IPv6 and is designed to deliver dual-stack service while allowing IPv4 to be phased out within the service provider's (SP's) network. The phasing out of IPv4 within the SP network is independent of whether the end user disables IPv4 service or not. Further, \"greenfield\" IPv6-only networks may use MAP in order to deliver IPv4 to sites via the IPv6 network.",
      "ja": "MAPは、IPv6に依存しているとIPv4は、サービスプロバイダ（SPの）ネットワーク内で段階的に廃止することを可能にしながら、デュアルスタックサービスを提供するように設計されています。 SPネットワーク内のIPv4の廃止は、エンドユーザがIPv4サービスを無効にするか否かとは無関係です。さらに、「グリーンフィールド」のIPv6のみのネットワークは、IPv6ネットワークを経由してサイトにはIPv4をお届けするために、MAPを使用することができます。"
    },
    {
      "indent": 0,
      "text": "2. Conventions",
      "section_title": true,
      "ja": "2.表記"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [RFC2119].",
      "ja": "この文書のキーワード \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", および \"OPTIONAL\" はRFC 2119 [RFC2119]に記載されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "3. Terminology",
      "section_title": true,
      "ja": "3.用語"
    },
    {
      "indent": 3,
      "text": "MAP domain: One or more MAP Customer Edge (CE) devices and Border Relays (BRs) connected to the same virtual link. A service provider may deploy a single MAP domain or may utilize multiple MAP domains.",
      "ja": "MAPドメイン：同じ仮想リンクに接続された一つ以上のMAPのカスタマーエッジ（CE）デバイスとボーダーリレー（のBR）。サービスプロバイダは、単一のMAPドメインを展開することができるか、複数のMAPドメインを利用することができます。"
    },
    {
      "indent": 3,
      "text": "MAP Rule: A set of parameters describing the mapping between an IPv4 prefix, IPv4 address, or shared IPv4 address and an IPv6 prefix or address. Each domain uses a different mapping rule set.",
      "ja": "MAPルール：IPv4のプレフィックスの間のマッピングを記述するパラメータのセット、IPv4アドレス、または共有IPv4アドレスとIPv6プレフィックスまたはアドレス。各ドメインは、異なるマッピングルールセットを使用しています。"
    },
    {
      "indent": 3,
      "text": "MAP node: A device that implements MAP.",
      "ja": "MAPノード：MAPを実装デバイス。"
    },
    {
      "indent": 3,
      "text": "MAP Border Relay (BR): A MAP-enabled router managed by the service provider at the edge of a MAP domain. A BR has at least an IPv6-enabled interface and an IPv4 interface connected to the native IPv4 network. A MAP BR may also be referred to as simply a \"BR\" within the context of MAP.",
      "ja": "MAPボーダーリレー（BR）：MAPドメインのエッジでサービスプロバイダによって管理されるMAP-対応ルータ。 BRは、少なくともIPv6対応のインターフェースとネイティブIPv4ネットワークに接続されたIPv4インタフェースを有しています。 MAPのBRはまた、MAPの文脈の中で単に「BR」と呼ぶことができます。"
    },
    {
      "indent": 3,
      "text": "MAP Customer Edge (CE): A device functioning as a Customer Edge router in a MAP deployment. A typical MAP CE adopting MAP Rules will serve a residential site with one WAN-side interface and one or more LAN-side interfaces. A MAP CE may also be referred to as simply a \"CE\" within the context of MAP.",
      "ja": "MAPのカスタマーエッジ（CE）：MAP展開でカスタマーエッジルータとして機能デバイス。 MAPのルールを採用し、一般的なMAP CEは1 WAN側インタフェースと1つまたは複数のLAN側インタフェースを備えた住宅のサイトにサービスを提供します。 MAP CEはまた、MAPの文脈の中で単に「CE」と呼ぶことができます。"
    },
    {
      "indent": 3,
      "text": "Port set: Each node has a separate part of the transport-layer port space; this is denoted as a port set.",
      "ja": "ポート設定：各ノードは、トランスポート層ポート空間の別の部分を有します。これは、ポートの集合として表されます。"
    },
    {
      "indent": 3,
      "text": "Port Set ID (PSID): Algorithmically identifies a set of ports exclusively assigned to a CE.",
      "ja": "ポートセットID（PSID）は：アルゴリズム的に独占的にCEに割り当てられたポートのセットを識別します。"
    },
    {
      "indent": 3,
      "text": "Shared IPv4 address: An IPv4 address that is shared among multiple CEs. Only ports that belong to the assigned port set can be used for communication. Also known as a port-restricted IPv4 address.",
      "ja": "共有IPv4アドレス：複数のCE間で共有されているIPv4アドレス。割り当てられたポートのセットに属しているポートだけの通信に使用することができます。また、ポート制限IPv4アドレスとして知られています。"
    },
    {
      "indent": 3,
      "text": "End-user IPv6 prefix: The IPv6 prefix assigned to an End-user CE by means other than MAP itself, e.g., provisioned using DHCPv6 Prefix Delegation (PD) [RFC3633], assigned via Stateless Address Autoconfiguration (SLAAC) [RFC4862], or configured manually. It is unique for each CE.",
      "ja": "エンドユーザIPv6プレフィックス：ステートレスアドレス自動設定（SLAAC）を介して割り当てられたMAP自体、例えば、DHCPv6のプレフィックス委譲を使用してプロビジョニング（PD）[RFC3633]、[RFC4862]以外の手段によって、エンドユーザのCEに割り当てられたIPv6プレフィックス、又は手動で設定されました。これは、各CEに対して一意です。"
    },
    {
      "indent": 3,
      "text": "MAP IPv6 address: The IPv6 address used to reach the MAP function of a CE from other CEs and from BRs.",
      "ja": "MAP IPv6アドレス：他のCEからとのBRからのCEのMAP機能に到達するために使用されるIPv6アドレス。"
    },
    {
      "indent": 3,
      "text": "Rule IPv6 prefix: An IPv6 prefix assigned by a service provider for a mapping rule.",
      "ja": "マッピングルールのサービスプロバイダから割り当てられたIPv6プレフィックス：IPv6プレフィックスルール。"
    },
    {
      "indent": 3,
      "text": "Rule IPv4 prefix: An IPv4 prefix assigned by a service provider for a mapping rule.",
      "ja": "マッピングルールのためのサービスプロバイダによって割り当てられたIPv4プレフィックス：IPv4のプレフィックスルール。"
    },
    {
      "indent": 3,
      "text": "Embedded Address (EA) bits: The IPv4 EA-bits in the IPv6 address identify an IPv4 prefix/address (or part thereof) or a shared IPv4 address (or part thereof) and a Port Set Identifier.",
      "ja": "埋め込みアドレス（EA）ビット：IPv6アドレスでIPv4のEAビットは、IPv4プレフィックス/アドレス（又はその一部）又は（またはその一部）を共有IPv4アドレスとポートセット識別子を識別する。"
    },
    {
      "indent": 0,
      "text": "4. Architecture",
      "section_title": true,
      "ja": "4.アーキテクチャ"
    },
    {
      "indent": 3,
      "text": "In accordance with the requirements stated above, the MAP mechanism can operate with shared IPv4 addresses, full IPv4 addresses, or IPv4 prefixes. Operation with shared IPv4 addresses is described here, and the differences for full IPv4 addresses and prefixes are described below.",
      "ja": "上述した要件に従って、MAP機構は、共有IPv4アドレス、フルのIPv4アドレス、またはIPv4のプレフィックスで動作することができます。共有IPv4アドレスでの動作は、ここで説明されており、完全なIPv4アドレスとプレフィックスの相違点は、以下に記載されています。"
    },
    {
      "indent": 3,
      "text": "The MAP mechanism uses existing standard building blocks. The existing Network Address and Port Translator (NAPT) [RFC2663] on the CE is used with additional support for restricting transport-protocol ports, ICMP identifiers, and fragment identifiers to the configured port set. For packets outbound from the private IPv4 network, the CE NAPT MUST translate transport identifiers (e.g., TCP and UDP port numbers) so that they fall within the CE's assigned port range.",
      "ja": "MAPメカニズムは、既存の標準的なビルディング・ブロックを使用しています。 CE上の既存のネットワークアドレス及びポート変換器（NAPT）[RFC2663]は設定されたポートセットにトランスポートプロトコルポート、ICMP識別子、及びフラグメント識別子を制限するための追加のサポートと一緒に使用されます。彼らはCEの割り当てられたポート範囲内に収まるようにプライベートIPv4ネットワークからのパケットの発信については、CE NAPTは（例えば、TCPやUDPのポート番号）トランスポート識別子を変換する必要があります。"
    },
    {
      "indent": 3,
      "text": "The NAPT MUST in turn be connected to a MAP-aware forwarding function that does encapsulation/decapsulation of IPv4 packets in IPv6. MAP supports the encapsulation mode specified in [RFC2473]. In addition, MAP specifies an algorithm to do \"address resolution\" from an IPv4 address and port to an IPv6 address. This algorithmic mapping is specified in Section 5.",
      "ja": "次にNAPTのMUSTは、IPv6内IPv4パケットのカプセル化/デカプセル化を行いMAP認識転送機能に接続します。 MAPは、[RFC2473]で指定されたカプセル化モードをサポートしています。また、MAPは、IPv6アドレスにIPv4アドレスとポートからの「アドレス解決」を行うためのアルゴリズムを指定します。このアルゴリズムのマッピングは、第5節で指定されています。"
    },
    {
      "indent": 3,
      "text": "The MAP architecture described here restricts the use of the shared IPv4 address to only be used as the global address (outside) of the NAPT running on the CE. A shared IPv4 address MUST NOT be used to identify an interface. While it is theoretically possible to make host stacks and applications port-aware, it would be a drastic change to the IP model [RFC6250].",
      "ja": "ここで説明したMAPアーキテクチャは、CE上で実行されているNAPTのグローバルアドレス（外部）として使用する共有IPv4アドレスの使用を制限します。共有IPv4アドレスは、インタフェースを識別するために使用してはいけません。それは、ホストスタックとアプリケーションがポート対応にすることは理論的には可能であるが、それはIPモデル[RFC6250]への急激な変化になります。"
    },
    {
      "indent": 3,
      "text": "For full IPv4 addresses and IPv4 prefixes, the architecture just described applies, with two differences: first, a full IPv4 address or IPv4 prefix can be used as it is today, e.g., for identifying an interface or as a DHCP pool, respectively. Second, the NAPT is not required to restrict the ports used on outgoing packets.",
      "ja": "それは、それぞれ、インタフェースを識別するため、またはDHCPプールとして、例えば、今日のように、第1、完全なIPv4アドレスまたはIPv4プレフィックスを使用することができる：完全なIPv4アドレスとIPv4のプレフィックスのために、今述べたアーキテクチャは、2つの違いを用いて、適用されます。第二に、NAPTは発信パケットで使用されるポートを制限する必要はありません。"
    },
    {
      "indent": 3,
      "text": "This architecture is illustrated in Figure 1.",
      "ja": "このアーキテクチャは、図1に示されています。"
    },
    {
      "indent": 3,
      "text": "      User N\n    Private IPv4\n   |  Network\n   |\nO--+---------------O\n|  |  MAP CE       |\n| +-----+--------+ |\n| NAPT44|  MAP   | |\n| +-----+        | |\\     ,-------.                      .------.\n|       +--------+ | \\ ,-'         `-.                 ,-'       `-.\nO------------------O  /              \\   O---------O  /   Public   \\\n                     /    IPv6-only  \\  |  MAP    | /     IPv4      \\\n                    (    Network      --+  Border +-     Network    )\n                     \\  (MAP Domain) /  |  Relay  | \\               /\nO------------------O  \\              /   O---------O  \\            /\n|    MAP   CE      |  /\".         ,-'                 `-.       ,-'\n| +-----+--------+ | /   `----+--'                       ------'\n| NAPT44|  MAP   | |/\n| +-----+        | |\n|   |   +--------+ |\nO---+--------------O\n    |\n     User M\n   Private IPv4\n     Network",
      "raw": true
    },
    {
      "indent": 24,
      "text": "Figure 1: Network Topology",
      "ja": "図1：ネットワークトポロジ"
    },
    {
      "indent": 3,
      "text": "The MAP BR connects one or more MAP domains to external IPv4 networks.",
      "ja": "MAPのBRは、外部のIPv4ネットワークへの1つまたは複数のMAPドメインを接続します。"
    },
    {
      "indent": 0,
      "text": "5. Mapping Algorithm",
      "section_title": true,
      "ja": "5.マッピングアルゴリズム"
    },
    {
      "indent": 3,
      "text": "A MAP node is provisioned with one or more mapping rules.",
      "ja": "MAPのノードは、1つのまたは複数のマッピングルールがプロビジョニングされています。"
    },
    {
      "indent": 3,
      "text": "Mapping rules are used differently, depending on their function. Every MAP node must be provisioned with a Basic Mapping Rule. This is used by the node to configure its IPv4 address, IPv4 prefix, or shared IPv4 address. This same basic rule can also be used for forwarding, where an IPv4 destination address and, optionally, a destination port are mapped into an IPv6 address. Additional mapping rules are specified to allow for multiple different IPv4 subnets to exist within the domain and optimize forwarding between them.",
      "ja": "マッピング・ルールは、その機能に応じて、異なる方法で使用されています。すべてのMAPノードは、基本マッピングルールをプロビジョニングする必要があります。これは、IPv4アドレス、IPv4プレフィクス、または共有IPv4アドレスを設定するためにノードによって使用されます。これと同じ基本的なルールは、任意のIPv4宛先アドレスと、宛先ポートがIPv6アドレスにマッピングされている転送に使用することができます。追加のマッピング規則は、複数の異なるIPv4のサブネットがドメイン内に存在すると、それらの間の転送を最適化することを可能にするために指定されています。"
    },
    {
      "indent": 3,
      "text": "Traffic outside of the domain (i.e., when the destination IPv4 address does not match (using longest matching prefix) any Rule IPv4 prefix in the Rules database) is forwarded to the BR.",
      "ja": "ドメイン（即ち、宛先IPv4アドレスが最長一致プレフィクスを使用して（一致しない場合）規則データベース内の規則IPv4プレフィクス）の外側のトラフィックをBRに転送されます。"
    },
    {
      "indent": 3,
      "text": "There are two types of mapping rules:",
      "ja": "マッピングルールの2種類があります。"
    },
    {
      "indent": 3,
      "text": "1. Basic Mapping Rule (BMR) - mandatory. A CE can be provisioned with multiple End-user IPv6 prefixes. There can only be one Basic Mapping Rule per End-user IPv6 prefix. However, all CEs having End-user IPv6 prefixes within (aggregated by) the same Rule IPv6 prefix may share the same Basic Mapping Rule. In combination with the End-user IPv6 prefix, the Basic Mapping Rule is used to derive the IPv4 prefix, address, or shared address and the PSID assigned to the CE.",
      "ja": "1.基本マッピングルール（BMR） - 必須。 CEは、複数のエンドユーザーのIPv6プレフィックスをプロビジョニングすることができます。唯一のエンドユーザーのIPv6プレフィックスごとに基本的なマッピング・ルールが存在する場合があります。しかし、同じルールのIPv6プレフィックス（によって集計）内のエンドユーザーのIPv6プレフィックスを持つすべてのCEは、同じ基本マッピング・ルールを共有することがあります。エンドユーザーのIPv6プレフィックスと組み合わせることで、基本マッピングルールは、IPv4プレフィックス、アドレス、または共有アドレスとCEに割り当てられたPSIDを導出するために使用されます。"
    },
    {
      "indent": 3,
      "text": "2. Forwarding Mapping Rule (FMR) - optional; used for forwarding. The Basic Mapping Rule may also be a Forwarding Mapping Rule. Each Forwarding Mapping Rule will result in an entry in the rule table for the Rule IPv4 prefix. Given a destination IPv4 address and port within the MAP domain, a MAP node can use the matching FMR to derive the End-user IPv6 address of the interface through which that IPv4 destination address and port combination can be reached. In hub-and-spoke mode, there are no FMRs.",
      "ja": "2.転送マッピングルール（FMR） - オプション。転送に使用されます。基本マッピングルールも転送マッピングルールかもしれません。各転送のマッピング・ルールはルールのIPv4プレフィックスのルールテーブルのエントリになります。 MAPドメイン内の宛先IPv4アドレスとポートを与え、MAPノードは、IPv4宛先アドレスとポートの組み合わせに到達することができるためのインターフェイスのエンドユーザのIPv6アドレスを導出するマッチングFMRを使用することができます。ハブ・アンド・スポーク・モードでは、FMRSはありません。"
    },
    {
      "indent": 3,
      "text": "Both mapping rules share the same parameters:",
      "ja": "どちらのマッピング規則は、同じパラメータを共有します："
    },
    {
      "indent": 3,
      "text": "o Rule IPv6 prefix (including prefix length)",
      "ja": "（プレフィックス長を含む）OルールIPv6プレフィックス"
    },
    {
      "indent": 3,
      "text": "o Rule IPv4 prefix (including prefix length)",
      "ja": "（プレフィックス長を含む）OルールのIPv4プリフィックス"
    },
    {
      "indent": 3,
      "text": "o Rule EA-bit length (in bits)",
      "ja": "（ビット単位）OルールEAビット長"
    },
    {
      "indent": 3,
      "text": "A MAP node finds its BMR by doing a longest match between the End-user IPv6 prefix and the Rule IPv6 prefix in the Mapping Rules table. The rule is then used for IPv4 prefix, address, or shared address assignment.",
      "ja": "MAPノードは、エンドユーザーのIPv6プレフィックスとマッピングルールテーブル内のルールのIPv6プレフィックスとの最長一致を行うことによって、そのBMRを見つけました。ルールは、その後のIPv4プレフィックス、アドレス、または共有アドレス割り当てのために使用されています。"
    },
    {
      "indent": 3,
      "text": "A MAP IPv6 address is formed from the BMR Rule IPv6 prefix. This address MUST be assigned to an interface of the MAP node and is used to terminate all MAP traffic being sent or received to the node.",
      "ja": "MAP IPv6アドレスはBMRルールIPv6プレフィックスから形成されます。このアドレスは、MAPノードのインタフェースに割り当てる必要があり、ノードに送信または受信されるすべてのMAPのトラフィックを終端するために使用されます。"
    },
    {
      "indent": 3,
      "text": "Port-restricted IPv4 routes are installed in the rule table for all the Forwarding Mapping Rules, and a default route is installed to the MAP BR (see Section 5.4).",
      "ja": "ポート制限のIPv4ルートがすべての転送マッピングルールのためのルールテーブルに設置され、デフォルトルートが地図BRにインストールされている（第5.4節を参照）。"
    },
    {
      "indent": 3,
      "text": "Forwarding Mapping Rules are used to allow direct communication between MAP CEs; this is known as \"Mesh mode\". In hub-and-spoke mode, there are no Forwarding Mapping Rules; all traffic MUST be forwarded directly to the BR.",
      "ja": "転送マッピング規則は、マップのCE間の直接通信を可能にするために使用されます。これは「メッシュモード」として知られています。ハブ・アンド・スポーク・モードでは、転送マッピングルールはありません。すべてのトラフィックは、BRに直接転送されなければなりません。"
    },
    {
      "indent": 3,
      "text": "While an FMR is optional in the sense that a MAP CE MAY be configured with zero or more FMRs -- depending on the deployment -- all MAP CEs MUST implement support for both rule types.",
      "ja": "配備に応じ -   -  FMRがMAP CEがゼロ以上FMRSを用いて構成することができるという意味で任意であるが、すべてのMAP CEは、両方のルールタイプのサポートを実装しなければなりません。"
    },
    {
      "indent": 0,
      "text": "5.1. Port-Mapping Algorithm",
      "section_title": true,
      "ja": "5.1。ポートマッピングアルゴリズム"
    },
    {
      "indent": 3,
      "text": "The port-mapping algorithm is used in domains whose rules allow IPv4 address sharing.",
      "ja": "ポートマッピングアルゴリズムは、そのルールのIPv4アドレスの共有を可能にするドメインで使用されています。"
    },
    {
      "indent": 3,
      "text": "The simplest way to represent a port range is using a notation similar to Classless Inter-Domain Routing (CIDR) [RFC4632]. For example, the first 256 ports are represented as port prefix 0.0/8 and the last 256 ports as 255.0/8. In hexadecimal, these would be 0x0000/8 (PSID = 0) and 0xFF00/8 (PSID = 0xFF), respectively. Using this technique but wishing to avoid allocating the system ports [RFC6335] to the user, one would have to exclude the use of one or more PSIDs (e.g., PSIDs 0 to 3 in the example just given).",
      "ja": "ポート範囲を表現する最も簡単な方法は、クラスレスドメイン間ルーティング（CIDR）[RFC4632]と同様の表記を用いています。例えば、最初の256個のポートは、ポート接頭0.0 / 8および255.0 / 8と最後256本のポートとして表されています。進数では、これらは、それぞれ、0000/8（PSID = 0）とは0xFF00 / 8（PSID = 0xFFで）であろう。ユーザに[RFC6335]をこの技術を用いるが、システムポートの割り当てを回避することを望む、一つは一つ以上のPSIDs（単に与えられた例3に例えば、PSIDs 0）の使用を排除しなければなりません。"
    },
    {
      "indent": 3,
      "text": "When the PSID is embedded in the End-user IPv6 prefix, it is desirable to minimize the restrictions of possible PSID values in order to minimize dependencies between the End-user IPv6 prefix and the assigned port set. This is achieved by using an infix representation of the port value. Using such a representation, the well-known ports are excluded by restrictions on the value of the high-order bit field (A) rather than the PSID.",
      "ja": "PSIDは、エンドユーザのIPv6プレフィックスに埋め込まれている場合、エンドユーザーIPv6プレフィックスと割り当てられたポートのセット間の依存性を最小限に抑えるために可能なPSID値の制限を最小限にすることが望ましいです。これは、ポート値のインフィックス表現を使用することによって達成されます。このような表現を使用して、周知のポートは、上位ビットフィールド（A）よりもむしろPSIDの値に制限することによって排除されます。"
    },
    {
      "indent": 3,
      "text": "The infix algorithm allocates ports to a given CE as a series of contiguous ranges spaced at regular intervals throughout the complete range of possible port-set values.",
      "ja": "インフィックスアルゴリズムは、可能なポート設定値の全範囲にわたって等間隔の連続範囲の一連の所与のCEにポートを割り当てます。"
    },
    {
      "indent": 12,
      "text": "                  0                   1\n                  0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5\n                 +-----------+-----------+-------+\n   Ports in      |     A     |    PSID   |   j   |\nthe CE port set  |    > 0    |           |       |\n                 +-----------+-----------+-------+\n                 |  a bits   |  k bits   |m bits |",
      "raw": true
    },
    {
      "indent": 12,
      "text": "Figure 2: Structure of a Port-Restricted Port Field",
      "ja": "図2：ポート制限ポートフィールドの構造"
    },
    {
      "indent": 3,
      "text": "a bits: The number of offset bits -- 6 by default, as this excludes the system ports (0-1023). To guarantee non-overlapping port sets, the offset 'a' MUST be the same for every MAP CE sharing the same address.",
      "ja": "ビット：オフセットビットの数 -  6デフォルトでは、これはシステムのポート（0〜1023）を除外しました。重複しないポートのセットを保証するために、オフセット「」同じアドレスを共有するすべてのMAPのCEで同じでなければなりません。"
    },
    {
      "indent": 8,
      "text": "A:  Selects the range of the port number.  For 'a' > 0, A MUST\n    be larger than 0.  This ensures that the algorithm excludes\n    the system ports.  For the default value of 'a' (6), the\n    system ports are excluded by requiring that A be greater\n    than 0.  Smaller values of 'a' exclude a larger initial\n    range, e.g., 'a' = 4 will exclude ports 0-4095.  The\n    interval between initial port numbers of successive\n    contiguous ranges assigned to the same user is 2^(16 - a).",
      "raw": true
    },
    {
      "indent": 3,
      "text": "k bits: The length in bits of the PSID field. To guarantee non-overlapping port sets, the length 'k' MUST be the same for every MAP CE sharing the same address. The sharing ratio is 2^k. The number of ports assigned to the user is 2^(16 - k) - 2^m (excluded ports).",
      "ja": "kビット：PSIDフィールドのビットの長さ。非オーバーラップポート・セットを保証するために、長さ「k」は、同じアドレスを共有するすべてのMAPのCEで同じでなければなりません。分担比率が2 ^ Kです。ユーザに割り当てられたポートの数は2 ^（ -  K 16） - であり、2 ^ M（除外ポート）。"
    },
    {
      "indent": 5,
      "text": "PSID: The Port Set Identifier (PSID). Different PSID values guarantee non-overlapping port sets, thanks to the restrictions on 'a' and 'k' stated above, because the PSID always occupies the same bit positions in the port number.",
      "ja": "PSID：ポートセット識別子（PSID）。別のPSID値はPSIDは、常にポート番号の同じビット位置を占めているため、「A」と「K」の制限のおかげで、上記のポート・セットを非オーバーラップを保証します。"
    },
    {
      "indent": 3,
      "text": "m bits: The number of contiguous ports is given by 2^m.",
      "ja": "Mビットは：連続ポートの数は2 ^ Mで与えられます。"
    },
    {
      "indent": 8,
      "text": "j:  Selects the specific port within a particular range\n    specified by the concatenation of A and the PSID.",
      "raw": true
    },
    {
      "indent": 0,
      "text": "5.2. Basic Mapping Rule (BMR)",
      "section_title": true,
      "ja": "5.2。基本的なマッピング・ルール（BMR）"
    },
    {
      "indent": 3,
      "text": "The Basic Mapping Rule is mandatory and is used by the CE to provision itself with an IPv4 prefix, IPv4 address, or shared IPv4 address. Recall from Section 5 that the BMR consists of the following parameters:",
      "ja": "基本マッピング規則は必須で、IPv4のプレフィックス、IPv4アドレス、または共有IPv4アドレスを持つ条項自体にCEによって使用されます。 BMRは、次のパラメータで構成されていることを第5節から思い出してください。"
    },
    {
      "indent": 3,
      "text": "o Rule IPv6 prefix (including prefix length)",
      "ja": "（プレフィックス長を含む）OルールIPv6プレフィックス"
    },
    {
      "indent": 3,
      "text": "o Rule IPv4 prefix (including prefix length)",
      "ja": "（プレフィックス長を含む）OルールのIPv4プリフィックス"
    },
    {
      "indent": 3,
      "text": "o Rule EA-bit length (in bits)",
      "ja": "（ビット単位）OルールEAビット長"
    },
    {
      "indent": 3,
      "text": "Figure 3 shows the structure of the complete MAP IPv6 address as specified in this document.",
      "ja": "この文書で指定されるように、図3は、完全MAP IPv6アドレスの構造を示しています。"
    },
    {
      "indent": 3,
      "text": "|     n bits         |  o bits   | s bits  |   128-n-o-s bits      |\n+--------------------+-----------+---------+-----------------------+\n|  Rule IPv6 prefix  |  EA bits  |subnet ID|     interface ID      |\n+--------------------+-----------+---------+-----------------------+\n|<---  End-user IPv6 prefix  --->|",
      "raw": true
    },
    {
      "indent": 21,
      "text": "Figure 3: MAP IPv6 Address Format",
      "ja": "図3：MAP IPv6アドレスフォーマット"
    },
    {
      "indent": 3,
      "text": "The Rule IPv6 prefix is common among all CEs using the same Basic Mapping Rule within the MAP domain. The EA bit field encodes the CE-specific IPv4 address and port information. The EA bit field, which is unique for a given Rule IPv6 prefix, can contain a full or partial IPv4 address and, in the shared IPv4 address case, a PSID. An EA bit field length of 0 signifies that all relevant MAP IPv4 addressing information is passed directly in the BMR and is not derived from the EA bit field in the End-user IPv6 prefix.",
      "ja": "ルールのIPv6プレフィックスがMAPドメイン内の同じ基本的なマッピング・ルールを使用して、すべてのCEの間で共通です。 EAビットフィールドは、CE-特定のIPv4アドレスおよびポート情報を符号化します。所定のルールIPv6プレフィックスに対して一意であるEAビットフィールドは、共有IPv4アドレスの場合には、PSIDを完全または部分的なIPv4アドレスを含むとすることができます。 0のEAビットフィールドの長さは、関連するすべてのMAPのIPv4アドレス情報がBMRに直接渡され、エンドユーザのIPv6プレフィックスでEAビットフィールドに由来しないことを意味します。"
    },
    {
      "indent": 3,
      "text": "The MAP IPv6 address is created by concatenating the End-user IPv6 prefix with the MAP subnet identifier (if the End-user IPv6 prefix is shorter than 64 bits) and the interface identifier as specified in Section 6.",
      "ja": "MAP IPv6アドレスはセクション6で指定されるようにMAPのサブネット識別子（エンドユーザのIPv6プレフィックスが64ビットより短い場合）とインタフェース識別子とエンドユーザのIPv6プレフィックスを連結することによって作成されます。"
    },
    {
      "indent": 3,
      "text": "The MAP subnet identifier is defined to be the first subnet (s bits set to zero).",
      "ja": "MAPのサブネット識別子は、最初のサブネット（ゼロに設定Sビット）であると定義されます。"
    },
    {
      "indent": 3,
      "text": "Define:",
      "ja": "定義します。"
    },
    {
      "indent": 6,
      "text": "r = length of the IPv4 prefix given by the BMR;",
      "ja": "R BMRによって与えられるIPv4プレフィクスの長さ=。"
    },
    {
      "indent": 6,
      "text": "o = length of the EA bit field as given by the BMR;",
      "ja": "O = BMRによって与えられるEAビットフィールドの長さ。"
    },
    {
      "indent": 6,
      "text": "p = length of the IPv4 suffix contained in the EA bit field.",
      "ja": "P = EAビットフィールドに含まれるIPv4のサフィックスの長さ。"
    },
    {
      "indent": 3,
      "text": "The length r MAY be zero, in which case the complete IPv4 address or prefix is encoded in the EA bits. If only a part of the IPv4 address / prefix is encoded in the EA bits, the Rule IPv4 prefix is provisioned to the CE by other means (e.g., a DHCPv6 option). To create a complete IPv4 address (or prefix), the IPv4 address suffix (p) from the EA bits is concatenated with the Rule IPv4 prefix (r bits).",
      "ja": "長さrは、完全なIPv4アドレスまたはプレフィックスがEAビットで符号化された場合にはゼロとすることができます。 IPv4アドレス/プレフィックスの一部のみがEAビットで符号化されている場合、ルールIPv4のプレフィックスは、他の手段（例えば、DHCPv6のオプション）によってCEにプロビジョニングされています。完全なIPv4アドレス（またはプレフィックス）を作成するために、EAビットからIPv4アドレスのサフィックス（P）は、ルールのIPv4プレフィックス（rビット）と連結されています。"
    },
    {
      "indent": 3,
      "text": "The offset of the EA bit field in the IPv6 address is equal to the BMR Rule IPv6 prefix length. The length of the EA bit field (o) is given by the BMR Rule EA-bit length and can be between 0 and 48. A length of 48 means that the complete IPv4 address and port are embedded in the End-user IPv6 prefix (a single port is assigned). A length of 0 means that no part of the IPv4 address or port is embedded in the address. The sum of the Rule IPv6 Prefix length and the Rule EA-bit length MUST be less than or equal to the End-user IPv6 prefix length.",
      "ja": "IPv6アドレスでEAビットフィールドのオフセットBMRルールIPv6プレフィックスの長さに等しいです。 EAビットフィールド（O）の長さは、BMRルールEAビット長によって与えられ、0と48との間に48の長さとすることができる（完全なIPv4アドレスとポートがエンドユーザのIPv6プレフィックスに埋め込まれていることを意味しますシングルポート）が割り当てられます。 0の長さは、IPv4アドレスまたはポートのどの部分がアドレス内に埋め込まれていないことを意味します。ルールのIPv6プレフィックス長とルールEAビット長の和は、エンドユーザのIPv6プレフィックス長より小さいか等しくなければなりません。"
    },
    {
      "indent": 3,
      "text": "If o + r < 32 (length of the IPv4 address in bits), then an IPv4 prefix is assigned. This case is shown in Figure 4.",
      "ja": "+ R <32（ビットにIPv4アドレスの長さ）O場合、IPv4のプレフィックスが割り当てられています。この場合は、図4に示されています。"
    },
    {
      "indent": 19,
      "text": "|   r bits    |  o bits =  p bits   |\n+-------------+---------------------+\n|  Rule IPv4  | IPv4 address suffix |\n+-------------+---------------------+\n|           < 32 bits               |",
      "raw": true
    },
    {
      "indent": 27,
      "text": "Figure 4: IPv4 Prefix",
      "ja": "図4：IPv4のプレフィックス"
    },
    {
      "indent": 3,
      "text": "If o + r is equal to 32, then a full IPv4 address is to be assigned. The address is created by concatenating the Rule IPv4 prefix and the EA-bits. This case is shown in Figure 5.",
      "ja": "O + rが32に等しい場合、完全なIPv4アドレスが割り当てられます。アドレスは、ルールIPv4プレフィクスとEAビットを連結することによって作成されます。この場合は、図5に示されています。"
    },
    {
      "indent": 19,
      "text": "|   r bits    |  o bits = p bits    |\n+-------------+---------------------+\n|  Rule IPv4  | IPv4 address suffix |\n+-------------+---------------------+\n|            32 bits                |",
      "raw": true
    },
    {
      "indent": 22,
      "text": "Figure 5: Complete IPv4 Address",
      "ja": "図5：完全なIPv4アドレス"
    },
    {
      "indent": 3,
      "text": "If o + r is > 32, then a shared IPv4 address is to be assigned. The number of IPv4 address suffix bits (p) in the EA bits is given by 32 - r bits. The PSID bits are used to create a port set. The length of the PSID bit field within the EA bits is q = o - p.",
      "ja": "O + rが> 32であれば、共有IPv4アドレスが割り当てられます。 rビット -  EAビットでのIPv4アドレスのサフィックス・ビット（P）の数は32で与えられます。 PSIDビットは、ポートセットを作成するために使用されます。 P  -  EAビット内PSIDビットフィールドの長さは、Q = Oです。"
    },
    {
      "indent": 7,
      "text": "|   r bits    |        p bits       |         |   q bits   |\n+-------------+---------------------+         +------------+\n|  Rule IPv4  | IPv4 address suffix |         |Port Set ID |\n+-------------+---------------------+         +------------+\n|            32 bits                |",
      "raw": true
    },
    {
      "indent": 23,
      "text": "Figure 6: Shared IPv4 Address",
      "ja": "図6：共有IPv4アドレス"
    },
    {
      "indent": 3,
      "text": "The length of r MAY be 32, with no part of the IPv4 address embedded in the EA bits. This results in a mapping with no dependence between the IPv4 address and the IPv6 address. In addition, the length of o MAY be zero (no EA bits embedded in the End-user IPv6 prefix), meaning that the PSID is also provisioned using, for example, DHCP.",
      "ja": "Rの長さは、EAビットに埋め込まれたIPv4アドレスのない部分と、32であるかもしれ。これは、IPv4アドレスとIPv6アドレスの間には依存してマッピングをもたらします。また、Oの長さは、PSIDはまた、例えば、DHCPを使用してプロビジョニングされていることを意味する、ゼロ（エンドユーザIPv6プレフィックスに埋め込まれないEAビット）しなくてもよいです。"
    },
    {
      "indent": 3,
      "text": "See Appendix A for an example of the Basic Mapping Rule.",
      "ja": "基本マッピングルールの例については、付録Aを参照してください。"
    },
    {
      "indent": 0,
      "text": "5.3. Forwarding Mapping Rule (FMR)",
      "section_title": true,
      "ja": "5.3。転送マッピング・ルール（FMR）"
    },
    {
      "indent": 3,
      "text": "The Forwarding Mapping Rule is optional and is used in Mesh mode to enable direct CE-to-CE connectivity.",
      "ja": "転送マッピングルールはオプションで、直接CE-に-CEの接続を可能にするために、メッシュモードで使用されています。"
    },
    {
      "indent": 3,
      "text": "On adding an FMR rule, an IPv4 route is installed in the rule table for the Rule IPv4 prefix (Figures 4, 5, and 6).",
      "ja": "FMRルールを追加することで、IPv4ルートは、ルールのIPv4プレフィックスのルールテーブル（図4、図5、図6）に設置されています。"
    },
    {
      "indent": 3,
      "text": "|        32 bits           |         |    16 bits        |\n+--------------------------+         +-------------------+\n| IPv4 destination address |         |  IPv4 dest port   |\n+--------------------------+         +-------------------+\n               :           :           ___/       :\n               |  p bits   |          /  q bits   :\n               +-----------+         +------------+\n               |IPv4 suffix|         |Port Set ID |\n               +-----------+         +------------+\n                \\          /    ____/    ________/\n                  \\       :  __/   _____/\n                    \\     : /     /\n|     n bits         |  o bits   | s bits  |   128-n-o-s bits      |\n+--------------------+-----------+---------+------------+----------+\n|  Rule IPv6 prefix  |  EA bits  |subnet ID|     interface ID      |\n+--------------------+-----------+---------+-----------------------+\n|<---  End-user IPv6 prefix  --->|",
      "raw": true
    },
    {
      "indent": 17,
      "text": "Figure 7: Derivation of MAP IPv6 Address",
      "ja": "図7：MAP IPv6アドレスの導出"
    },
    {
      "indent": 3,
      "text": "See Appendix A for an example of the Forwarding Mapping Rule.",
      "ja": "転送マッピングルールの例については、付録Aを参照してください。"
    },
    {
      "indent": 0,
      "text": "5.4. Destinations outside the MAP Domain",
      "section_title": true,
      "ja": "5.4。 MAPドメイン外の目的地"
    },
    {
      "indent": 3,
      "text": "IPv4 traffic between MAP nodes that are all within one MAP domain is encapsulated in IPv6, with the sender's MAP IPv6 address as the IPv6 source address and the receiving MAP node's MAP IPv6 address as the IPv6 destination address. To reach IPv4 destinations outside of the MAP domain, traffic is also encapsulated in IPv6, but the destination IPv6 address is set to the configured IPv6 address of the MAP BR.",
      "ja": "オールインワンMAPドメイン内のMAPノード間のIPv4トラフィックは、IPv6ソースアドレスとIPv6宛先アドレスとして受信MAPノードのMAP IPv6アドレスとして送信者のMAP IPv6アドレスと、IPv6の中に封入されています。 MAPドメインの外側のIPv4宛先に到達するために、トラフィックはまた、IPv6の中に封入されているが、宛先IPv6アドレスがMAPのBRの構成されたIPv6アドレスに設定されています。"
    },
    {
      "indent": 3,
      "text": "On the CE, the path to the BR can be represented as a point-to-point IPv4-over-IPv6 tunnel [RFC2473] with the source address of the tunnel being the CE's MAP IPv6 address and the BR IPv6 address as the remote tunnel address. When MAP is enabled, a typical CE router will install a default IPv4 route to the BR.",
      "ja": "CEで、BRへのパスは、トンネルの送信元アドレスは、リモートトンネルとしてCEのMAP IPv6アドレスとBR IPv6アドレスであるとポイント・ツー・ポイントのIPv4オーバーIPv6トンネル[RFC2473]として表すことができます。住所。 MAPが有効になっている場合、典型的なCEルータは、BRにデフォルトのIPv4ルートをインストールします。"
    },
    {
      "indent": 3,
      "text": "The BR forwards traffic received from the outside to CEs using the normal MAP forwarding rules.",
      "ja": "トラフィックを転送BRは、通常のMAP転送ルールを使用してCEに外部から受け取りました。"
    },
    {
      "indent": 0,
      "text": "6. The IPv6 Interface Identifier",
      "section_title": true,
      "ja": "6. IPv6インタフェース識別子"
    },
    {
      "indent": 3,
      "text": "The interface identifier format of a MAP node is described below.",
      "ja": "MAPノードのインタフェース識別子の形式は以下の通りです。"
    },
    {
      "indent": 19,
      "text": "|          128-n-o-s bits          |\n| 16 bits|    32 bits     | 16 bits|\n+--------+----------------+--------+\n|   0    |  IPv4 address  |  PSID  |\n+--------+----------------+--------+",
      "raw": true
    },
    {
      "indent": 20,
      "text": "Figure 8: IPv6 Interface Identifier",
      "ja": "図8：IPv6インタフェース識別子"
    },
    {
      "indent": 3,
      "text": "In the case of an IPv4 prefix, the IPv4 address field is right-padded with zeros up to 32 bits. The PSID field is left-padded with zeros to create a 16-bit field. For an IPv4 prefix or a complete IPv4 address, the PSID field is zero.",
      "ja": "IPv4のプレフィックスの場合、IPv4アドレスフィールドは、32ビットまでゼロを右詰めです。 PSIDフィールドは、16ビットのフィールドを作成するためにゼロで左詰めされます。 IPv4のプレフィックスまたは完全なIPv4アドレスの場合は、PSIDフィールドはゼロです。"
    },
    {
      "indent": 3,
      "text": "If the End-user IPv6 prefix length is larger than 64, the most significant parts of the interface identifier are overwritten by the prefix.",
      "ja": "エンドユーザーのIPv6プレフィックス長が64より大きい場合、インタフェース識別子の最も重要な部分は、接頭辞によって上書きされます。"
    },
    {
      "indent": 0,
      "text": "7. MAP Configuration",
      "section_title": true,
      "ja": "7. MAPの設定"
    },
    {
      "indent": 3,
      "text": "For a given MAP domain, the BR and CE MUST be configured with the following MAP elements. The configured values for these elements are identical for all CEs and BRs within a given MAP domain.",
      "ja": "所与のMAPドメインの、BR及びCEは、次のMAP素子で構成されなければなりません。これらの要素のために構成された値は、所与のMAPドメイン内のすべてのCEとのBRのために同一です。"
    },
    {
      "indent": 3,
      "text": "o The Basic Mapping Rule and, optionally, the Forwarding Mapping Rules, including the Rule IPv6 prefix, Rule IPv4 prefix, and Length of EA bits.",
      "ja": "EAビットのルールIPv6プレフィックス、ルールIPv4プレフィクス、および長さなどの基本的なマッピングルールと、必要に応じて、転送マッピングルール、O。"
    },
    {
      "indent": 3,
      "text": "o Hub-and-spoke mode or Mesh mode (if all traffic should be sent to the BR, or if direct CE-to-CE traffic should be supported).",
      "ja": "Oハブ・アンド・スポーク・モードまたはメッシュモード（すべてのトラフィックは、直接CE-に-CEトラフィックをサポートする必要がある場合、またはBRに送信する必要がある場合）。"
    },
    {
      "indent": 3,
      "text": "In addition, the MAP CE MUST be configured with the IPv6 address(es) of the MAP BR (Section 5.4).",
      "ja": "加えて、MAPのCEは、MAP BR（5.4）のIPv6アドレス（複数可）を設定する必要があります。"
    },
    {
      "indent": 0,
      "text": "7.1. MAP CE",
      "section_title": true,
      "ja": "7.1。 MAPのCE"
    },
    {
      "indent": 3,
      "text": "The MAP elements are set to values that are the same across all CEs within a MAP domain. The values may be configured in a variety of ways, including provisioning methods such as the Broadband Forum's \"TR-69\" Residential Gateway management interface [TR069], an XML-based object retrieved after IPv6 connectivity is established, or manual configuration by an administrator. IPv6 DHCP options for MAP configuration are defined in [RFC7598]. Other configuration and management methods may use the formats described by these options for consistency and convenience of implementation on CEs that support multiple configuration methods.",
      "ja": "MAP要素は、MAPドメイン内のすべてのCEにわたって同一である値に設定されています。値は、管理者によるブロードバンドフォーラムの「TR-69」レジデンシャルゲートウェイ管理インターフェイス[TR069]、IPv6接続が確立された後に検索されたXMLベースのオブジェクト、または手動設定などの方法をプロビジョニングを含む様々な方法で構成することができます。 MAP構成のIPv6 DHCPオプションは、[RFC7598]で定義されています。その他の構成および管理方法は、複数の設定方法をサポートするのCE上の一貫性及び実装の便宜のためにこれらのオプションによって記述形式を使用してもよいです。"
    },
    {
      "indent": 3,
      "text": "The only remaining provisioning information the CE requires in order to calculate the MAP IPv4 address and enable IPv4 connectivity is the IPv6 prefix for the CE. The End-user IPv6 prefix is configured as part of obtaining IPv6 Internet access.",
      "ja": "CEは、MAP IPv4アドレスを計算し、IPv4接続を可能にするために必要とする唯一の残りのプロビジョニング情報は、CEのためのIPv6プレフィックスです。エンドユーザーのIPv6プレフィックスは、IPv6インターネットへのアクセスを得るための一環として設定されています。"
    },
    {
      "indent": 3,
      "text": "The MAP provisioning parameters, and hence the IPv4 service itself, are tied to the associated End-user IPv6 prefix lifetime; thus, the MAP service is also tied to this in terms of authorization, accounting, etc.",
      "ja": "MAPプロビジョニング・パラメータ、ひいてはIPv4サービス自体は、関連するエンドユーザIPv6プレフィックスの寿命に接続されています。このように、MAPサービスは、許可、会計などの面でこれに接続されてい"
    },
    {
      "indent": 3,
      "text": "A single MAP CE MAY be connected to more than one MAP domain, just as any router may have more than one IPv4-enabled service-provider-facing interface and more than one set of associated addresses assigned by DHCP. Each domain within which a given CE operates would require its own set of MAP configuration elements and would generate its own IPv4 address. Each MAP domain requires a distinct End-user IPv6 prefix.",
      "ja": "単一MAP CEは、任意のルータが複数のIPv4対応サービス・プロバイダ向けのインターフェイスとDHCPによって割り当てられた関連するアドレスの複数のセットを持っていることと同じように、複数のMAPドメインに接続することができます。所与のCEが動作する各ドメインは、MAPの構成要素の独自のセットを必要とするであろうと、自身のIPv4アドレスを生成します。各MAPドメインは、個別のエンドユーザーのIPv6プレフィックスが必要です。"
    },
    {
      "indent": 3,
      "text": "MAP DHCP options are specified in [RFC7598].",
      "ja": "MAP DHCPオプションは、[RFC7598]で指定されています。"
    },
    {
      "indent": 0,
      "text": "7.2. MAP BR",
      "section_title": true,
      "ja": "7.2。 MAP BR"
    },
    {
      "indent": 3,
      "text": "The MAP BR MUST be configured with corresponding mapping rules for each MAP domain for which it is acting as a BR.",
      "ja": "MAPのBRは、BRとして作用しているため、各MAPドメインの対応するマッピングルールを設定する必要があります。"
    },
    {
      "indent": 3,
      "text": "For increased reliability and load balancing, the BR IPv6 address MAY be an anycast address shared across a given MAP domain. As MAP is stateless, any BR may be used at any time. If the BR IPv6 address is anycast, the relay MUST use this anycast IPv6 address as the source address in packets relayed to CEs.",
      "ja": "信頼性の向上と負荷分散のために、BR IPv6アドレスが与えられたMAPドメイン間で共有エニーキャストアドレスであってもよいです。 MAPはステートレスであるように、任意のBRは、いつでも使用することができます。 BR IPv6アドレスがエニーキャストである場合、リレーはCEに中継されるパケットの送信元アドレスとしてこのエニーキャストIPv6アドレスを使用しなければなりません。"
    },
    {
      "indent": 3,
      "text": "Since MAP uses provider address space, no specific routes need to be advertised externally for MAP to operate in IPv6 or IPv4 BGP. However, if anycast is used for the MAP IPv6 relays, the anycast addresses must be advertised in the service provider's IGP.",
      "ja": "MAPは、プロバイダのアドレス空間を使用するので、具体的なルートは、IPv6またはIPv4 BGPで動作するようにMAPのために外部に宣伝する必要はありません。エニーキャストは、MAPのIPv6リレーのために使用されている場合は、エニーキャストアドレスは、サービスプロバイダのIGPでアドバタイズする必要があります。"
    },
    {
      "indent": 0,
      "text": "8. Forwarding Considerations",
      "section_title": true,
      "ja": "8.転送の考慮事項"
    },
    {
      "indent": 3,
      "text": "Figure 1 depicts the overall MAP architecture with IPv4 users connected to a routed IPv6 network.",
      "ja": "図1は、ルーティングされたIPv6ネットワークに接続されたIPv4ユーザと全体MAPアーキテクチャを示します。"
    },
    {
      "indent": 3,
      "text": "MAP uses encapsulation mode as specified in [RFC2473].",
      "ja": "[RFC2473]で指定されるようにMAPは、カプセル化モードを使用します。"
    },
    {
      "indent": 3,
      "text": "For a shared IPv4 address, a MAP CE forwarding IPv4 packets from the LAN performs NAT44 functions first and creates appropriate NAT44 bindings. The resulting IPv4 packets MUST contain the source IPv4 address and source transport identifiers specified by the MAP provisioning parameters. The IPv4 packet is forwarded using the CE's MAP forwarding function. The IPv6 source and destination addresses MUST then be derived as per Section 5 of this document.",
      "ja": "共有IPv4アドレスのために、LANからIPv4パケットを転送するMAP CEは最初のNAT44機能を実行し、適切なNAT44バインディングを作成します。得られたIPv4パケットはMAPプロビジョニングパラメータで指定した送信元IPv4アドレスとソーストランスポート識別子を含まなければなりません。 IPv4パケットは、CEのMAP転送機能を使用して転送されます。 IPv6ソースアドレスと宛先アドレスは、このドキュメントのセクション5に従って導出されなければなりません。"
    },
    {
      "indent": 0,
      "text": "8.1. Receiving Rules",
      "section_title": true,
      "ja": "8.1。ルールを受け取ります"
    },
    {
      "indent": 3,
      "text": "A MAP CE receiving an IPv6 packet to its MAP IPv6 address sends this packet to the CE's MAP function, where it is decapsulated. The resulting IPv4 packet is then forwarded to the CE's NAT44 function, where it is handled according to the NAT's translation table.",
      "ja": "そのMAP IPv6アドレスにIPv6パケットを受信したMAPのCEは、それがカプセル化が解除されたCEのMAP機能、このパケットを送信します。結果としてIPv4パケットは、それがNATの変換テーブルに基づいて処理されるCEのNAT44機能に転送されます。"
    },
    {
      "indent": 3,
      "text": "A MAP BR receiving IPv6 packets selects a best matching MAP domain rule (Rule IPv6 prefix) based on a longest address match of the packet's IPv6 source address, as well as a match of the packet destination address against the configured BR IPv6 address(es). The selected MAP Rule allows the BR to determine the EA-bits from the source IPv6 address.",
      "ja": "IPv6パケットを受信したMAPのBRは、パケットのIPv6ソースアドレスの最長アドレス一致、並びに構成BR IPv6アドレス（ES）に対するパケットの送信先アドレスの一致に基づいて、最良のマッチングMAPドメインルール（ルールIPv6プレフィックス）を選択します。選択されたマップルールはBRは、ソースIPv6アドレスからEAビットを決定することを可能にします。"
    },
    {
      "indent": 3,
      "text": "To prevent spoofing of IPv4 addresses, any MAP node (CE and BR) MUST perform the following validation upon reception of a packet. First, the embedded IPv4 address or prefix, as well as the PSID (if any), are extracted from the source IPv6 address using the matching MAP Rule. These represent the range of what is acceptable as source IPv4 address and port. Second, the node extracts the source IPv4 address and port from the IPv4 packet encapsulated inside the IPv6 packet. If they are found to be outside the acceptable range, the packet MUST be silently discarded and a counter incremented to indicate that a potential spoofing attack may be underway. The source validation checks just described are not done for packets whose source IPv6 address is that of the BR (BR IPv6 address).",
      "ja": "IPv4アドレスのスプーフィングを防止するために、任意のMAPノード（CE及びBR）は、パケットを受信すると、以下の検証を実行しなければなりません。まず、埋め込まれたIPv4アドレスまたはプレフィックス、ならびにPSID（もしあれば）は、一致するマップ規則を使用して送信元IPv6アドレスから抽出されます。これらは、送信元IPv4アドレスとポートとして許容されるものの範囲を表します。第二に、ノードは、IPv6パケット内にカプセル化IPv4パケットから送信元IPv4アドレスとポートを抽出します。それらが許容範囲外であることが判明した場合、パケットは黙って破棄され、カウンタは、潜在的なスプーフィング攻撃が進行中であり得ることを示すために増加しなければなりません。ちょうど記述されたソース検証チェックは、その送信元のIPv6アドレスBR（BR IPv6アドレス）のものであるパケットのために行われていません。"
    },
    {
      "indent": 3,
      "text": "By default, the CE router MUST drop packets received on the MAP virtual interface (i.e., after decapsulation of IPv6) for IPv4 destinations not for its own IPv4 shared address, full IPv4 address, or IPv4 prefix.",
      "ja": "デフォルトでは、パケットを廃棄しなければならないCEルータがMAPの仮想インターフェイスで受信（すなわち、IPv6のカプセル化解除の後）のIPv4宛先のない、独自のIPv4アドレスの共有、完全なIPv4アドレス、またはIPv4プレフィックスの。"
    },
    {
      "indent": 0,
      "text": "8.2. ICMP",
      "section_title": true,
      "ja": "8.2。 ICMP"
    },
    {
      "indent": 3,
      "text": "ICMP messages should be supported in MAP domains. Hence, the NAT44 in the MAP CE MUST implement the behavior for ICMP messages conforming to the best current practice documented in [RFC5508].",
      "ja": "ICMPメッセージは、MAPドメインでサポートされなければなりません。したがって、MAPのCEにおけるNAT44は、[RFC5508]で文書化のベストプラクティス現在に準拠したICMPメッセージの動作を実装しなければなりません。"
    },
    {
      "indent": 3,
      "text": "If a MAP CE receives an ICMP message having the ICMP Identifier field in the ICMP header, the NAT44 in the MAP CE MUST rewrite this field to a specific value assigned from the port set. BRs and other CEs must handle this field in a way similar to the handling of a port number in the TCP/UDP header upon receiving the ICMP message with the ICMP Identifier field.",
      "ja": "MAPのCEは、ICMPヘッダ内のICMP識別子フィールドを有するICMPメッセージを受信した場合、MAP CEにNAT44は、ポートセットから割り当てられた特定の値にこのフィールドを書き換える必要があります。 BRと他のCEはICMP識別子フィールドとICMPメッセージを受信すると、TCP / UDPヘッダのポート番号の処理と同様に、このフィールドを処理しなければなりません。"
    },
    {
      "indent": 3,
      "text": "If a MAP node receives an ICMP error message without the ICMP Identifier field for errors that are detected inside an IPv6 tunnel, a node should relay the ICMP error message to the original source. This behavior SHOULD be implemented in accordance with Section 8 of [RFC2473].",
      "ja": "MAPノードがIPv6トンネル内に検出されるエラーのICMP識別子フィールドなしでICMPエラーメッセージを受信した場合、ノードは、元のソースにICMPエラーメッセージを中継しなければなりません。この現象は、[RFC2473]のセクション8に従って実施されるべきです。"
    },
    {
      "indent": 0,
      "text": "8.3. Fragmentation and Path MTU Discovery",
      "section_title": true,
      "ja": "8.3。フラグメンテーションとパスMTUディスカバリー"
    },
    {
      "indent": 3,
      "text": "Due to the different sizes of the IPv4 and IPv6 headers, handling the maximum packet size is relevant for the operation of any system connecting the two address families. There are three mechanisms to handle this issue: Path MTU Discovery (PMTUD), fragmentation, and transport-layer negotiation such as the TCP Maximum Segment Size (MSS) option [RFC879]. MAP uses all three mechanisms to deal with different cases.",
      "ja": "IPv4およびIPv6ヘッダの異なるサイズに、最大パケットサイズを処理する2つのアドレスファミリーを接続する任意のシステムの動作に関連します。このようTCP最大セグメントサイズ（MSS）オプション[RFC879]のようにパスMTUディスカバリ（PMTUD）、断片化、およびトランスポート層の交渉：3つのこの問題を処理するためのメカニズムがあります。 MAPは異なるケースに対処するためにすべての3つのメカニズムを使用しています。"
    },
    {
      "indent": 0,
      "text": "8.3.1. Fragmentation in the MAP Domain",
      "section_title": true,
      "ja": "8.3.1。 MAPドメイン内の断片化"
    },
    {
      "indent": 3,
      "text": "Encapsulating an IPv4 packet to carry it across the MAP domain will increase its size (typically by 40 bytes). It is strongly recommended that the MTU in the MAP domain be well managed and that the IPv6 MTU on the CE WAN-side interface be set so that no fragmentation occurs within the boundary of the MAP domain.",
      "ja": "MAPドメイン全体に運ぶためにIPv4パケットをカプセル化する（典型的には40バイト）のサイズを増大させます。強くMAPドメイン内のMTUをうまく管理すること、およびフラグメンテーションがMAPドメインの境界内に発生しないようにCE WAN側インターフェースのIPv6 MTUを設定することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "For an IPv4 packet entering a MAP domain, fragmentation is performed as described in Section 7.2 of [RFC2473].",
      "ja": "[RFC2473]のセクション7.2に記載されるようにMAPドメインを入力したIPv4パケットのために、断片化が行われます。"
    },
    {
      "indent": 3,
      "text": "The use of an anycast source address could lead to an ICMP error message generated on the path being sent to a different BR. Therefore, using a dynamically set tunnel MTU (Section 6.7 of [RFC2473]) is subject to IPv6 Path MTU black holes. A MAP BR using an anycast source address SHOULD NOT by default use Path MTU Discovery across the MAP domain.",
      "ja": "エニーキャスト送信元アドレスを使用することは、異なるBRに送信される経路上に生成されるICMPエラーメッセージにつながる可能性があります。したがって、動的に設定されたトンネルを使用するMTU（[RFC2473]のセクション6.7）のIPv6パスMTUブラックホールの対象です。エニーキャスト送信元アドレスを使用してMAPのBRはないはずMAPドメイン間でデフォルトの使用のパスMTUディスカバリによって。"
    },
    {
      "indent": 3,
      "text": "Multiple BRs using the same anycast source address could send fragmented packets to the same CE at the same time. If the fragmented packets from different BRs happen to use the same fragment ID, incorrect reassembly might occur. See [RFC4459] for an analysis of the problem; Section 3.4 of [RFC4459] suggests solving the problem by fragmenting the inner packet.",
      "ja": "同じエニーキャスト送信元アドレスを使用して複数のBRは同時に同じCEに断片化されたパケットを送信することができます。異なるのBRからの断片化されたパケットは、同じフラグメントIDを使用してしまった場合、不正な再構築が発生することがあります。問題の分析のために[RFC4459]を参照してください。 [RFC4459]の3.4節には、内部パケットを断片化することで問題を解決示唆しています。"
    },
    {
      "indent": 0,
      "text": "8.3.2. Receiving IPv4 Fragments on the MAP Domain Borders",
      "section_title": true,
      "ja": "8.3.2。 MAPドメイン国境でIPv4フラグメントを受け取ります"
    },
    {
      "indent": 3,
      "text": "The forwarding of an IPv4 packet received from outside of the MAP domain requires the IPv4 destination address and the transport-protocol destination port. The transport-protocol information is only available in the first fragment received. As described in Section 5.3.3 of [RFC6346], a MAP node receiving an IPv4 fragmented packet from outside has to reassemble the packet before sending the packet onto the MAP link. If the first packet received contains the transport-protocol information, it is possible to optimize this behavior by using a cache and forwarding the fragments unchanged. Implementers of MAP should be aware that there are a number of well-known attacks against IP fragmentation; see [RFC1858] and [RFC3128]. Implementers should also be aware of additional issues with reassembling packets at high rates, as described in [RFC4963].",
      "ja": "MAPドメインの外部から受信したIPv4パケットの転送は、IPv4宛先アドレスおよびトランスポートプロトコルの宛先ポートを必要とします。トランスポートプロトコル情報は、受信された最初のフラグメントでのみ利用可能です。 [RFC6346]のセクション5.3.3に記載したように、外部からのIPv4フラグメントパケットを受信したMAPノードがMAPリンクにパケットを送信する前にパケットを再構築しなければなりません。受信した最初のパケットは、トランスポートプロトコル情報が含まれている場合は、キャッシュを使用し、そのままのフラグメントを転送することによって、この動作を最適化することが可能です。 MAPの実装者は、IPフラグメンテーションに対するよく知られた攻撃の数があることに注意する必要があります。 [RFC1858]と[RFC3128]を参照してください。 [RFC4963]で説明したように実装者はまた、高いレートでパケットを再構築すると、追加の問題に注意する必要があります。"
    },
    {
      "indent": 0,
      "text": "8.3.3. Sending IPv4 Fragments to the Outside",
      "section_title": true,
      "ja": "8.3.3。外部へのIPv4のフラグメントを送信"
    },
    {
      "indent": 3,
      "text": "If two IPv4 hosts behind two different MAP CEs with the same IPv4 address send fragments to an IPv4 destination host outside the domain, those hosts may use the same IPv4 fragmentation identifier, resulting in incorrect reassembly of the fragments at the destination host. Given that the IPv4 fragmentation identifier is a 16-bit field, it could be used similarly to port ranges. A MAP CE could rewrite the IPv4 fragmentation identifier to be within its allocated port set, if the resulting fragment identifier space was large enough related to the rate at which fragments were sent. However, splitting the identifier space in this fashion would increase the probability of reassembly collisions for all connections through the Customer Premises Equipment (CPE). See also [RFC6864].",
      "ja": "同じIPv4アドレスを持つ2つの異なるMAPのCEの背後にある2つのIPv4ホストは、ドメイン外のIPv4宛先ホストにフラグメントを送信する場合、それらのホストは、宛先ホストの断片の不正確な再組み立てをもたらす、同じIPv4の断片化識別子を使用してもよいです。 IPv4の断片識別子は16ビットのフィールドであることを考えると、それがポート範囲と同様に使用することができます。得られたフラグメント識別子空間は、フラグメントが送信されたレートに関連する十分な大きさであればMAP CEは、その割り当てられたポートのセット内にあるとのIPv4断片識別子を書き換えることができました。しかし、この方法で識別子空間を分割することは顧客宅内機器（CPE）を介してすべての接続のための再構築の衝突の確率を増加するであろう。また、[RFC6864]を参照してください。"
    },
    {
      "indent": 0,
      "text": "9. NAT44 Considerations",
      "section_title": true,
      "ja": "9. NAT44の考慮事項"
    },
    {
      "indent": 3,
      "text": "The NAT44 implemented in the MAP CE SHOULD conform to the behavior and best current practices documented in [RFC4787], [RFC5508], and [RFC5382]. In MAP address-sharing mode (determined by the MAP domain / rule configuration parameters), the operation of the NAT44 MUST be restricted to the available port numbers derived via the Basic Mapping Rule.",
      "ja": "NAT44は、動作に準拠して、[RFC4787]、[RFC5508]、および[RFC5382]で文書化のベストプラクティス現在べきでMAPのCEに実装されています。 （MAPドメイン/ルールの構成パラメータによって決定される）MAPアドレスを共有モードでは、NAT44の動作は基本的なマッピングルールを介して誘導された使用可能なポート番号に制限しなければなりません。"
    },
    {
      "indent": 0,
      "text": "10. Security Considerations",
      "section_title": true,
      "ja": "10.セキュリティの考慮事項"
    },
    {
      "indent": 3,
      "text": "Spoofing attacks: With consistency checks between IPv4 and IPv6 sources that are performed on IPv4/IPv6 packets received by MAP nodes, MAP does not introduce any new opportunity for spoofing attacks that would not already exist in IPv6.",
      "ja": "スプーフィング攻撃は：MAPノードが受信したIPv4 / IPv6パケット上で実行されているIPv4とIPv6ソース間の整合性チェックでは、MAPは既にIPv6のには存在しないスプーフィング攻撃のための新たな機会を導入しません。"
    },
    {
      "indent": 3,
      "text": "Denial-of-service attacks: In MAP domains where IPv4 addresses are shared, the fact that IPv4 datagram reassembly may be necessary introduces an opportunity for DoS attacks. This is inherent in address sharing and is common with other address-sharing approaches such as DS-Lite and NAT64/DNS64. The best protection against such attacks is to accelerate IPv6 deployment so that address sharing is used less and less where MAP is supported.",
      "ja": "サービス拒否攻撃：IPv4アドレスが共有されているMAPドメインでは、IPv4のデータグラムの再構築が必要になるかもしれないという事実は、DoS攻撃の機会を紹介しています。これは、アドレス共有に固有であり、そのようなDS-LiteのとNAT64 / DNS64などの他のアドレスを共有するアプローチと共通です。 MAPが支持され、そのアドレスの共有が少なくを使用しているので、このような攻撃に対する最善の防御は、IPv6の展開を加速することです。"
    },
    {
      "indent": 3,
      "text": "Routing loop attacks: Routing loop attacks may exist in some \"automatic tunneling\" scenarios and are documented in [RFC6324]. They cannot exist with MAP because each BR checks that the IPv6 source address of a received IPv6 packet is a CE address based on the Forwarding Mapping Rule.",
      "ja": "ループ攻撃をルーティング：ルーティングループ攻撃は、いくつかの「自動トンネリング」のシナリオに存在してもよく、[RFC6324]に記載されています。各BRは、受信したIPv6パケットのIPv6ソースアドレスが転送マッピングルールに基づいて、CEアドレスであることをチェックするので、彼らはMAPで存在することができません。"
    },
    {
      "indent": 3,
      "text": "Attacks facilitated by restricted port set: From hosts that are not subject to ingress filtering [RFC2827], an attacker can inject spoofed packets during ongoing transport connections [RFC4953] [RFC5961] [RFC6056]. The attacks depend on guessing which ports are currently used by target hosts. Using an unrestricted port set is preferable, i.e., using native IPv6 connections that are not subject to MAP port-range restrictions. To minimize these types of attacks when using a restricted port set, the MAP CE's NAT44 filtering behavior SHOULD be \"Address-Dependent Filtering\" as described in Section 5 of [RFC4787]. Furthermore, the MAP CEs SHOULD use a DNS transport proxy [RFC5625] function to handle DNS traffic and source such traffic from IPv6 interfaces not assigned to MAP.",
      "ja": "制限されたポートによって容易に攻撃が設定：イングレスフィルタリング[RFC2827]を受けないホストは、攻撃者は、進行中のトランスポート接続[RFC4953]、[RFC5961]、[RFC6056]の間、スプーフィングされたパケットを注入することができるから。攻撃は、ポートは現在、ターゲットホストで使用されている推測に依存しています。無制限のポートセットを使用してMAPポート範囲の制限を受けないネイティブIPv6接続を使用して、すなわち、好ましいです。 [RFC4787]のセクション5で説明したように制限されたポートのセットを使用した場合、これらのタイプの攻撃を最小限に抑えるために、MAP CEのNAT44フィルタリング動作は、「アドレス依存フィルタリング」である必要があります。また、地図のCEは、IPv6からのDNSトラフィックとソースそのようなトラフィックはMAPに割り当てられていないインタフェースを処理するためのDNS転送プロキシ[RFC5625]関数を使用すべきです。"
    },
    {
      "indent": 3,
      "text": "[RFC6269] outlines general issues with IPv4 address sharing.",
      "ja": "[RFC6269]は、IPv4アドレスの共有と一般的な問題の概要を説明します。"
    },
    {
      "indent": 0,
      "text": "11. References",
      "section_title": true,
      "ja": "11.参考文献"
    },
    {
      "indent": 0,
      "text": "11.1. Normative References",
      "section_title": true,
      "ja": "11.1。引用規格"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <http://www.rfc-editor.org/info/rfc2119>.",
      "ja": "[RFC2119]ブラドナーの、S.、 \"要件レベルを示すためにRFCsにおける使用のためのキーワード\"、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、<http://www.rfc-editor.org/info/ RFC2119>。"
    },
    {
      "indent": 3,
      "text": "[RFC2473] Conta, A. and S. Deering, \"Generic Packet Tunneling in IPv6 Specification\", RFC 2473, DOI 10.17487/RFC2473, December 1998, <http://www.rfc-editor.org/info/rfc2473>.",
      "ja": "[RFC2473]コンタ、A.、およびS.デアリング、 \"IPv6の仕様の汎用パケットトンネリング\"、RFC 2473、DOI 10.17487 / RFC2473、1998年12月、<http://www.rfc-editor.org/info/rfc2473>。"
    },
    {
      "indent": 3,
      "text": "[RFC5625] Bellis, R., \"DNS Proxy Implementation Guidelines\", BCP 152, RFC 5625, DOI 10.17487/RFC5625, August 2009, <http://www.rfc-editor.org/info/rfc5625>.",
      "ja": "[RFC5625]ベリス、R.、 \"DNSプロキシ実装ガイドライン\"、BCP 152、RFC 5625、DOI 10.17487 / RFC5625、2009年8月、<http://www.rfc-editor.org/info/rfc5625>。"
    },
    {
      "indent": 0,
      "text": "11.2. Informative References",
      "section_title": true,
      "ja": "11.2。参考文献"
    },
    {
      "indent": 3,
      "text": "[MAP-Deploy] Sun, Q., Chen, M., Chen, G., Tsou, T., and S. Perreault, \"Mapping of Address and Port (MAP) - Deployment Considerations\", Work in Progress, draft-ietf-softwire-map-deployment-06, June 2015.",
      "ja": "[MAP-デプロイ]サン、Q.、チェン、M.、チェン、G.、ツオウ、T.、およびS.ペロー、 \"マッピングアドレスおよびポート（MAP）の - 展開考慮事項\"、進行中で働いて、draft- IETF-softwireマップ展開-06、2015年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC879] Postel, J., \"The TCP Maximum Segment Size and Related Topics\", RFC 879, DOI 10.17487/RFC0879, November 1983, <http://www.rfc-editor.org/info/rfc879>.",
      "ja": "[RFC879]ポステル、J.、 \"TCP最大セグメントサイズと関連項目\"、RFC 879、DOI 10.17487 / RFC0879、1983年11月、<http://www.rfc-editor.org/info/rfc879>。"
    },
    {
      "indent": 3,
      "text": "[RFC1858] Ziemba, G., Reed, D., and P. Traina, \"Security Considerations for IP Fragment Filtering\", RFC 1858, DOI 10.17487/RFC1858, October 1995, <http://www.rfc-editor.org/info/rfc1858>.",
      "ja": "[RFC1858] Ziemba、G.、リード、D.、およびP. Trainaの、 \"IPフラグメントフィルタリングのためのセキュリティの考慮事項\"、RFC 1858、DOI 10.17487 / RFC1858、1995年10月、<http://www.rfc-editor.org /情報/ rfc1858>。"
    },
    {
      "indent": 3,
      "text": "[RFC1933] Gilligan, R. and E. Nordmark, \"Transition Mechanisms for IPv6 Hosts and Routers\", RFC 1933, DOI 10.17487/RFC1933, April 1996, <http://www.rfc-editor.org/info/rfc1933>.",
      "ja": "[RFC1933]ギリガン、R.およびE. Nordmarkと、 \"IPv6ホストとルータの移行メカニズム\"、RFC 1933、DOI 10.17487 / RFC1933、1996年4月、<http://www.rfc-editor.org/info/rfc1933> 。"
    },
    {
      "indent": 3,
      "text": "[RFC2529] Carpenter, B. and C. Jung, \"Transmission of IPv6 over IPv4 Domains without Explicit Tunnels\", RFC 2529, DOI 10.17487/RFC2529, March 1999, <http://www.rfc-editor.org/info/rfc2529>.",
      "ja": "[RFC2529]カーペンター、B.及びC.チョン、 \"明示的なトンネルなしでのIPv4ドメイン上のIPv6の送信\"、RFC 2529、DOI 10.17487 / RFC2529、1999年3月<http://www.rfc-editor.org/info/ rfc2529>。"
    },
    {
      "indent": 3,
      "text": "[RFC2663] Srisuresh, P. and M. Holdrege, \"IP Network Address Translator (NAT) Terminology and Considerations\", RFC 2663, DOI 10.17487/RFC2663, August 1999, <http://www.rfc-editor.org/info/rfc2663>.",
      "ja": "[RFC2663] Srisuresh、P.とM.ホールドレッジ、 \"IPネットワークアドレス変換（NAT）用語と考慮事項\"、RFC 2663、DOI 10.17487 / RFC2663、1999年8月、<http://www.rfc-editor.org/info / RFC2663>。"
    },
    {
      "indent": 3,
      "text": "[RFC2827] Ferguson, P. and D. Senie, \"Network Ingress Filtering: Defeating Denial of Service Attacks which employ IP Source Address Spoofing\", BCP 38, RFC 2827, DOI 10.17487/RFC2827, May 2000, <http://www.rfc-editor.org/info/rfc2827>.",
      "ja": "[RFC2827]ファーガソン、P.およびD. Senie、 \"ネットワーク入力フィルタリング：IP Source Address Spoofingを使うサービス拒否攻撃を破り\" を、BCP 38、RFC 2827、DOI 10.17487 / RFC2827、2000年5月、<のhttp：// WWW .rfc-editor.org /情報/ RFC2827>。"
    },
    {
      "indent": 3,
      "text": "[RFC3056] Carpenter, B. and K. Moore, \"Connection of IPv6 Domains via IPv4 Clouds\", RFC 3056, DOI 10.17487/RFC3056, February 2001, <http://www.rfc-editor.org/info/rfc3056>.",
      "ja": "[RFC3056]カーペンター、B.およびK.ムーア、 \"IPv4の雲を介したIPv6ドメインの接続\"、RFC 3056、DOI 10.17487 / RFC3056、2001年2月、<http://www.rfc-editor.org/info/rfc3056> 。"
    },
    {
      "indent": 3,
      "text": "[RFC3128] Miller, I., \"Protection Against a Variant of the Tiny Fragment Attack (RFC 1858)\", RFC 3128, DOI 10.17487/RFC3128, June 2001, <http://www.rfc-editor.org/info/rfc3128>.",
      "ja": "[RFC3128]ミラー、I.、 \"タイニーフラグメント攻撃（RFC 1858）のバリアントに対する保護\"、RFC 3128、DOI 10.17487 / RFC3128、2001年6月、<http://www.rfc-editor.org/info/ rfc3128>。"
    },
    {
      "indent": 3,
      "text": "[RFC3633] Troan, O. and R. Droms, \"IPv6 Prefix Options for Dynamic Host Configuration Protocol (DHCP) version 6\", RFC 3633, DOI 10.17487/RFC3633, December 2003, <http://www.rfc-editor.org/info/rfc3633>.",
      "ja": "[RFC3633] Troan、O.とR. Droms、 \"IPv6のプレフィックスオプション動的ホスト構成プロトコル（DHCP）バージョン6のために\"、RFC 3633、DOI 10.17487 / RFC3633、2003年12月、<のhttp：//www.rfc-editor。組織/情報/ rfc3633>。"
    },
    {
      "indent": 3,
      "text": "[RFC4213] Nordmark, E. and R. Gilligan, \"Basic Transition Mechanisms for IPv6 Hosts and Routers\", RFC 4213, DOI 10.17487/RFC4213, October 2005, <http://www.rfc-editor.org/info/rfc4213>.",
      "ja": "[RFC4213] Nordmarkと、E.およびR.ギリガン、 \"IPv6ホストとルータのための基本的な移行メカニズム\"、RFC 4213、DOI 10.17487 / RFC4213、2005年10月、<http://www.rfc-editor.org/info/rfc4213 >。"
    },
    {
      "indent": 3,
      "text": "[RFC4459] Savola, P., \"MTU and Fragmentation Issues with In-the-Network Tunneling\", RFC 4459, DOI 10.17487/RFC4459, April 2006, <http://www.rfc-editor.org/info/rfc4459>.",
      "ja": "[RFC4459] Savola、P.、 \"MTUと断片化の問題で-ネットワークトンネリングを使用した\"、RFC 4459、DOI 10.17487 / RFC4459、2006年4月、<http://www.rfc-editor.org/info/rfc4459> 。"
    },
    {
      "indent": 3,
      "text": "[RFC4632] Fuller, V. and T. Li, \"Classless Inter-domain Routing (CIDR): The Internet Address Assignment and Aggregation Plan\", BCP 122, RFC 4632, DOI 10.17487/RFC4632, August 2006, <http://www.rfc-editor.org/info/rfc4632>.",
      "ja": "[RFC4632]フラー、V.およびT.李、 \"クラスレスドメイン間ルーティング（CIDR）：インターネットアドレスの割り当てと集計プラン\"、BCP 122、RFC 4632、DOI 10.17487 / RFC4632、2006年8月、<のhttp：// www.rfc-editor.org/info/rfc4632>。"
    },
    {
      "indent": 3,
      "text": "[RFC4787] Audet, F., Ed., and C. Jennings, \"Network Address Translation (NAT) Behavioral Requirements for Unicast UDP\", BCP 127, RFC 4787, DOI 10.17487/RFC4787, January 2007, <http://www.rfc-editor.org/info/rfc4787>.",
      "ja": "[RFC4787] Audet、F.、エド、およびC.ジェニングス、 \"ネットワークアドレス変換（NAT）ユニキャストUDPのための行動の要件\"、BCP 127、RFC 4787、DOI 10.17487 / RFC4787、2007年1月、<HTTP：// WWW .rfc-editor.org /情報/ RFC4787>。"
    },
    {
      "indent": 3,
      "text": "[RFC4862] Thomson, S., Narten, T., and T. Jinmei, \"IPv6 Stateless Address Autoconfiguration\", RFC 4862, DOI 10.17487/RFC4862, September 2007, <http://www.rfc-editor.org/info/rfc4862>.",
      "ja": "[RFC4862]トムソン、S.、Narten氏、T.、およびT.神明、 \"IPv6のステートレスアドレス自動設定\"、RFC 4862、DOI 10.17487 / RFC4862、2007年9月、<http://www.rfc-editor.org/info / RFC4862>。"
    },
    {
      "indent": 3,
      "text": "[RFC4953] Touch, J., \"Defending TCP Against Spoofing Attacks\", RFC 4953, DOI 10.17487/RFC4953, July 2007, <http://www.rfc-editor.org/info/rfc4953>.",
      "ja": "[RFC4953]タッチ、J.、RFC 4953、DOI 10.17487 / RFC4953、2007年7月、<http://www.rfc-editor.org/info/rfc4953> \"スプーフィング攻撃に対してTCPを防衛\"。"
    },
    {
      "indent": 3,
      "text": "[RFC4963] Heffner, J., Mathis, M., and B. Chandler, \"IPv4 Reassembly Errors at High Data Rates\", RFC 4963, DOI 10.17487/RFC4963, July 2007, <http://www.rfc-editor.org/info/rfc4963>.",
      "ja": "[RFC4963] Heffner、J.、マティス、M.、およびB.チャンドラー、 \"高速データレートでのIPv4の再構築エラー\"、RFC 4963、DOI 10.17487 / RFC4963、2007年7月、<のhttp：//www.rfc-editor。組織/情報/ rfc4963>。"
    },
    {
      "indent": 3,
      "text": "[RFC5214] Templin, F., Gleeson, T., and D. Thaler, \"Intra-Site Automatic Tunnel Addressing Protocol (ISATAP)\", RFC 5214, DOI 10.17487/RFC5214, March 2008, <http://www.rfc-editor.org/info/rfc5214>.",
      "ja": "[RFC5214]テンプリン、F.、グリーソン、T.、およびD.ターラーは、 \"イントラサイト自動トンネルアドレス指定プロトコル（ISATAP）\"、RFC 5214、DOI 10.17487 / RFC5214、2008年3月、<のhttp：//www.rfc -editor.org/info/rfc5214>。"
    },
    {
      "indent": 3,
      "text": "[RFC5382] Guha, S., Ed., Biswas, K., Ford, B., Sivakumar, S., and P. Srisuresh, \"NAT Behavioral Requirements for TCP\", BCP 142, RFC 5382, DOI 10.17487/RFC5382, October 2008, <http://www.rfc-editor.org/info/rfc5382>.",
      "ja": "[RFC5382]グハ、S.編、ビスワス、K.、フォード、B.、シバクマー、S.、およびP. Srisuresh、 \"TCPのためのNAT行動要件\"、BCP 142、RFC 5382、DOI 10.17487 / RFC5382、 2008年10月、<http://www.rfc-editor.org/info/rfc5382>。"
    },
    {
      "indent": 3,
      "text": "[RFC5508] Srisuresh, P., Ford, B., Sivakumar, S., and S. Guha, \"NAT Behavioral Requirements for ICMP\", BCP 148, RFC 5508, DOI 10.17487/RFC5508, April 2009, <http://www.rfc-editor.org/info/rfc5508>.",
      "ja": "[RFC5508] Srisuresh、P.、フォード、B.、シバクマー、S.、およびS.グハ、 \"ICMPのためのNATの行動の要件\"、BCP 148、RFC 5508、DOI 10.17487 / RFC5508、2009年4月、<のhttp：// www.rfc-editor.org/info/rfc5508>。"
    },
    {
      "indent": 3,
      "text": "[RFC5961] Ramaiah, A., Stewart, R., and M. Dalal, \"Improving TCP's Robustness to Blind In-Window Attacks\", RFC 5961, DOI 10.17487/RFC5961, August 2010, <http://www.rfc-editor.org/info/rfc5961>.",
      "ja": "[RFC5961] Ramaiah、A.、スチュワート、R.、およびM. Dalal、 \"ブラインドインウィンドウ攻撃へのTCPの頑健性を向上させる\"、RFC 5961、DOI 10.17487 / RFC5961、2010年8月、<のhttp：//www.rfc- editor.org/info/rfc5961>。"
    },
    {
      "indent": 3,
      "text": "[RFC5969] Townsley, W. and O. Troan, \"IPv6 Rapid Deployment on IPv4 Infrastructures (6rd) -- Protocol Specification\", RFC 5969, DOI 10.17487/RFC5969, August 2010, <http://www.rfc-editor.org/info/rfc5969>.",
      "ja": "[RFC5969] Townsley、W.およびO. Troan、 \"IPv4の基盤のIPv6のRapid Deployment（6rd） - プロトコル仕様\"、RFC 5969、DOI 10.17487 / RFC5969、2010年8月、<HTTP：//www.rfc-editor。組織/情報/ rfc5969>。"
    },
    {
      "indent": 3,
      "text": "[RFC6056] Larsen, M. and F. Gont, \"Recommendations for Transport-Protocol Port Randomization\", BCP 156, RFC 6056, DOI 10.17487/RFC6056, January 2011, <http://www.rfc-editor.org/info/rfc6056>.",
      "ja": "[RFC6056]ラーセン、M.とF. Gont、 \"トランスポート・プロトコルポートランダム化のための提言\"、BCP 156、RFC 6056、DOI 10.17487 / RFC6056、2011年1月、<http://www.rfc-editor.org/info / rfc6056>。"
    },
    {
      "indent": 3,
      "text": "[RFC6250] Thaler, D., \"Evolution of the IP Model\", RFC 6250, DOI 10.17487/RFC6250, May 2011, <http://www.rfc-editor.org/info/rfc6250>.",
      "ja": "[RFC6250]ターラー、D.、 \"IPモデルの進化\"、RFC 6250、DOI 10.17487 / RFC6250、2011年5月、<http://www.rfc-editor.org/info/rfc6250>。"
    },
    {
      "indent": 3,
      "text": "[RFC6269] Ford, M., Ed., Boucadair, M., Durand, A., Levis, P., and P. Roberts, \"Issues with IP Address Sharing\", RFC 6269, DOI 10.17487/RFC6269, June 2011, <http://www.rfc-editor.org/info/rfc6269>.",
      "ja": "[RFC6269]フォード、M.、エド。、Boucadair、M.、デュラン、A.、リーバイス、P.、およびP.ロバーツ、RFC 6269 \"IPアドレスの共有に関する問題\"、DOI 10.17487 / RFC6269、2011年6月、 <http://www.rfc-editor.org/info/rfc6269>。"
    },
    {
      "indent": 3,
      "text": "[RFC6324] Nakibly, G. and F. Templin, \"Routing Loop Attack Using IPv6 Automatic Tunnels: Problem Statement and Proposed Mitigations\", RFC 6324, DOI 10.17487/RFC6324, August 2011, <http://www.rfc-editor.org/info/rfc6324>.",
      "ja": "[RFC6324] Nakibly、G.およびF.テンプリン、 \"IPv6の自動トンネルを使用してルーティングループ攻撃：問題文と提案た軽減\"、RFC 6324、DOI 10.17487 / RFC6324、2011年8月、<のhttp：//www.rfc-editor。組織/情報/ rfc6324>。"
    },
    {
      "indent": 3,
      "text": "[RFC6333] Durand, A., Droms, R., Woodyatt, J., and Y. Lee, \"Dual-Stack Lite Broadband Deployments Following IPv4 Exhaustion\", RFC 6333, DOI 10.17487/RFC6333, August 2011, <http://www.rfc-editor.org/info/rfc6333>.",
      "ja": "[RFC6333]デュラン、A.、Droms、R.、Woodyatt、J.、およびY.リー、 \"IPv4の枯渇に続いてデュアルスタックLiteのブロードバンドの展開\"、RFC 6333、DOI 10.17487 / RFC6333、2011年8月、<のhttp：/ /www.rfc-editor.org/info/rfc6333>。"
    },
    {
      "indent": 3,
      "text": "[RFC6335] Cotton, M., Eggert, L., Touch, J., Westerlund, M., and S. Cheshire, \"Internet Assigned Numbers Authority (IANA) Procedures for the Management of the Service Name and Transport Protocol Port Number Registry\", BCP 165, RFC 6335, DOI 10.17487/RFC6335, August 2011, <http://www.rfc-editor.org/info/rfc6335>.",
      "ja": "[RFC6335]コットン、M.、エッゲルト、L.、タッチ、J.、ウェスター、M.、およびS.チェシャー、「IANA（Internet Assigned Numbers Authority）のサービス名とトランスポートプロトコルポート番号レジストリの管理のための手順」、BCP 165、RFC 6335、DOI 10.17487 / RFC6335、2011年8月、<http://www.rfc-editor.org/info/rfc6335>。"
    },
    {
      "indent": 3,
      "text": "[RFC6346] Bush, R., Ed., \"The Address plus Port (A+P) Approach to the IPv4 Address Shortage\", RFC 6346, DOI 10.17487/RFC6346, August 2011, <http://www.rfc-editor.org/info/rfc6346>.",
      "ja": "[RFC6346]ブッシュ、R.、エド、 \"住所プラスIPv4アドレスの不足にポート（A + P）アプローチ\"、RFC 6346、DOI 10.17487 / RFC6346、2011年8月、<のhttp：。//www.rfc-editor .ORG /情報/ rfc6346>。"
    },
    {
      "indent": 3,
      "text": "[RFC6864] Touch, J., \"Updated Specification of the IPv4 ID Field\", RFC 6864, DOI 10.17487/RFC6864, February 2013, <http://www.rfc-editor.org/info/rfc6864>.",
      "ja": "[RFC6864]をタッチし、J.、 \"IPv4のIDフィールドの更新仕様\"、RFC 6864、DOI 10.17487 / RFC6864、2013年2月、<http://www.rfc-editor.org/info/rfc6864>。"
    },
    {
      "indent": 3,
      "text": "[RFC7598] Mrugalski, T., Troan, O., Farrer, I., Perreault, S., Dec, W., Bao, C., Yeh, L., and X. Deng, \"DHCPv6 Options for Configuration of Softwire Address and Port-Mapped Clients\", RFC 7598, DOI 10.17487/RFC7598, July 2015, <http://www.rfc-editor.org/info/rfc7598>.",
      "ja": "[RFC7598] Softwireの構成のためMrugalski、T.、Troan、O.、ファラー、I.、ペロー、S.、12月、W.、バオ、C.、葉、L.、及びX.トウ、「DHCPv6のオプションアドレスとポートマップクライアント」、RFC 7598、DOI 10.17487 / RFC7598、2015年7月、<http://www.rfc-editor.org/info/rfc7598>。"
    },
    {
      "indent": 3,
      "text": "[Solutions-4v6] Boucadair, M., Ed., Matsushima, S., Lee, Y., Bonness, O., Borges, I., and G. Chen, \"Motivations for Carrier-side Stateless IPv4 over IPv6 Migration Solutions\", Work in Progress, draft-ietf-softwire-stateless-4v6-motivation-05, November 2012.",
      "ja": "【解決-4v6] Boucadair、M.編、松島、S.、リー、Y.、Bonness、O.、ボルヘス、I.、およびG.チェン、「IPv6の移行ソリューションに比べてキャリア側ステートレスIPv4の動機」ドラフト-IETF-softwire-ステートレス-4v6-動機-05、2012年11月、進行中の作業。"
    },
    {
      "indent": 3,
      "text": "[TR069] Broadband Forum TR-069, \"CPE WAN Management Protocol\", Amendment 5, CWMP Version: 1.4, November 2013, <https://www.broadband-forum.org>.",
      "ja": "[TR069]ブロードバンドフォーラムTR069、 \"CPE WAN管理プロトコル\"、改正5、CWMPバージョン：1.4、2013年11月、<https://www.broadband-forum.org>。"
    },
    {
      "indent": 0,
      "text": "Appendix A. Examples",
      "ja": "付録A.例"
    },
    {
      "indent": 3,
      "text": "Example 1 - Basic Mapping Rule:",
      "ja": "例1  - 基本マッピングルール："
    },
    {
      "indent": 3,
      "text": "Given the MAP domain information and an IPv6 address of an endpoint:",
      "ja": "MAPドメイン情報とエンドポイントのIPv6アドレスを考えます："
    },
    {
      "indent": 3,
      "text": "End-user IPv6 prefix: 2001:db8:0012:3400::/56 Basic Mapping Rule: {2001:db8:0000::/40 (Rule IPv6 prefix), 192.0.2.0/24 (Rule IPv4 prefix), 16 (Rule EA-bit length)} PSID length: (16 - (32 - 24) = 8 (sharing ratio of 256) PSID offset: 6 (default)",
      "ja": "エンドユーザーのIPv6プレフィックス：2001：DB8：0012：3400 :: / 56基本マッピング・ルール：{2001：DB8：0000 :: / 40（ルールIPv6プレフィックス）、192.0.2.0/24（ルールのIPv4プレフィックス）、16（ルールEAビット長）} PSID長さ：（16  - （32から24）= 8 PSID（256の共有比）オフセット：6（デフォルト）"
    },
    {
      "indent": 3,
      "text": "A MAP node (CE or BR) can, via the BMR or equivalent FMR, determine the IPv4 address and port set as shown below:",
      "ja": "MAPノード（CEまたはBR）は、BMRまたは同等FMRを介して、IPv4アドレス及びポートを決定することができ、以下に示すように設定します。"
    },
    {
      "indent": 3,
      "text": "EA bits offset: 40 IPv4 suffix bits (p) Length of IPv4 address (32) - IPv4 prefix length (24) = 8 IPv4 address: 192.0.2.18 (0xc0000212) PSID start: 40 + p = 40 + 8 = 48 PSID length: o - p = (56 - 40) - 8 = 8 PSID: 0x34",
      "ja": "EAビットがオフセット：IPv4アドレスの40個のIPv4サフィックスビット（P）の長さ（32） -  IPv4のプレフィックス長（24）= 8 IPv4アドレス：192.0.2.18（0xc0000212）PSIDスタート：40 + P = 40 + 8 = 48 PSID長：O  -  P =（ -  40 56） -  8 = 8 PSID：0x34の"
    },
    {
      "indent": 3,
      "text": "Available ports (63 ranges): 1232-1235, 2256-2259, ...... , 63696-63699, 64720-64723",
      "ja": "利用可能なポート（63レンジ）：1232年から1235年、2256年から2259年、......、63696から63699、64720から64723"
    },
    {
      "indent": 3,
      "text": "The BMR information allows a MAP CE to determine (complete) its IPv6 address within the indicated IPv6 prefix.",
      "ja": "BMR情報は、MAP CEが示さIPv6プレフィックス内の（完全な）そのIPv6アドレスを決定することを可能にします。"
    },
    {
      "indent": 3,
      "text": "IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0034",
      "ja": "MAPのCEのIPv6アドレス：2001：DB8：3400：0000：0012 C000：0034：0212"
    },
    {
      "indent": 3,
      "text": "Example 2 - BR:",
      "ja": "例2  -  BR："
    },
    {
      "indent": 3,
      "text": "Another example is a MAP BR, configured with the following FMR when receiving a packet with the following characteristics:",
      "ja": "別の例では、次の特性を持つパケットを受信した場合、次のFMRで構成MAPのBRです。"
    },
    {
      "indent": 3,
      "text": "IPv4 source address: 1.2.3.4 (0x01020304) IPv4 source port: 80 IPv4 destination address: 192.0.2.18 (0xc0000212) IPv4 destination port: 1232",
      "ja": "IPv4ソースアドレス：1.2.3.4（0x01020304）IPv4ソースポート80のIPv4宛先アドレス：192.0.2.18（0xc0000212）のIPv4宛先ポート：1232"
    },
    {
      "indent": 3,
      "text": "Forwarding Mapping Rule: {2001:db8::/40 (Rule IPv6 prefix), 192.0.2.0/24 (Rule IPv4 prefix), 16 (Rule EA-bit length)}",
      "ja": "転送マッピングルール：{2001：DB8 :: / 40（ルールIPv6プレフィックス）、192.0.2.0/24（ルールIPv4プレフィクス）、16（EAビット長規則）}"
    },
    {
      "indent": 3,
      "text": "IPv6 address of MAP BR: 2001:db8:ffff::1",
      "ja": "MAPのBRのIPv6アドレス：2001：DB8：FFFF :: 1"
    },
    {
      "indent": 3,
      "text": "The above information allows the BR to derive the mapped destination IPv6 address for the corresponding MAP CE, and also the mapped source IPv6 address for the IPv4 source address, as follows:",
      "ja": "次のように上記の情報は、BRは、対応するMAPのCE用のマップされた宛先IPv6アドレス、また、IPv4ソースアドレスのマッピングされた送信元IPv6アドレスを導出することを可能にします。"
    },
    {
      "indent": 3,
      "text": "IPv4 suffix bits (p): 32 - 24 = 8 (18 (0x12)) PSID length: 8 PSID: 0x34 (1232)",
      "ja": "IPv4のサフィックス・ビット（P）：32から24 = 8（18（0x12を））PSID長さ：8 PSID：0x34の（1232）"
    },
    {
      "indent": 3,
      "text": "The resulting IPv6 packet will have the following key fields:",
      "ja": "その結果IPv6パケットは、次のキーフィールドがあります。"
    },
    {
      "indent": 3,
      "text": "IPv6 source address: 2001:db8:ffff::1 IPv6 destination address: 2001:db8:0012:3400:0000:c000:0212:0034",
      "ja": "IPv6送信元アドレス：2001：DB8：FFFF :: 1のIPv6宛先アドレス：2001：DB8：0012：3400：0000：C000：0212：0034"
    },
    {
      "indent": 3,
      "text": "Example 3 - Forwarding Mapping Rule:",
      "ja": "例3  - フォワーディングマッピングルール："
    },
    {
      "indent": 3,
      "text": "An IPv4 host behind the MAP CE (addressed as per the previous examples) corresponding with IPv4 host 1.2.3.4 will have its packets encapsulated by IPv6 using the IPv6 address of the BR configured on the MAP CE as follows:",
      "ja": "IPv4ホスト1.2.3.4に対応するMAPのCEの背後にあるIPv4ホストは、（前の例に従ってアドレス指定）、そのパケットは次のようにMAPのCE上で設定BRのIPv6アドレスを用いたIPv6によってカプセル化があります。"
    },
    {
      "indent": 3,
      "text": "IPv6 address of BR: 2001:db8:ffff::1 IPv4 source address: 192.0.2.18 IPv4 destination address: 1.2.3.4 IPv4 source port: 1232 IPv4 destination port: 80 MAP CE IPv6 source address: 2001:db8:0012:3400:0000:c000:0212:0034 IPv6 destination address: 2001:db8:ffff::1",
      "ja": "BRのIPv6アドレス：2001：DB8：FFFF :: 1のIPv4ソースアドレス：192.0.2.18 IPv4宛先アドレス：1.2.3.4 IPv4送信元ポート：1232のIPv4宛先ポート：80 MAP CE IPv6ソースアドレス：2001：DB8：0012：3400 ：0000：C000：0212：0034 IPv6宛先アドレス：2001：DB8：FFFF :: 1"
    },
    {
      "indent": 3,
      "text": "Example 4 - Rule with no embedded address bits and no address sharing:",
      "ja": "実施例4  - ない埋め込みアドレスビットとアドレスなし共有のルール："
    },
    {
      "indent": 3,
      "text": "End-user IPv6 prefix: 2001:db8:0012:3400::/56 Basic Mapping Rule: {2001:db8:0012:3400::/56 (Rule IPv6 prefix), 192.0.2.18/32 (Rule IPv4 prefix), 0 (Rule EA-bit length)} PSID length: 0 (sharing ratio is 1) PSID offset: n/a",
      "ja": "エンドユーザーのIPv6プレフィックス：2001：DB8：0012：3400 :: / 56基本マッピング・ルール：{2001：DB8：0012：3400 :: / 56（ルールIPv6プレフィックス）、192.0.2.18/32（ルールのIPv4プレフィックス）、 0} PSID長（EAビット長ルール）：0（分担比が1）PSIDオフセット：N / A"
    },
    {
      "indent": 3,
      "text": "A MAP node (CE or BR) can, via the BMR or equivalent FMR, determine the IPv4 address and port set as shown below:",
      "ja": "MAPノード（CEまたはBR）は、BMRまたは同等FMRを介して、IPv4アドレス及びポートを決定することができ、以下に示すように設定します。"
    },
    {
      "indent": 3,
      "text": "EA bits offset: 0 IPv4 suffix bits (p): Length of IPv4 address (32) - IPv4 prefix length (32) = 0 IPv4 address: 192.0.2.18 (0xc0000212) PSID start: 0 PSID length: 0 PSID: null",
      "ja": "EAビットがオフセット：0のIPv4サフィックスビット（P）：IPv4アドレスの長さ（32） -  IPv4のプレフィックス長（32）= 0 IPv4アドレス：192.0.2.18（0xc0000212）PSID開始：0 PSID長さ：0 PSID：NULL"
    },
    {
      "indent": 3,
      "text": "The BMR information allows a MAP CE to also determine (complete) its full IPv6 address by combining the IPv6 prefix with the MAP interface identifier (that embeds the IPv4 address).",
      "ja": "BMR情報は、MAP CEはまた、MAPインタフェース識別子を持つIPv6プレフィックス（すなわちIPv4アドレスを埋め込んで）組み合わせることによって（完全な）その完全IPv6アドレスを決定することを可能にします。"
    },
    {
      "indent": 3,
      "text": "IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0000",
      "ja": "MAPのCEのIPv6アドレス：2001：DB8：3400：0000：0012 C000：0000：0212"
    },
    {
      "indent": 3,
      "text": "Example 5 - Rule with no embedded address bits and address sharing (sharing ratio of 256):",
      "ja": "実施例5  - ない埋め込みアドレスビットとアドレスの共有（256の分担比率）のルール："
    },
    {
      "indent": 3,
      "text": "End-user IPv6 prefix: 2001:db8:0012:3400::/56 Basic Mapping Rule: {2001:db8:0012:3400::/56 (Rule IPv6 prefix), 192.0.2.18/32 (Rule IPv4 prefix), 0 (Rule EA-bit length)} PSID length: 8 (from DHCP; sharing ratio of 256) PSID offset: 6 (default) PSID: 0x34 (from DHCP)",
      "ja": "エンドユーザーのIPv6プレフィックス：2001：DB8：0012：3400 :: / 56基本マッピング・ルール：{2001：DB8：0012：3400 :: / 56（ルールIPv6プレフィックス）、192.0.2.18/32（ルールのIPv4プレフィックス）、 0（ルールEAビット長）} PSID長さ：8（DHCPから、256の割合共有）PSIDオフセット：6（デフォルト）PSID：0x34の（DHCPから）"
    },
    {
      "indent": 3,
      "text": "A MAP node can, via the Basic Mapping Rule, determine the IPv4 address and port set as shown below:",
      "ja": "MAPノードは、基本的なマッピングルールを介して、IPv4アドレス及びポートを決定することができ、以下に示すように設定します。"
    },
    {
      "indent": 3,
      "text": "EA bits offset: 0 IPv4 suffix bits (p): Length of IPv4 address (32) - IPv4 prefix length (32) = 0 IPv4 address: 192.0.2.18 (0xc0000212) PSID offset: 6 PSID length: 8 PSID: 0x34",
      "ja": "EAビットがオフセット：0のIPv4サフィックスビット（P）：IPv4アドレスの長さ（32） -  IPv4のプレフィックス長（32）= 0のIPv4アドレス：192.0.2.18（0xc0000212）PSIDオフセット：6 PSID長さ：8 PSIDを：0x34の"
    },
    {
      "indent": 3,
      "text": "Available ports (63 ranges): 1232-1235, 2256-2259, ...... , 63696-63699, 64720-64723",
      "ja": "利用可能なポート（63レンジ）：1232年から1235年、2256年から2259年、......、63696から63699、64720から64723"
    },
    {
      "indent": 3,
      "text": "The Basic Mapping Rule information allows a MAP CE to also determine (complete) its full IPv6 address by combining the IPv6 prefix with the MAP interface identifier (that embeds the IPv4 address and PSID).",
      "ja": "基本マッピングルール情報は、MAP CEはまた、MAPインタフェース識別子を持つIPv6プレフィックス（すなわちIPv4アドレスとPSIDを埋め込む）組み合わせることによって（完全な）その完全IPv6アドレスを決定することを可能にします。"
    },
    {
      "indent": 3,
      "text": "IPv6 address of MAP CE: 2001:db8:0012:3400:0000:c000:0212:0034",
      "ja": "MAPのCEのIPv6アドレス：2001：DB8：3400：0000：0012 C000：0034：0212"
    },
    {
      "indent": 3,
      "text": "Note that the IPv4 address and PSID are not derived from the IPv6 prefix assigned to the CE but are provisioned separately using, for example, DHCP.",
      "ja": "IPv4アドレスとPSIDがCEに割り当てられたIPv6プレフィックスから派生されるのではなく、例えば、DHCPを使用して個別にプロビジョニングされていることに注意してください。"
    },
    {
      "indent": 0,
      "text": "Appendix B. A More Detailed Description of the Derivation of the Port-Mapping Algorithm",
      "ja": "付録B. Aポートマッピングアルゴリズムの導出の詳細な説明"
    },
    {
      "indent": 3,
      "text": "This appendix describes how the port-mapping algorithm described in Section 5.1 was derived. The algorithm is used in domains whose rules allow IPv4 address sharing.",
      "ja": "この付録では、セクション5.1で説明したポートマッピングアルゴリズムが導出された方法を説明します。アルゴリズムは、そのルールのIPv4アドレスの共有を可能にするドメインで使用されています。"
    },
    {
      "indent": 3,
      "text": "The basic requirement for a port-mapping algorithm is that the port sets it assigns to different MAP CEs MUST be non-overlapping. A number of other requirements guided the choice of the algorithm:",
      "ja": "ポートマッピングアルゴリズムの基本的な要件は、ポートは、それが別のMAP CEに割り当て設定は、非重複しなければならないことです。他の多くの要件は、アルゴリズムの選択を導きました："
    },
    {
      "indent": 3,
      "text": "o In keeping with the general MAP algorithm, the port set MUST be derivable from a Port Set identifier (PSID) that can be embedded in the End-user IPv6 prefix.",
      "ja": "O一般的なMAPアルゴリズムに合わせて、ポートセットは、エンドユーザのIPv6プレフィックスに埋め込むことができるポートセットID（PSID）から誘導していなければなりません。"
    },
    {
      "indent": 3,
      "text": "o The mapping MUST be reversible such that, given the port number, the PSID of the port set to which it belongs can be quickly derived.",
      "ja": "Oマッピングは可逆的でなければならないよう、そのポート番号、それが迅速に誘導することができる所属するように設定されたポートのPSIDを与え。"
    },
    {
      "indent": 3,
      "text": "o The algorithm MUST allow a broad range of address-sharing ratios.",
      "ja": "Oアルゴリズムは、アドレス共有比の広い範囲を可能にしなければなりません。"
    },
    {
      "indent": 3,
      "text": "o It SHOULD be possible to exclude subsets of the complete port numbering space from assignment. Most operators would exclude the system ports (0-1023). A conservative operator might exclude all but the transient ports (49152-65535).",
      "ja": "O割り当てから、完全なポート番号スペースのサブセットを除外することが可能なはずです。ほとんどの事業者は、システムポート（0〜1023）を除外します。保守作業は一時ポート（49152から65535）が、すべてを除外することがあります。"
    },
    {
      "indent": 3,
      "text": "o The effect of port exclusion on the possible values of the End-user IPv6 prefix (i.e., due to restrictions on the PSID value) SHOULD be minimized.",
      "ja": "O（PSID値に制限する、すなわち、により）エンドユーザIPv6プレフィックスの可能な値のポート除外の効果が最小化されるべきです。"
    },
    {
      "indent": 3,
      "text": "o For administrative simplicity, the algorithm SHOULD allocate the same or almost the same number of ports to each CE sharing a given IPv4 address.",
      "ja": "O管理簡単にするために、アルゴリズムは、同じ又は所定のIPv4アドレスを共有する各CEへのポートのほぼ同じ数を割り当てなければなりません。"
    },
    {
      "indent": 3,
      "text": "The two extreme cases that an algorithm satisfying those conditions might support are when (1) the port numbers are not contiguous for each PSID but uniformly distributed across the allowed port range and (2) the port numbers are contiguous in a single range for each PSID. The port-mapping algorithm proposed here is called the Generalized Modulus Algorithm (GMA) and supports both of these cases.",
      "ja": "（1）ポート番号は各PSIDのために連続していないが、一様に許容ポート範囲にわたって分布し、（2）ポート番号は各PSIDのための単一の範囲で連続している場合、それらの条件を満足するアルゴリズムがサポートされ得ることを両極端のケースがあります。ここで提案されているポートマッピングアルゴリズムは、一般モジュラスアルゴリズム（GMA）と呼ばれ、これらの例の両方をサポートしています。"
    },
    {
      "indent": 3,
      "text": "For a given IPv4 address-sharing ratio (R) and the maximum number of contiguous ports (M) in a port set, the GMA is defined as follows:",
      "ja": "次のように与えられたIPv4アドレスを共有比（R）とポートセット内の連続するポート（M）の最大数のために、GMAに定義されます。"
    },
    {
      "indent": 3,
      "text": "a. The port numbers (P) corresponding to a given PSID are generated by:",
      "ja": "A。所与PSIDに対応するポート番号（P）は、によって生成されます。"
    },
    {
      "indent": 7,
      "text": "(1) ... P = (R * M) * i + M * PSID + j",
      "ja": "（1）... P =（R * M）は、* I M * PSID + jは+"
    },
    {
      "indent": 7,
      "text": "where i and j are indices and the ranges of i, j, and the PSID are discussed below.",
      "ja": "ここで、i及びjは、インデックスと、iの範囲は、Jであり、PSIDが以下に説明されます。"
    },
    {
      "indent": 3,
      "text": "b. For any given port number P, the PSID is calculated as:",
      "ja": "B。任意のポート番号Pため、PSIDは次のように計算されます。"
    },
    {
      "indent": 7,
      "text": "(2) ... PSID = trunc((P modulo (R * M)) / M)",
      "ja": "（2）... PSID = TRUNC（（Pモジュロ（R * M））/ M）"
    },
    {
      "indent": 7,
      "text": "where trunc() is the operation of rounding down to the nearest integer.",
      "ja": "ここで、TRUNC（）は、最も近い整数に切り捨ての動作です。"
    },
    {
      "indent": 3,
      "text": "Formula (1) can be interpreted as follows. First, the available port space is divided into blocks of size R * M. Each block is divided into R individual ranges of length M. The index i in formula (1) selects a block, PSID selects a range within that block, and the index j selects a specific port value within the range. On the basis of this interpretation:",
      "ja": "次のように式（1）を解釈することができます。まず、利用可能なポートのスペースがサイズRのブロックに分割されている* M.各ブロックは長さMのRの個々の範囲に分割され、式中、インデックスiが（1）を選択するブロックは、PSIDは、そのブロック内の範囲を選択し、そしてインデックスjは、範囲内の特定のポート値を選択します。この解釈に基づいて："
    },
    {
      "indent": 3,
      "text": "o i ranges from ceil(N / (R * M)) to trunc(65536/(R * M)) - 1, where ceil is the operation of rounding up to the nearest integer and N is the number of ports (e.g., 1024) excluded from the lower end of the range. That is, any block containing excluded values is discarded at the lower end, and if the final block has fewer than R * M values it is discarded. This ensures that the same number of ports is assigned to every PSID.",
      "ja": "（65536 /（R * M））をTRUNCするCEILからOI範囲（N /（R * M）） -  1、CEILは、最も近い整数に切り上げの動作であり、Nは、ポート（例えば、1024の数であります）範囲の下端から除外しました。つまり、除外値を含む任意のブロックは、下端に廃棄され、最終のブロックはR *、それが廃棄されるM値よりも少ないを持っている場合。これは、同じ数のポートがすべてのPSIDに割り当てられていることを保証します。"
    },
    {
      "indent": 3,
      "text": "o PSID ranges from 0 to R - 1.",
      "ja": "1  -  OのPSIDは、0からRの範囲です。"
    },
    {
      "indent": 3,
      "text": "o j ranges from 0 to M - 1.",
      "ja": "O jは、0からMまでの範囲 -  1。"
    },
    {
      "indent": 0,
      "text": "B.1. Bit Representation of the Algorithm",
      "ja": "B.1。アルゴリズムのビット表現"
    },
    {
      "indent": 3,
      "text": "If R and M are powers of 2 (R = 2^k, M = 2^m), formula (1) translates to a computationally convenient structure for any port number represented as a 16-bit binary number. This structure is shown in Figure 9.",
      "ja": "R及びMは、2（R = 2 ^ K、M = 2 ^ M）の累乗である場合、式（1）は、16ビットのバイナリ数として表される任意のポート番号の計算の便利な構造に変換されます。この構造は、図9に示されています。"
    },
    {
      "indent": 10,
      "text": "0                          8                         15\n+---------------+----------+------+-------------------+\n|                     P                               |\n----------------+-----------------+-------------------+\n|        i      |       PSID      |        j          |\n+---------------+----------+------+-------------------+\n|<----a bits--->|<-----k bits---->|<------m bits----->|",
      "raw": true
    },
    {
      "indent": 15,
      "text": "Figure 9: Bit Representation of a Port Number",
      "ja": "図9：ポート番号のビット表現"
    },
    {
      "indent": 3,
      "text": "As shown in the figure, the index value i of formula (1) is given by the first a = 16 - k - m bits of the port number. The PSID value is given by the next k bits, and the index value j is given by the last m bits.",
      "ja": "K  -   - ポート番号のmビットの図に示すように、式（1）のインデックス値Iは、第1のA = 16によって与えられます。 PSID値は次のkビットによって与えられ、インデックス値jが最後のmビットによって与えられます。"
    },
    {
      "indent": 3,
      "text": "Because the PSID is always in the same position in the port number and always the same length, different PSID values are guaranteed to generate different sets of port numbers. In the reverse direction, the generating PSID can be extracted from any port number by a bitmask operation.",
      "ja": "PSIDは、ポート番号と常に同じ長さで同じ位置に常にあるので、異なるPSID値がポート番号の異なるセットを生成することが保証されます。逆方向では、生成PSIDはビットマスク操作によって任意のポート番号から抽出することができます。"
    },
    {
      "indent": 3,
      "text": "Note that when M and R are powers of 2, 65536 divides evenly by R * M. Hence, the final block is complete, and the upper bound on i is exactly 65536/(R * M) - 1. The lower bound on i is still the minimum required to ensure that the required set of ports is excluded. No port numbers are wasted through the discarding of blocks at the lower end if block size R * M is a factor of N, the number of ports to be excluded.",
      "ja": "MとRは、2の累乗である場合、65536がRで均等に分割* M.が故に、最後のブロックが完了し、そして上の上限iは65536 /（R * M）が正確であることに注意してください -  1 I上下限ポートの必要なセットが除外されることを保証するために必要な最小限のはまだです。ブロックサイズR * Mは、N、除外されるポートの数の要因である場合は何ポート番号は、下端ブロックの廃棄を通して浪費されません。"
    },
    {
      "indent": 3,
      "text": "As a final note, the number of blocks into which the range 0-65535 is being divided in the above representation is given by 2^a. Hence, the case where a = 0 can be interpreted as one where the complete range has been divided into a single block, and individual port sets are contained in contiguous ranges in that block. We cannot throw away the whole block in that case, so port exclusion has to be achieved by putting a lower bound equal to ceil(N / M) on the allowed set of PSID values instead.",
      "ja": "最後の注意として、範囲0-65535は、上記表現に分割されているに、ブロックの数は2 ^ aで与えられます。したがって、= 0の場合は、完全な範囲は、単一のブロックに分割されており、個々のポートセットは、そのブロック内の連続範囲に含まれるものとして解釈することができます。我々は、そうポート除外ではなくPSID値の許容セットにはceil（N / M）に等しい下限を置くことによって達成されなければならず、その場合はブロック全体を捨てることはできません。"
    },
    {
      "indent": 0,
      "text": "B.2. GMA Examples",
      "ja": "B.2。 GMA例"
    },
    {
      "indent": 3,
      "text": "For example, for R = 256, PSID = 0, offset: a = 6 and PSID length: k = 8 bits:",
      "ja": "例えば、R = 256、PSID = 0、オフセット= 6とPSID長K = 8ビット："
    },
    {
      "indent": 3,
      "text": "Available ports (63 ranges): 1024-1027, 2048-2051, ...... , 63488-63491, 64512-64515",
      "ja": "利用可能なポート（63レンジ）：1024年から1027年、2048年から2051年、......、63488から63491、64512から64515"
    },
    {
      "indent": 20,
      "text": "Example 1: with offset = 6 (a = 6)",
      "ja": "実施例1：オフセット= 6（A = 6）と"
    },
    {
      "indent": 3,
      "text": "For example, for R = 64, PSID = 0, a = 0 (PSID offset = 0 and PSID length = 6 bits), no port exclusion:",
      "ja": "例えば、R = 64、PSID = 0、= 0、なしポート除外（PSID = 0とPSID長= 6ビットオフセット）："
    },
    {
      "indent": 3,
      "text": "Available ports (1 range): 0-1023",
      "ja": "利用可能なポート（1レンジ）：0-1023"
    },
    {
      "indent": 15,
      "text": "Example 2: with offset = 0 (a = 0) and N = 0",
      "ja": "実施例2：オフセット= 0（A = 0）、N = 0と"
    },
    {
      "indent": 0,
      "text": "Acknowledgements",
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "This document is based on the ideas of many, including Masakazu Asama, Mohamed Boucadair, Gang Chen, Maoke Chen, Wojciech Dec, Xiaohong Deng, Jouni Korhonen, Tomek Mrugalski, Jacni Qin, Chunfa Sun, Qiong Sun, and Leaf Yeh. The authors want in particular to recognize Remi Despres, who has tirelessly worked on generalized mechanisms for stateless address mapping.",
      "ja": "この文書は正和浅間、モハメドBoucadair、ギャング陳、Maoke陳、ヴォイチェフ12月、Xiaohong鄧小、Jouni Korhonen、Tomek Mrugalski、Jacni秦、Chunfa日、Qiong日、および葉の葉を含む多くのアイデアに基づいています。著者は、特に精力的にステートレスアドレスマッピングのための一般的なメカニズムに取り組んできましたレミ・デプレを、認識したいです。"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Lichun Bao, Guillaume Gottard, Dan Wing, Jan Zorz, Necj Scoberne, Tina Tsou, Kristian Poscic, and especially Tom Taylor and Simon Perreault for the thorough review and comments of this document. Useful IETF Last Call comments were received from Brian Weis and Lei Yan.",
      "ja": "著者は、徹底的な見直しと、このドキュメントのコメントを立春バオ、ギョームGottard、ダン・ウィング、ヤンZorz、Necj Scoberne、ティナツオウ、クリスチャンPoscic、特にトム・テイラーとサイモン・ペローに感謝したいと思います。便利なIETFラストコールコメントはブライアン・ワイスとレイヤンから受け取りました。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "ja": "協力者"
    },
    {
      "indent": 3,
      "text": "This document is the result of the IETF Softwire MAP design team effort and numerous previous individual contributions in this area:",
      "ja": "この文書は、IETF Softwire MAPのデザインチームの努力と、このエリアには多くの以前の個々の寄与の結果です："
    },
    {
      "indent": 3,
      "text": "Chongfeng Xie China Telecom Room 708, No. 118, Xizhimennei Street Beijing 100035 China Phone: +86-10-58552116 Email: xiechf@ctbri.com.cn",
      "ja": "ドアストリート北京100035中国電話:.ξCメープルX IE中国テレコム室708、なし118、+ 86-10-58552116メール：おかげで@ .COMそびえ立つビリを春に。"
    },
    {
      "indent": 3,
      "text": "Qiong Sun China Telecom Room 708, No. 118, Xizhimennei Street Beijing 100035 China Phone: +86-10-58552936 Email: sunqiong@ctbri.com.cn",
      "ja": "Qiong日中国電信室708、第118号、Xizhimenneiストリート北京100035中国電話：+ 86-10-58552936 Eメール：sunqiong@ctbri.com.cn"
    },
    {
      "indent": 3,
      "text": "Gang Chen China Mobile 29, Jinrong Avenue Xicheng District, Beijing 100033 China Email: phdgang@gmail.com, chengang@chinamobile.com",
      "ja": "ギャング陳中国移動29、ジン容量大通りX Iチェン地区、北京100033中国メール：博士号だけ@ Gmail.com、陳ギャング@China Mobile.com"
    },
    {
      "indent": 3,
      "text": "Yu Zhai CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: jacky.zhai@gmail.com",
      "ja": "ゆうテキCERNETセンター/清華大学ルーム225、本館、清華大学、北京100084中国Eメール：jacky.zhai@gmail.com"
    },
    {
      "indent": 3,
      "text": "Wentao Shang CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: wentaoshang@gmail.com",
      "ja": "WentaoシャンCERNETセンター/清華大学ルーム225、本館、清華大学、北京100084中国Eメール：wentaoshang@gmail.com"
    },
    {
      "indent": 3,
      "text": "Guoliang Han CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China Email: bupthgl@gmail.com",
      "ja": "GuoliangハンCERNETセンター/清華大学ルーム225、本館、清華大学、北京100084中国Eメール：bupthgl@gmail.com"
    },
    {
      "indent": 3,
      "text": "Rajiv Asati Cisco Systems 7025-6 Kit Creek Road Research Triangle Park, NC 27709 United States Email: rajiva@cisco.com",
      "ja": "ラジブAsatiシスコシステムズ7025から6キットクリーク道路リサーチトライアングルパーク、ノースカロライナ州27709米国メールアドレス：rajiva@cisco.com"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Ole Troan (editor) Cisco Systems Philip Pedersens vei 1 Lysaker 1366 Norway",
      "ja": "オレTroan（エディタ）シスコシステムズフィリップ・ペダーセンの道1リサーカー1366ノルウェー"
    },
    {
      "indent": 3,
      "text": "Email: ot@cisco.com",
      "ja": "メール：to@cisco.com"
    },
    {
      "indent": 3,
      "text": "Wojciech Dec Cisco Systems Haarlerbergpark Haarlerbergweg 13-19 Amsterdam, NOORD-HOLLAND 1101 CH The Netherlands",
      "ja": "ヴォイチェフ12月シスコシステムズHaarlerbergpark Haarlerbergweg 13-19アムステルダム、NORTH HOLLAND 1101 CHオランダ"
    },
    {
      "indent": 3,
      "text": "Email: wdec@cisco.com",
      "ja": "メール：wdec@cisco.com"
    },
    {
      "indent": 3,
      "text": "Xing Li CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China",
      "ja": "興李CERNETセンター/清華大学ルーム225、本館、清華大学、北京100084中国"
    },
    {
      "indent": 3,
      "text": "Email: xing@cernet.edu.cn",
      "ja": "メール：xing@cernet.edu.cn"
    },
    {
      "indent": 3,
      "text": "Congxiao Bao CERNET Center/Tsinghua University Room 225, Main Building, Tsinghua University Beijing 100084 China",
      "ja": "CongxiaoバオCERNETセンター/清華大学ルーム225、本館、清華大学、北京100084中国"
    },
    {
      "indent": 3,
      "text": "Email: congxiao@cernet.edu.cn",
      "ja": "メール：congxiao@cernet.edu.cn"
    },
    {
      "indent": 3,
      "text": "Satoru Matsushima SoftBank Telecom 1-9-1 Higashi-Shinbashi, Munato-ku Tokyo Japan",
      "ja": "さとる まつしま そｆｔばんｋ てぇこｍ １ー９ー１ ひがしーしんばし、 むなとーく ときょ じゃぱん"
    },
    {
      "indent": 3,
      "text": "Email: satoru.matsushima@g.softbank.co.jp",
      "ja": "メール：satoru.matsushima@g.softbank.co.jp"
    },
    {
      "indent": 3,
      "text": "Tetsuya Murakami IP Infusion 1188 East Arques Avenue Sunnyvale, CA 94085 United States",
      "ja": "哲也村上IPインフュージョン1188東アルクアベニューサニーベール、CA 94085米国"
    },
    {
      "indent": 3,
      "text": "Email: tetsuya@ipinfusion.com",
      "ja": "メール：tetsuya@ipinfusion.com"
    },
    {
      "indent": 3,
      "text": "Tom Taylor (editor) Huawei Technologies Ottawa Canada",
      "ja": "トム・テイラー（エディタ）華為技術オタワカナダ"
    },
    {
      "indent": 3,
      "text": "Email: tom.taylor.stds@gmail.com",
      "ja": "メール：tom.taylor.stds@gmail.com"
    }
  ]
}