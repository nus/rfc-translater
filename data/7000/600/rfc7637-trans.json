{
  "title": {
    "text": "RFC 7637 - NVGRE: Network Virtualization Using Generic Routing Encapsulation",
    "ja": "RFC 7637 - NVGRE：ネットワーク仮想化総称ルーティングカプセル化を使用します"
  },
  "number": 7637,
  "created_at": "2019-10-31 12:44:15.485273+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Independent Submission                                      P. Garg, Ed.\nRequest for Comments: 7637                                  Y. Wang, Ed.\nCategory: Informational                                        Microsoft\nISSN: 2070-1721                                           September 2015",
      "raw": true
    },
    {
      "indent": 3,
      "text": "NVGRE: Network Virtualization Using Generic Routing Encapsulation",
      "ja": "NVGRE：ネットワーク仮想化総称ルーティングカプセル化を使用します"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "抽象"
    },
    {
      "indent": 3,
      "text": "This document describes the usage of the Generic Routing Encapsulation (GRE) header for Network Virtualization (NVGRE) in multi-tenant data centers. Network Virtualization decouples virtual networks and addresses from physical network infrastructure, providing isolation and concurrency between multiple virtual networks on the same physical network infrastructure. This document also introduces a Network Virtualization framework to illustrate the use cases, but the focus is on specifying the data-plane aspect of NVGRE.",
      "ja": "この文書は、マルチテナントのデータセンターにおけるネットワーク仮想化（NVGRE）用汎用ルーティングカプセル化（GRE）ヘッダの使用を記載しています。ネットワーク仮想化は、同一の物理ネットワークインフラストラクチャ上で複数の仮想ネットワーク間の分離と並行性を提供し、物理的なネットワークインフラストラクチャから仮想ネットワークアドレスとを分離します。この文書はまた、ユースケースを説明するために、ネットワーク仮想化フレームワークを導入したが、焦点はNVGREのデータプレーンの態様を指定です。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "このメモのステータス"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントはインターネット標準化過程仕様ではありません。それは、情報提供の目的のために公開されています。"
    },
    {
      "indent": 3,
      "text": "This is a contribution to the RFC Series, independently of any other RFC stream. The RFC Editor has chosen to publish this document at its discretion and makes no statement about its value for implementation or deployment. Documents approved for publication by the RFC Editor are not a candidate for any level of Internet Standard; see Section 2 of RFC 5741.",
      "ja": "これは、独立して、他のRFCストリームの、RFCシリーズへの貢献です。 RFC Editorはその裁量でこの文書を公開することを選択し、実装や展開のためにその値についての声明を出すていません。 RFC編集者によって公表のために承認されたドキュメントは、インターネット標準の任意のレベルの候補ではありません。 RFC 5741のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7637.",
      "ja": "このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttp://www.rfc-editor.org/info/rfc7637で取得することができます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2015 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（C）2015 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document.",
      "ja": "この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（http://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................2\n   1.1. Terminology ................................................4\n2. Conventions Used in This Document ...............................4\n3. Network Virtualization Using GRE (NVGRE) ........................4\n   3.1. NVGRE Endpoint .............................................5\n   3.2. NVGRE Frame Format .........................................5\n   3.3. Inner Tag as Defined by IEEE 802.1Q ........................8\n   3.4. Reserved VSID ..............................................8\n4. NVGRE Deployment Considerations .................................9\n   4.1. ECMP Support ...............................................9\n   4.2. Broadcast and Multicast Traffic ............................9\n   4.3. Unicast Traffic ............................................9\n   4.4. IP Fragmentation ..........................................10\n   4.5. Address/Policy Management and Routing .....................10\n   4.6. Cross-Subnet, Cross-Premise Communication .................10\n   4.7. Internet Connectivity .....................................12\n   4.8. Management and Control Planes .............................12\n   4.9. NVGRE-Aware Devices .......................................12\n   4.10. Network Scalability with NVGRE ...........................13\n5. Security Considerations ........................................14\n6. Normative References ...........................................14\nContributors ......................................................16\nAuthors' Addresses ................................................17",
      "raw": true
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1.はじめに"
    },
    {
      "indent": 3,
      "text": "Conventional data center network designs cater to largely static workloads and cause fragmentation of network and server capacity [6] [7]. There are several issues that limit dynamic allocation and consolidation of capacity. Layer 2 networks use the Rapid Spanning Tree Protocol (RSTP), which is designed to eliminate loops by blocking redundant paths. These eliminated paths translate to wasted capacity and a highly oversubscribed network. There are alternative approaches such as the Transparent Interconnection of Lots of Links (TRILL) that address this problem [13].",
      "ja": "従来のデータセンターネットワークの設計は、主に静的ワークロードとネットワークの原因断片化とサーバー容量に応える[6] [7]。動的な割り当てと容量の統合を制限するいくつかの問題があります。レイヤ2つのネットワークは冗長パスをブロックすることによりループを排除するように設計されているラピッドスパニングツリープロトコル（RSTP）を使用します。これら排除経路は無駄容量と高いオーバーサブスクライブネットワークに変換します。このようにこの問題を解決するリンク（TRILL）の多くの透明な相互接続などの代替的なアプローチは、[13]があります。"
    },
    {
      "indent": 3,
      "text": "The network utilization inefficiencies are exacerbated by network fragmentation due to the use of VLANs for broadcast isolation. VLANs are used for traffic management and also as the mechanism for providing security and performance isolation among services belonging to different tenants. The Layer 2 network is carved into smaller-sized subnets (typically, one subnet per VLAN), with VLAN tags configured on all the Layer 2 switches connected to server racks that host a given tenant's services. The current VLAN limits theoretically allow for 4,000 such subnets to be created. The size of the broadcast domain is typically restricted due to the overhead of broadcast traffic. The 4,000-subnet limit on VLANs is no longer sufficient in a shared infrastructure servicing multiple tenants.",
      "ja": "ネットワークの利用効率の悪さが原因ブロードキャスト分離のためのVLANの使用にネットワークの断片化によって悪化しています。 VLANは、トラフィック管理のために、さらに別のテナントに属するサービス間のセキュリティとパフォーマンスの分離を提供するためのメカニズムとして使用されています。レイヤ2ネットワークは、与えられたテナントのサービスをホストするサーバラックに接続されたすべてのレイヤ2つのスイッチで設定されたVLANタグと、より小さなサイズのサブネット（VLANごとに、典型的には、1つのサブネット）に刻まれています。 4000個のこのようサブネットを作成するために、現在のVLANの制限は、理論的には可能です。ブロードキャストドメインのサイズは、一般的に起因するブロードキャストトラフィックのオーバーヘッドに制限されています。 VLAN上の4000サブネットの制限は、複数のテナントにサービスを提供する共有インフラストラクチャではもはや十分ではありません。"
    },
    {
      "indent": 3,
      "text": "Data center operators must be able to achieve high utilization of server and network capacity. In order to achieve efficiency, it should be possible to assign workloads that operate in a single Layer 2 network to any server in any rack in the network. It should also be possible to migrate workloads to any server anywhere in the network while retaining the workloads' addresses. This can be achieved today by stretching VLANs; however, when workloads migrate, the network needs to be reconfigured and that is typically error prone. By decoupling the workload's location on the LAN from its network address, the network administrator configures the network once, not every time a service migrates. This decoupling enables any server to become part of any server resource pool.",
      "ja": "データセンターのオペレータは、サーバやネットワーク容量の高い利用率を達成することができなければなりません。効率を達成するためには、ネットワーク内の任意のラック内のサーバへの単一のレイヤ2のネットワークで動作するワークロードを割り当てることが可能であるべきです。また、ワークロードのアドレスを保持したまま、ネットワーク内の任意の場所に任意のサーバーにワークロードを移行することが可能なはずです。これは、VLANを延伸することにより、今日達成することができます。ワークロードを移行するときしかし、ネットワークを再設定する必要があり、それは一般的にエラーが発生しやすくなります。そのネットワークアドレスからLAN上のワークロードの場所をデカップリングすることにより、ネットワーク管理者は、サービスの移行ではないたびに、一度ネットワークを構成します。このデカップリングは、サーバーがどのサーバリソースプールの一部になることができます。"
    },
    {
      "indent": 3,
      "text": "The following are key design objectives for next-generation data centers:",
      "ja": "次世代データセンターのための主要な設計目標は、次のとおりです。"
    },
    {
      "indent": 6,
      "text": "a) location-independent addressing",
      "ja": "a）は、位置非依存アドレッシング"
    },
    {
      "indent": 6,
      "text": "b) the ability to a scale the number of logical Layer 2 / Layer 3 networks, irrespective of the underlying physical topology or the number of VLANs",
      "ja": "B）スケールする能力にかかわらず、基礎となる物理トポロジの論理的レイヤ2 /レイヤ3つのネットワークの数、またはVLANの数"
    },
    {
      "indent": 6,
      "text": "c) preserving Layer 2 semantics for services and allowing them to retain their addresses as they move within and across data centers",
      "ja": "C）サービスのためのレイヤ2つのセマンティクスを維持し、彼らはデータセンター内および間で移動すると、彼らのアドレスを保持することができます"
    },
    {
      "indent": 6,
      "text": "d) providing broadcast isolation as workloads move around without burdening the network control plane",
      "ja": "ワークロードは、ネットワーク制御プレーンに負担をかけることなく動き回るとしてD）ブロードキャスト分離を提供"
    },
    {
      "indent": 3,
      "text": "This document describes use of the Generic Routing Encapsulation (GRE) header [3] [4] for network virtualization. Network virtualization decouples a virtual network from the underlying physical network infrastructure by virtualizing network addresses. Combined with a management and control plane for the virtual-to-physical mapping, network virtualization can enable flexible virtual machine placement and movement and provide network isolation for a multi-tenant data center.",
      "ja": "この文書では、[3] [4]ネットワーク仮想化のための総称ルーティングカプセル化（GRE）ヘッダの使用を記載しています。ネットワーク仮想化は、ネットワークアドレスを仮想化することにより、基盤となる物理的なネットワークインフラストラクチャから仮想ネットワークを分離します。仮想 - 物理マッピングのための管理と制御プレーンと組み合わせて、ネットワークの仮想化は、柔軟な仮想マシンの配置および移動を可能にし、マルチテナントデータセンターのネットワーク分離を提供することができます。"
    },
    {
      "indent": 3,
      "text": "Network virtualization enables customers to bring their own address spaces into a multi-tenant data center, while the data center administrators can place the customer virtual machines anywhere in the data center without reconfiguring their network switches or routers, irrespective of the customer address spaces.",
      "ja": "ネットワーク仮想化は、データセンターの管理者は関係なく、顧客のアドレス空間の、彼らのネットワークスイッチやルータを再設定することなく、どこでも、データセンターにおける顧客の仮想マシンを配置することができますが、マルチテナント型データセンターに、独自のアドレス空間を持って顧客を可能にします。"
    },
    {
      "indent": 0,
      "text": "1.1. Terminology",
      "section_title": true,
      "ja": "1.1。用語"
    },
    {
      "indent": 3,
      "text": "Please refer to RFCs 7364 [10] and 7365 [11] for more formal definitions of terminology. The following terms are used in this document.",
      "ja": "用語のより正式な定義についてのRFC 7364 [10]と7365 [11]を参照してください。以下の用語は、この文書で使用されています。"
    },
    {
      "indent": 3,
      "text": "Customer Address (CA): This is the virtual IP address assigned and configured on the virtual Network Interface Controller (NIC) within each VM. This is the only address visible to VMs and applications running within VMs.",
      "ja": "カスタマーアドレス（CA）：これは、各VM内の仮想ネットワークインタフェースコントローラ（NIC）に割り当てられ、設定された仮想IPアドレスです。これは、仮想マシンと仮想マシン内で実行中のアプリケーションに見える唯一のアドレスです。"
    },
    {
      "indent": 3,
      "text": "Network Virtualization Edge (NVE): This is an entity that performs the network virtualization encapsulation and decapsulation.",
      "ja": "ネットワーク仮想化エッジ（NVE）：これは、ネットワーク仮想化のカプセル化及びデカプセル化を実行するエンティティです。"
    },
    {
      "indent": 3,
      "text": "Provider Address (PA): This is the IP address used in the physical network. PAs are associated with VM CAs through the network virtualization mapping policy.",
      "ja": "プロバイダーアドレス（PA）：これは、物理的なネットワークで使用されるIPアドレスです。 PAは、ネットワーク仮想化マッピングポリシーを通じてVMのCAに関連付けられています。"
    },
    {
      "indent": 3,
      "text": "Virtual Machine (VM): This is an instance of an OS running on top of the hypervisor over a physical machine or server. Multiple VMs can share the same physical server via the hypervisor, yet are completely isolated from each other in terms of CPU usage, storage, and other OS resources.",
      "ja": "仮想マシン（VM）：これは、物理マシンまたはサーバー上のハイパーバイザー上で動作するOSのインスタンスです。複数のVMは、ハイパーバイザを介して同じ物理サーバを共有することができ、まだ完全にCPU使用率、ストレージ、およびその他のOSリソースの点で互いに分離されています。"
    },
    {
      "indent": 3,
      "text": "Virtual Subnet Identifier (VSID): This is a 24-bit ID that uniquely identifies a virtual subnet or virtual Layer 2 broadcast domain.",
      "ja": "仮想サブネット識別子（VSID）：これは、一意の仮想サブネットまたは仮想レイヤ2ブロードキャストドメインを識別する24ビットのIDです。"
    },
    {
      "indent": 0,
      "text": "2. Conventions Used in This Document",
      "section_title": true,
      "ja": "この文書で使用される2.表記"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in RFC 2119 [1].",
      "ja": "この文書のキーワード \"MUST\"、 \"MUST NOT\"、 \"REQUIRED\"、、、、 \"べきではない\" \"べきである\" \"ないもの\" \"ものとし\"、 \"推奨\"、 \"MAY\"、および \"OPTIONAL\" はありますRFC 2119に記載されるように解釈される[1]。"
    },
    {
      "indent": 3,
      "text": "In this document, these words will appear with that interpretation only when in ALL CAPS. Lowercase uses of these words are not to be interpreted as carrying the significance defined in RFC 2119.",
      "ja": "場合にのみ、すべて大文字で、このドキュメントでは、これらの言葉は、その解釈に表示されます。これらの語の小文字の使用は、RFC 2119で定義された意味を運ぶものとして解釈されるべきではありません。"
    },
    {
      "indent": 0,
      "text": "3. Network Virtualization Using GRE (NVGRE)",
      "section_title": true,
      "ja": "GREを使用して3.ネットワーク仮想化（NVGRE）"
    },
    {
      "indent": 3,
      "text": "This section describes Network Virtualization using GRE (NVGRE). Network virtualization involves creating virtual Layer 2 topologies on top of a physical Layer 3 network. Connectivity in the virtual topology is provided by tunneling Ethernet frames in GRE over IP over the physical network.",
      "ja": "このセクションでは、GRE（NVGRE）を使用して、ネットワーク仮想化について説明します。ネットワーク仮想化は、仮想レイヤ物理レイヤ3ネットワークの上に2トポロジーを作成する必要があります。仮想トポロジでの接続は、物理ネットワーク上でIP上でGREでイーサネットフレームをトンネリングすることによって提供されます。"
    },
    {
      "indent": 3,
      "text": "In NVGRE, every virtual Layer 2 network is associated with a 24-bit identifier, called a Virtual Subnet Identifier (VSID). A VSID is carried in an outer header as defined in Section 3.2. This allows",
      "ja": "NVGREでは、すべての仮想レイヤ2ネットワークは24ビット識別子と関連付けられている、仮想サブネット識別子（VSID）と呼ばれます。セクション3.2で定義されるようVSIDは、外部ヘッダで運ばれます。これが可能に"
    },
    {
      "indent": 3,
      "text": "unique identification of a tenant's virtual subnet to various devices in the network. A 24-bit VSID supports up to 16 million virtual subnets in the same management domain, in contrast to only 4,000 that is achievable with VLANs. Each VSID represents a virtual Layer 2 broadcast domain, which can be used to identify a virtual subnet of a given tenant. To support multi-subnet virtual topology, data center administrators can configure routes to facilitate communication between virtual subnets of the same tenant.",
      "ja": "ネットワーク内の様々なデバイスへのテナントの仮想サブネットの一意の識別。 24ビットVSIDは、VLANで達成可能であるだけで4000とは対照的に、同じ管理ドメイン内の最大1600万仮想サブネットをサポートしています。各VSIDは、所与のテナントの仮想サブネットを識別するために使用することができ、仮想レイヤ2ブロードキャストドメインを表します。マルチサブネット、仮想トポロジをサポートするために、データセンタ管理者は、同じテナントの仮想サブネット間の通信を容易にするためのルートを設定することができます。"
    },
    {
      "indent": 3,
      "text": "GRE is a Proposed Standard from the IETF [3] [4] and provides a way for encapsulating an arbitrary protocol over IP. NVGRE leverages the GRE header to carry VSID information in each packet. The VSID information in each packet can be used to build multi-tenant-aware tools for traffic analysis, traffic inspection, and monitoring.",
      "ja": "GREは、IETFから提案された標準である[3] [4]及びIP上の任意のプロトコルをカプセル化するための方法を提供します。 NVGREは、各パケットにVSID情報を運ぶためにGREヘッダーを活用します。各パケット内のVSID情報は、トラフィック分析、トラフィック検査、および監視のためのマルチテナント対応のツールを構築するために使用することができます。"
    },
    {
      "indent": 3,
      "text": "The following sections detail the packet format for NVGRE; describe the functions of an NVGRE endpoint; illustrate typical traffic flow both within and across data centers; and discuss address/policy management, and deployment considerations.",
      "ja": "以下のセクションで詳細NVGREのパケットフォーマット。 NVGREエンドポイントの機能を記述し、データセンター内および間の両方典型的なトラフィックフローを示す図です。およびアドレス/ポリシー管理、および展開の考慮事項について説明します。"
    },
    {
      "indent": 0,
      "text": "3.1. NVGRE Endpoint",
      "section_title": true,
      "ja": "3.1。 NVGREエンドポイント"
    },
    {
      "indent": 3,
      "text": "NVGRE endpoints are the ingress/egress points between the virtual and the physical networks. The NVGRE endpoints are the NVEs as defined in the Network Virtualization over Layer 3 (NVO3) Framework document [11]. Any physical server or network device can be an NVGRE endpoint. One common deployment is for the endpoint to be part of a hypervisor. The primary function of this endpoint is to encapsulate/decapsulate Ethernet data frames to and from the GRE tunnel, ensure Layer 2 semantics, and apply isolation policy scoped on VSID. The endpoint can optionally participate in routing and function as a gateway in the virtual topology. To encapsulate an Ethernet frame, the endpoint needs to know the location information for the destination address in the frame. This information can be provisioned via a management plane or obtained via a combination of control-plane distribution or data-plane learning approaches. This document assumes that the location information, including VSID, is available to the NVGRE endpoint.",
      "ja": "NVGREエンドポイントは、仮想および物理ネットワークの間の入口/出口点です。 NVGREエンドポイントは、レイヤ3（NVO3）フレームワークドキュメント[11]上に仮想ネットワークで定義されるようNVEsあります。任意の物理サーバやネットワークデバイスは、NVGRE終点ことができます。エンドポイントは、ハイパーバイザの一部であるためには一つの共通の展開があります。このエンドポイントの主な機能は、GREトンネルにから/デカプセル化イーサネットデータフレームをカプセル化レイヤ2つのセマンティクスを確保し、分離ポリシーはVSIDにスコープ適用することです。エンドポイントは、任意の仮想トポロジ内のゲートウェイとしてルーティング機能に参加することができます。イーサネットフレームをカプセル化するために、エンドポイントは、フレームの宛先アドレスの位置情報を知る必要があります。この情報は、管理プレーンを介してプロビジョニングまたは制御プレーン分布またはデータプレーン学習アプローチの組み合わせによって得ることができます。この文書はVSIDを含む位置情報が、NVGREエンドポイントに利用可能であることを前提としています。"
    },
    {
      "indent": 0,
      "text": "3.2. NVGRE Frame Format",
      "section_title": true,
      "ja": "3.2。 NVGREフレーム形式"
    },
    {
      "indent": 3,
      "text": "The GRE header format as specified in RFCs 2784 [3] and 2890 [4] is used for communication between NVGRE endpoints. NVGRE leverages the Key extension specified in RFC 2890 [4] to carry the VSID. The packet format for Layer 2 encapsulation in GRE is shown in Figure 1.",
      "ja": "RFC 2784で指定されるようにGREヘッダーのフォーマットは、[3]、2890 [4] NVGREエンドポイント間の通信のために使用されます。 NVGREは、RFC 2890 [4] VSIDを運ぶために指定されたキー拡張機能を活用します。 GREのレイヤ2カプセル化パケットのフォーマットは図1に示されています。"
    },
    {
      "indent": 3,
      "text": "Outer Ethernet Header:\n 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                (Outer) Destination MAC Address                |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|(Outer)Destination MAC Address |  (Outer)Source MAC Address    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                  (Outer) Source MAC Address                   |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|Optional Ethertype=C-Tag 802.1Q| Outer VLAN Tag Information    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|       Ethertype 0x0800        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true
    },
    {
      "indent": 3,
      "text": "Outer IPv4 Header:\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|Version|  HL   |Type of Service|          Total Length         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Identification        |Flags|      Fragment Offset    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Time to Live | Protocol 0x2F |         Header Checksum       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                      (Outer) Source Address                   |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                  (Outer) Destination Address                  |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true
    },
    {
      "indent": 3,
      "text": "GRE Header:\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|0| |1|0|   Reserved0     | Ver |   Protocol Type 0x6558        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|               Virtual Subnet ID (VSID)        |    FlowID     |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\nInner Ethernet Header\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                (Inner) Destination MAC Address                |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|(Inner)Destination MAC Address |  (Inner)Source MAC Address    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                  (Inner) Source MAC Address                   |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|       Ethertype 0x0800        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true
    },
    {
      "indent": 3,
      "text": "Inner IPv4 Header:\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|Version|  HL   |Type of Service|          Total Length         |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|         Identification        |Flags|      Fragment Offset    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|  Time to Live |    Protocol   |         Header Checksum       |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                       Source Address                          |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                    Destination Address                        |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                    Options                    |    Padding    |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+\n|                      Original IP Payload                      |\n|                                                               |\n|                                                               |\n+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+",
      "raw": true
    },
    {
      "indent": 15,
      "text": "Figure 1: GRE Encapsulation Frame Format",
      "ja": "図1：GREカプセル化フレームフォーマット"
    },
    {
      "indent": 3,
      "text": "Note: HL stands for Header Length.",
      "ja": "注意：HLは、ヘッダ長の略です。"
    },
    {
      "indent": 3,
      "text": "The outer/delivery headers include the outer Ethernet header and the outer IP header:",
      "ja": "アウター/配信ヘッダは、外側イーサネットヘッダと外部IPヘッダを含みます。"
    },
    {
      "indent": 3,
      "text": "o The outer Ethernet header: The source Ethernet address in the outer frame is set to the MAC address associated with the NVGRE endpoint. The destination endpoint may or may not be on the same physical subnet. The destination Ethernet address is set to the MAC address of the next-hop IP address for the destination NVE. The outer VLAN tag information is optional and can be used for traffic management and broadcast scalability on the physical network.",
      "ja": "外側のイーサネットヘッダ（O）外枠内のソースイーサネットアドレスはNVGREエンドポイントに関連付けられているMACアドレスに設定されています。宛先エンドポイントは、またはしない場合があり、同じ物理サブネット上にあってもよいです。先のイーサネットアドレスが宛先NVEのネクストホップIPアドレスのMACアドレスに設定されています。外側のVLANタグ情報はオプションであり、物理的なネットワーク上のトラフィックの管理及び放送スケーラビリティのために使用することができます。"
    },
    {
      "indent": 3,
      "text": "o The outer IP header: Both IPv4 and IPv6 can be used as the delivery protocol for GRE. The IPv4 header is shown for illustrative purposes. Henceforth, the IP address in the outer frame is referred to as the Provider Address (PA). There can be one or more PA associated with an NVGRE endpoint, with policy controlling the choice of which PA to use for a given Customer Address (CA) for a customer VM.",
      "ja": "外側IPヘッダ○：IPv4とIPv6の両方は、GREの配信プロトコルとして使用することができます。 IPv4ヘッダは、例示の目的のために示されています。今後は、外枠内のIPアドレスは、プロバイダーアドレス（PA）と呼ばれています。 NVGREエンドポイントに関連する1つまたは複数のPAは、PAは、顧客VMのために与えられた顧客の住所（CA）に使用するかの選択を制御する方針で、存在できます。"
    },
    {
      "indent": 3,
      "text": "In the GRE header:",
      "ja": "GREヘッダーの："
    },
    {
      "indent": 3,
      "text": "o The C (Checksum Present) and S (Sequence Number Present) bits in the GRE header MUST be zero.",
      "ja": "GREヘッダーのO C（現在のチェックサム）およびS（シーケンス番号現在の）ビットはゼロでなければなりません。"
    },
    {
      "indent": 3,
      "text": "o The K (Key Present) bit in the GRE header MUST be set to one. The 32-bit Key field in the GRE header is used to carry the Virtual Subnet ID (VSID) and the FlowID:",
      "ja": "O GREヘッダ内のK（キー本）のビットを1に設定しなければなりません。 GREヘッダ内の32ビットのキーフィールドは、仮想サブネットID（VSID）とフローIDを搬送するために使用されます。"
    },
    {
      "indent": 6,
      "text": "- Virtual Subnet ID (VSID): This is a 24-bit value that is used to identify the NVGRE-based Virtual Layer 2 Network.",
      "ja": " - 仮想サブネットID（VSID）：これはNVGREベースの仮想レイヤ2ネットワークを識別するために使用される24ビット値です。"
    },
    {
      "indent": 6,
      "text": "- FlowID: This is an 8-bit value that is used to provide per-flow entropy for flows in the same VSID. The FlowID MUST NOT be modified by transit devices. The encapsulating NVE SHOULD provide as much entropy as possible in the FlowID. If a FlowID is not generated, it MUST be set to all zeros.",
      "ja": " - フローID：これは同じVSIDにフローに関するフローごとのエントロピーを提供するために使用される8ビットの値です。フローIDは、トランジットデバイスによって変更してはいけません。カプセル化NVEは、フローIDでできるだけ多くのエントロピーを提供する必要があります。フローIDが生成されていない場合、それはすべてゼロに設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "o The Protocol Type field in the GRE header is set to 0x6558 (Transparent Ethernet Bridging) [2].",
      "ja": "O GREヘッダ内のプロトコルタイプフィールドは0x6558（透明イーサネットブリッジング）に設定されている[2]。"
    },
    {
      "indent": 3,
      "text": "In the inner headers (headers of the GRE payload):",
      "ja": "内部ヘッダ（GREペイロードのヘッダ）において："
    },
    {
      "indent": 3,
      "text": "o The inner Ethernet frame comprises an inner Ethernet header followed by optional inner IP header, followed by the IP payload. The inner frame could be any Ethernet data frame not just IP. Note that the inner Ethernet frame's Frame Check Sequence (FCS) is not encapsulated.",
      "ja": "内部イーサネットフレームO IPペイロードが続く、任意の内側IPヘッダに続く内側イーサネットヘッダを含みます。内部フレームは、任意のイーサネットデータフレームだけではなくIPである可能性があります。内側のイーサネットフレームのフレームチェックシーケンス（FCS）が封入されていないことに注意してください。"
    },
    {
      "indent": 3,
      "text": "o For illustrative purposes, IPv4 headers are shown as the inner IP headers, but IPv6 headers may be used. Henceforth, the IP address contained in the inner frame is referred to as the Customer Address (CA).",
      "ja": "O例示の目的のために、IPv4のヘッダは、内部IPヘッダとして示されているが、IPv6のヘッダを使用することができます。以後、インナーフレームに含まれるIPアドレスは、顧客のアドレス（CA）と呼ばれます。"
    },
    {
      "indent": 0,
      "text": "3.3. Inner Tag as Defined by IEEE 802.1Q",
      "section_title": true,
      "ja": "3.3。 IEEE 802.1Qで定義されているように内側のタグ"
    },
    {
      "indent": 3,
      "text": "The inner Ethernet header of NVGRE MUST NOT contain the tag as defined by IEEE 802.1Q [5]. The encapsulating NVE MUST remove any existing IEEE 802.1Q tag before encapsulation of the frame in NVGRE. A decapsulating NVE MUST drop the frame if the inner Ethernet frame contains an IEEE 802.1Q tag.",
      "ja": "IEEE 802.1Q [5]で定義されるようにNVGREの内部イーサネットヘッダは、タグを含んではなりません。封入NVEはNVGREにおけるフレームのカプセル化の前に、既存のIEEE 802.1Qタグを削除する必要があります。内部イーサネットフレームは、IEEE 802.1Qタグが含まれている場合、デカプセル化NVEはフレームをドロップしなければなりません。"
    },
    {
      "indent": 0,
      "text": "3.4. Reserved VSID",
      "section_title": true,
      "ja": "3.4。予約VSID"
    },
    {
      "indent": 3,
      "text": "The VSID range from 0-0xFFF is reserved for future use.",
      "ja": "0-0xFFFからVSID範囲は、将来の使用のために予約されています。"
    },
    {
      "indent": 3,
      "text": "The VSID 0xFFFFFF is reserved for vendor-specific NVE-to-NVE communication. The sender NVE SHOULD verify the receiver NVE's vendor before sending a packet using this VSID; however, such a verification mechanism is out of scope of this document. Implementations SHOULD choose a mechanism that meets their requirements.",
      "ja": "VSID 0xFFFFFFのは、ベンダー固有のNVEツーNVE通信のために予約されています。送信者NVEは、このVSIDを使用してパケットを送信する前に受信機NVEのベンダーを確認する必要が。しかし、そのような検証メカニズムは、この文書の範囲外です。実装はその要件を満たしているメカニズムを選択する必要があります。"
    },
    {
      "indent": 0,
      "text": "4. NVGRE Deployment Considerations",
      "section_title": true,
      "ja": "4. NVGRE展開の考慮事項"
    },
    {
      "indent": 0,
      "text": "4.1. ECMP Support",
      "section_title": true,
      "ja": "4.1。 ECMPサポート"
    },
    {
      "indent": 3,
      "text": "Equal-Cost Multipath (ECMP) may be used to provide load balancing. If ECMP is used, it is RECOMMENDED that the ECMP hash is calculated either using the outer IP frame fields and entire Key field (32 bits) or the inner IP and transport frame fields.",
      "ja": "等価コストマルチパス（ECMP）は、ロードバランシングを提供するために使用することができます。 ECMPが使用される場合、ECMPハッシュは、外側IPフレームフィールド全体Keyフィールド（32ビット）または内部IP及び伝送フレームのフィールドのいずれかを使用して計算することが推奨されます。"
    },
    {
      "indent": 0,
      "text": "4.2. Broadcast and Multicast Traffic",
      "section_title": true,
      "ja": "4.2。ブロードキャストおよびマルチキャストトラフィック"
    },
    {
      "indent": 3,
      "text": "To support broadcast and multicast traffic inside a virtual subnet, one or more administratively scoped multicast addresses [8] [9] can be assigned for the VSID. All multicast or broadcast traffic originating from within a VSID is encapsulated and sent to the assigned multicast address. From an administrative standpoint, it is possible for network operators to configure a PA multicast address for each multicast address that is used inside a VSID; this facilitates optimal multicast handling. Depending on the hardware capabilities of the physical network devices and the physical network architecture, multiple virtual subnets may use the same physical IP multicast address.",
      "ja": "仮想サブネット内部のブロードキャストおよびマルチキャストトラフィックをサポートするために、一つ以上の管理マルチキャストアドレススコープ[8] [9] VSIDに割り当てることができます。 VSID内から発信されたすべてのマルチキャストまたはブロードキャストトラフィックがカプセル化され、割り当てられたマルチキャストアドレスに送信されます。ネットワークオペレータはVSID内部で使用されている各マルチキャストアドレスのためのPAのマルチキャストアドレスを設定するための管理の観点から、それは可能です。これは、最適なマルチキャストの取り扱いを容易にします。物理ネットワークデバイスと物理的なネットワークアーキテクチャのハードウェア機能によって、複数の仮想サブネットが同じ物理IPマルチキャストアドレスを使用することができます。"
    },
    {
      "indent": 3,
      "text": "Alternatively, based upon the configuration at the NVE, broadcast and multicast in the virtual subnet can be supported using N-way unicast. In N-way unicast, the sender NVE would send one encapsulated packet to every NVE in the virtual subnet. The sender NVE can encapsulate and send the packet as described in Section 4.3 (\"Unicast Traffic\"). This alleviates the need for multicast support in the physical network.",
      "ja": "あるいは、NVEにおける構成に基づいて、仮想サブネット内のブロードキャストおよびマルチキャストは、Nウェイユニキャストを使用してサポートすることができます。 Nウェイユニキャストでは、送信者NVEは、仮想サブネット内のすべてのNVEに1つのカプセル化されたパケットを送信します。 4.3節（「ユニキャストトラフィック」）で説明したように、送信者NVEは、パケットをカプセル化して送信することができます。これは、物理ネットワークにおけるマルチキャストサポートの必要性を軽減します。"
    },
    {
      "indent": 0,
      "text": "4.3. Unicast Traffic",
      "section_title": true,
      "ja": "4.3。ユニキャストトラフィック"
    },
    {
      "indent": 3,
      "text": "The NVGRE endpoint encapsulates a Layer 2 packet in GRE using the source PA associated with the endpoint with the destination PA corresponding to the location of the destination endpoint. As outlined earlier, there can be one or more PAs associated with an endpoint and policy will control which ones get used for communication. The encapsulated GRE packet is bridged and routed normally by the physical network to the destination PA. Bridging uses the outer Ethernet encapsulation for scope on the LAN. The only requirement is bidirectional IP connectivity from the underlying physical network. On the destination, the NVGRE endpoint decapsulates the GRE packet to recover the original Layer 2 frame. Traffic flows similarly on the reverse path.",
      "ja": "NVGREエンドポイントは、PAは、宛先エンドポイントの位置に対応する宛先PAとエンドポイントに関連付けられたソースを使用して、GREのレイヤ2パケットをカプセル化します。先に概説したように、エンドポイントとポリシーに関連付けられた1つまたは複数のPA通信に慣れたものをコントロールする存在であることができます。カプセル化されたGREパケットはブリッジと目的地PAへの物理的なネットワークによって正常にルーティングされます。ブリッジは、LAN上のスコープの外側のイーサネットカプセル化を使用しています。唯一の要件は、基礎となる物理ネットワークからの双方向のIP接続です。先に、NVGREエンドポイントは、元のレイヤ2フレームを回復するためにGREパケットをデカプセル化します。トラフィックは逆の経路でも同様に流れます。"
    },
    {
      "indent": 0,
      "text": "4.4. IP Fragmentation",
      "section_title": true,
      "ja": "4.4。 IPフラグメンテーション"
    },
    {
      "indent": 3,
      "text": "Section 5.1 of RFC 2003 [12] specifies mechanisms for handling fragmentation when encapsulating IP within IP. The subset of mechanisms NVGRE selects are intended to ensure that NVGRE-encapsulated frames are not fragmented after encapsulation en route to the destination NVGRE endpoint and that traffic sources can leverage Path MTU discovery.",
      "ja": "RFC 2003 [12]のセクション5.1は、IP内のIPをカプセル化する際にフラグメンテーションを処理するための機構を指定します。機構のサブセットが選択をNVGREカプセル化フレームが宛先NVGREエンドポイントへの途中で、トラフィックソースがパスMTU発見を活用できることをカプセル化した後、断片化されないことを保証することを意図しているNVGRE。"
    },
    {
      "indent": 3,
      "text": "A sender NVE MUST NOT fragment NVGRE packets. A receiver NVE MAY discard fragmented NVGRE packets. It is RECOMMENDED that the MTU of the physical network accommodates the larger frame size due to encapsulation. Path MTU or configuration via control plane can be used to meet this requirement.",
      "ja": "送信者は、NVEはNVGREパケットを断片化してはなりません。受信機NVEは、断片化NVGREパケットを捨てるかもしれ。物理ネットワークのMTUは、カプセル化のために、より大きなフレームサイズを収容することが推奨されます。制御プレーンを介したパスMTUや構成がこの要件を満たすために使用することができます。"
    },
    {
      "indent": 0,
      "text": "4.5. Address/Policy Management and Routing",
      "section_title": true,
      "ja": "4.5。アドレス/ポリシー管理とルーティング"
    },
    {
      "indent": 3,
      "text": "Address acquisition is beyond the scope of this document and can be obtained statically, dynamically, or using stateless address autoconfiguration. CA and PA space can be either IPv4 or IPv6. In fact, the address families don't have to match; for example, a CA can be IPv4 while the PA is IPv6, and vice versa.",
      "ja": "アドレス取得は、このドキュメントの範囲を超えていると、静的、動的、またはステートレスアドレス自動設定を使用して取得することができます。 CAとPAスペースは、IPv4またはIPv6のいずれかになります。実際には、アドレスファミリは一致している必要はありません。例えば、CAは、PAがIPv6である間はIPv4であること、およびその逆ができます。"
    },
    {
      "indent": 0,
      "text": "4.6. Cross-Subnet, Cross-Premise Communication",
      "section_title": true,
      "ja": "4.6。クロスサブネット、クロスプレミスコミュニケーション"
    },
    {
      "indent": 3,
      "text": "One application of this framework is that it provides a seamless path for enterprises looking to expand their virtual machine hosting capabilities into public clouds. Enterprises can bring their entire IP subnet(s) and isolation policies, thus making the transition to or from the cloud simpler. It is possible to move portions of an IP subnet to the cloud; however, that requires additional configuration on the enterprise network and is not discussed in this document. Enterprises can continue to use existing communications models like site-to-site VPN to secure their traffic.",
      "ja": "このフレームワークの1つの用途は、それがパブリッククラウドにその仮想マシンのホスティング機能を拡張するために探している企業のためのシームレスなパスを提供することです。企業は、このようにシンプルなクラウドへまたはからの移行を作り、彼らの全体のIPサブネット（複数可）と隔離政策をもたらすことができます。クラウドへのIPサブネットの部分を移動させることが可能です。しかし、それは、企業ネットワーク上の追加の構成を必要とし、この文書で議論されていません。企業は彼らのトラフィックを保護するために、サイト間VPNのような既存の通信モデルを使用し続けることができます。"
    },
    {
      "indent": 3,
      "text": "A VPN gateway is used to establish a secure site-to-site tunnel over the Internet, and all the enterprise services running in virtual machines in the cloud use the VPN gateway to communicate back to the enterprise. For simplicity, we use a VPN gateway configured as a VM (shown in Figure 2) to illustrate cross-subnet, cross-premise communication.",
      "ja": "VPNゲートウェイは、インターネット上での安全なサイトツーサイトトンネルを確立するために使用され、そしてクラウドでの仮想マシンで実行されているすべてのエンタープライズサービスは、バックの企業に通信するVPNゲートウェイを使用します。簡単にするために、我々は、クロスサブネット、クロス構内通信を説明するために（図2に示される）VMとして構成VPNゲートウェイを使用します。"
    },
    {
      "indent": 3,
      "text": "+-----------------------+        +-----------------------+\n|       Server 1        |        |       Server 2        |\n| +--------+ +--------+ |        | +-------------------+ |\n| | VM1    | | VM2    | |        | |    VPN Gateway    | |\n| | IP=CA1 | | IP=CA2 | |        | | Internal  External| |\n| |        | |        | |        | |  IP=CAg   IP=GAdc | |\n| +--------+ +--------+ |        | +-------------------+ |\n|       Hypervisor      |        |     | Hypervisor| ^   |\n+-----------------------+        +-------------------:---+\n            | IP=PA1                   | IP=PA4    | :\n            |                          |           | :\n            |     +-------------------------+      | : VPN\n            +-----|     Layer 3 Network     |------+ : Tunnel\n                  +-------------------------+        :\n                               |                     :\n     +-----------------------------------------------:--+\n     |                                               :  |\n     |                     Internet                  :  |\n     |                                               :  |\n     +-----------------------------------------------:--+\n                               |                     v\n                               |   +-------------------+\n                               |   |    VPN Gateway    |\n                               |---|                   |\n                          IP=GAcorp| External IP=GAcorp|\n                                   +-------------------+\n                                             |\n                                 +-----------------------+\n                                 |  Corp Layer 3 Network |\n                                 |      (In CA Space)    |\n                                 +-----------------------+\n                                             |\n                                +---------------------------+\n                                |       Server X            |\n                                | +----------+ +----------+ |\n                                | | Corp VMe1| | Corp VMe2| |\n                                | |  IP=CAe1 | |  IP=CAe2 | |\n                                | +----------+ +----------+ |\n                                |         Hypervisor        |\n                                +---------------------------+",
      "raw": true
    },
    {
      "indent": 12,
      "text": "Figure 2: Cross-Subnet, Cross-Premise Communication",
      "ja": "図2：クロスサブネット、クロスプレミスコミュニケーション"
    },
    {
      "indent": 3,
      "text": "The packet flow is similar to the unicast traffic flow between VMs; the key difference in this case is that the packet needs to be sent to a VPN gateway before it gets forwarded to the destination. As part of routing configuration in the CA space, a per-tenant VPN gateway is provisioned for communication back to the enterprise. The example illustrates an outbound connection between VM1 inside the data center and VMe1 inside the enterprise network. When the outbound packet from CA1 to CAe1 reaches the hypervisor on Server 1, the NVE in Server 1 can perform the equivalent of a route lookup on the packet. The cross-premise packet will match the default gateway rule, as CAe1 is not part of the tenant virtual network in the data center. The virtualization policy will indicate the packet to be encapsulated and sent to the PA of the tenant VPN gateway (PA4) running as a VM on Server 2. The packet is decapsulated on Server 2 and delivered to the VM gateway. The gateway in turn validates and sends the packet on the site-to-site VPN tunnel back to the enterprise network. As the communication here is external to the data center, the PA address for the VPN tunnel is globally routable. The outer header of this packet is sourced from GAdc destined to GAcorp. This packet is routed through the Internet to the enterprise VPN gateway, which is the other end of the site-to-site tunnel; at that point, the VPN gateway decapsulates the packet and sends it inside the enterprise where the CAe1 is routable on the network. The reverse path is similar once the packet reaches the enterprise VPN gateway.",
      "ja": "パケットフローは、仮想マシン間のユニキャストトラフィックフローと同様です。この場合の主な違いは、パケットは、それが宛先に転送される前にVPNゲートウェイに送信する必要があることです。 CAの空間構成のルーティングの一部として、毎テナントVPNゲートウェイはバック企業の通信のためにプロビジョニングされています。例では、企業ネットワーク内のデータセンター内部VM1とVMe1間のアウトバウンド接続を示す図です。 CA1からCAe1へのアウトバウンドパケットがサーバ1上のハイパーバイザーに到達すると、サーバ1でNVEは、パケットのルートルックアップと同等のものを実行することができます。 CAe1は、データセンター内のテナントの仮想ネットワークの一部ではないようにクロス前提パケットは、デフォルトゲートウェイのルールに一致します。仮想化ポリシーは、サーバ2上のVMとしてパケットを実行テナントVPNゲートウェイ（PA4）のPAにカプセル化され、送信されるパケットを示しますサーバ2にデカプセル化し、VMゲートウェイに送達されます。ゲートウェイは、順番に検証し、企業ネットワークへのバックサイト間VPNトンネルにパケットを送信します。ここでの通信は、データセンターの外部にあるとして、VPNトンネルのPAアドレスはグローバルにルーティング可能です。このパケットの外部ヘッダはGAcorp宛GAdcから供給されます。このパケットは、サイト間のトンネルのもう一方の端である企業VPNゲートウェイとインターネットを介してルーティングされます。その時点で、VPNゲートウェイは、パケットをデカプセル化し、CAe1がネットワーク上でルーティング可能である企業の内部に送ります。パケットは、企業VPNゲートウェイに達すると逆の経路も同様です。"
    },
    {
      "indent": 0,
      "text": "4.7. Internet Connectivity",
      "section_title": true,
      "ja": "4.7。インターネット接続"
    },
    {
      "indent": 3,
      "text": "To enable connectivity to the Internet, an Internet gateway is needed that bridges the virtualized CA space to the public Internet address space. The gateway needs to perform translation between the virtualized world and the Internet. For example, the NVGRE endpoint can be part of a load balancer or a NAT that replaces the VPN Gateway on Server 2 shown in Figure 2.",
      "ja": "インターネットへの接続を有効にするには、インターネットゲートウェイは、公共のインターネットアドレス空間に仮想化されたCAのスペースを埋めることが必要です。ゲートウェイは、仮想化された世界とインターネットの間の変換を実行する必要があります。例えば、NVGREエンドポイントは、ロード・バランサまたは図2に示したサーバ2にVPNゲートウェイを置き換えるNATの一部とすることができます。"
    },
    {
      "indent": 0,
      "text": "4.8. Management and Control Planes",
      "section_title": true,
      "ja": "4.8。管理および制御プレーン"
    },
    {
      "indent": 3,
      "text": "There are several protocols that can manage and distribute policy; however, it is outside the scope of this document. Implementations SHOULD choose a mechanism that meets their scale requirements.",
      "ja": "管理し、ポリシーを配布することができ、いくつかのプロトコルがあります。しかし、それはこのドキュメントの範囲外です。実装は、その規模の要件を満たしているメカニズムを選択する必要があります。"
    },
    {
      "indent": 0,
      "text": "4.9. NVGRE-Aware Devices",
      "section_title": true,
      "ja": "4.9。 NVGRE対応デバイス"
    },
    {
      "indent": 3,
      "text": "One example of a typical deployment consists of virtualized servers deployed across multiple racks connected by one or more layers of Layer 2 switches, which in turn may be connected to a Layer 3 routing domain. Even though routing in the physical infrastructure will work without any modification with NVGRE, devices that perform specialized processing in the network need to be able to parse GRE to get access to tenant-specific information. Devices that understand and parse the VSID can provide rich multi-tenant-aware services inside the data center. As outlined earlier, it is imperative to exploit multiple paths inside the network through techniques such as ECMP. The Key field (a 32-bit field, including both the VSID and the optional FlowID) can provide additional entropy to the switches to exploit path diversity inside the network. A diverse ecosystem is expected to emerge as more and more devices become multi-tenant aware. In the interim, without requiring any hardware upgrades, there are alternatives to exploit path diversity with GRE by associating multiple PAs with NVGRE endpoints with policy controlling the choice of which PA to use.",
      "ja": "典型的な展開の一例は、順番にレイヤ3ルーティングドメインに接続することができるレイヤ2スイッチ、の一つ以上の層によって接続された複数のラックに配備仮想サーバで構成されています。物理インフラストラクチャにルーティングするNVGREでそのまま動作するにもかかわらず、ネットワークに特化した処理を実行するデバイスは、テナント固有の情報へのアクセスを得るためにGREを解析できるようにする必要があります。理解し、VSIDを解析するデバイスは、データセンター内の豊富なマルチテナント対応のサービスを提供することができます。先に概説したように、そのようなECMPなどの技術を介してネットワーク内の複数のパスを利用することが不可欠です。キーフィールド（VSIDおよび任意のフローIDの両方を含む32ビットのフィールドは、）ネットワーク内のパスダイバーシチを利用するためにスイッチに追加のエントロピーを提供することができます。多様な生態系は、マルチテナント気づき、より多くのデバイスとして登場することが予想されます。その間に、ハードウェアのアップグレードを必要とせずに、PAを使用するかの選択を制御するポリシーにNVGREエンドポイントで複数のPAを関連付けることにより、GREとパスダイバーシチを利用する選択肢があります。"
    },
    {
      "indent": 3,
      "text": "It is expected that communication can span multiple data centers and also cross the virtual/physical boundary. Typical scenarios that require virtual-to-physical communication include access to storage and databases. Scenarios demanding lossless Ethernet functionality may not be amenable to NVGRE, as traffic is carried over an IP network. NVGRE endpoints mediate between the network-virtualized and non-network-virtualized environments. This functionality can be incorporated into Top-of-Rack switches, storage appliances, load balancers, routers, etc., or built as a stand-alone appliance.",
      "ja": "通信が複数のデータセンターにまたがると、仮想/物理的境界を越えることが期待されます。仮想 - 物理的な通信を必要とする典型的なシナリオは、ストレージとデータベースへのアクセスが含まれています。トラフィックがIPネットワーク上で行われるようロスレスイーサネット機能を要求シナリオは、NVGREに従順ではないかもしれません。 NVGREエンドポイントは、ネットワーク仮想化および非ネットワーク仮想化環境の間で仲介します。この機能は、などトップ・オブ・ラックスイッチ、ストレージアプライアンス、ロードバランサ、ルータ、中に組み込まれ、またはスタンドアロンのアプライアンスとして構築することができます。"
    },
    {
      "indent": 3,
      "text": "It is imperative to consider the impact of any solution on host performance. Today's server operating systems employ sophisticated acceleration techniques such as checksum offload, Large Send Offload (LSO), Receive Segment Coalescing (RSC), Receive Side Scaling (RSS), Virtual Machine Queue (VMQ), etc. These technologies should become NVGRE aware. IPsec Security Associations (SAs) can be offloaded to the NIC so that computationally expensive cryptographic operations are performed at line rate in the NIC hardware. These SAs are based on the IP addresses of the endpoints. As each packet on the wire gets translated, the NVGRE endpoint SHOULD intercept the offload requests and do the appropriate address translation. This will ensure that IPsec continues to be usable with network virtualization while taking advantage of hardware offload capabilities for improved performance.",
      "ja": "ホストのパフォーマンス上の任意のソリューションの影響を考慮することが不可欠です。今日のサーバーオペレーティングシステムは、このようなチェックサムオフロード、大量送信オフロード（LSO）などの高度な加速技術を採用し、セグメント合体（RSC）を受信、これらの技術は、NVGRE自覚すべきである等の側スケーリング（RSS）、仮想マシンキュー（VMQ）を、受信します。 IPsecセキュリティアソシエーション（SA）を計算コストの高い暗号化操作は、NICのハードウェアでラインレートで実行されるように、NICにオフロードすることができます。これらのSAは、エンドポイントのIPアドレスに基づいています。ワイヤ上の各パケットが翻訳さとしては、NVGREエンドポイントは、オフロード要求をインターセプトし、適切なアドレス変換を行う必要があります。これは、改善された性能のためにハードウェア・オフロード機能を利用しながら、IPsecは、ネットワーク仮想化で使用可能であり続けることを保証します。"
    },
    {
      "indent": 0,
      "text": "4.10. Network Scalability with NVGRE",
      "section_title": true,
      "ja": "4.10。 NVGREとネットワークのスケーラビリティ"
    },
    {
      "indent": 3,
      "text": "One of the key benefits of using NVGRE is the IP address scalability and in turn MAC address table scalability that can be achieved. An NVGRE endpoint can use one PA to represent multiple CAs. This lowers the burden on the MAC address table sizes at the Top-of-Rack switches. One obvious benefit is in the context of server virtualization, which has increased the demands on the network infrastructure. By embedding an NVGRE endpoint in a hypervisor, it is possible to scale significantly. This framework enables location information to be preconfigured inside an NVGRE endpoint, thus allowing broadcast ARP traffic to be proxied locally. This approach can scale to large-sized virtual subnets. These virtual subnets can be spread across multiple Layer 3 physical subnets. It allows workloads to be moved around without imposing a huge burden on the network control plane. By eliminating most broadcast traffic and converting others to multicast, the routers and switches can function more optimally by building efficient multicast trees. By using server and network capacity efficiently, it is possible to drive down the cost of building and managing data centers.",
      "ja": "NVGREを使用しての主な利点の一つを達成することができるIPアドレスのスケーラビリティとターンMACアドレステーブルのスケーラビリティです。 NVGREエンドポイントは、複数のCAを表現するために1 PAを使用することができます。これは、トップ・オブ・ラックスイッチのMACアドレステーブルのサイズの負担を下げます。 1つの明らかな利点は、ネットワークインフラストラクチャ上の需要を増加しているサーバ仮想化の文脈です。ハイパーバイザにNVGREエンドポイントを埋め込むことにより、大幅に縮小することが可能です。このフレームワークは、位置情報は、このように、ブロードキャストARPトラフィックがローカルにプロキシされることを可能にする、NVGREエンドポイントの内部に事前設定されることを可能にします。このアプローチは、大型の仮想サブネットに拡張することができます。これらの仮想サブネットは複数のレイヤ3の物理サブネットにまたがることができます。これは、ワークロードがネットワーク制御プレーンに大きな負担をかけることなく周りに移動することができます。ほとんどのブロードキャストトラフィックを排除し、マルチキャストに他人を変換することで、ルータやスイッチは、効率的なマルチキャストツリーを構築することにより、より最適に機能することができます。効率的に、サーバとネットワークの容量を使用することで、データセンターを構築し、管理コストを引き下げることが可能です。"
    },
    {
      "indent": 0,
      "text": "5. Security Considerations",
      "section_title": true,
      "ja": "5.セキュリティについての考慮事項"
    },
    {
      "indent": 3,
      "text": "This proposal extends the Layer 2 subnet across the data center and increases the scope for spoofing attacks. Mitigations of such attacks are possible with authentication/encryption using IPsec or any other IP-based mechanism. The control plane for policy distribution is expected to be secured by using any of the existing security protocols. Further management traffic can be isolated in a separate subnet/VLAN.",
      "ja": "この提案では、データセンター全体のレイヤ2サブネットを拡張し、スプーフィング攻撃の範囲を増加させます。このような攻撃の緩和策は、IPsecや他のIPベースのメカニズムを使用した認証/暗号化を可能にしています。ポリシー配布のための制御プレーンは、既存のセキュリティプロトコルのいずれかを使用して固定されることが期待されます。さらに、管理トラフィックは、別のサブネット/ VLANで単離することができます。"
    },
    {
      "indent": 3,
      "text": "The checksum in the GRE header is not supported. The mitigation of this is to deploy an NVGRE-based solution in a network that provides error detection along the NVGRE packet path, for example, using Ethernet Cyclic Redundancy Check (CRC) or IPsec or any other error detection mechanism.",
      "ja": "GREヘッダーのチェックサムがサポートされていません。この緩和は、イーサネット巡回冗長検査（CRC）やIPsecまたは他の任意の誤り検出メカニズムを使用して、例えば、NVGREパケット経路に沿ってエラー検出を提供するネットワークにおけるNVGREベースのソリューションを展開することです。"
    },
    {
      "indent": 0,
      "text": "6. Normative References",
      "section_title": true,
      "ja": "6.引用規格"
    },
    {
      "indent": 3,
      "text": "[1] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, DOI 10.17487/RFC2119, March 1997, <http://www.rfc-editor.org/info/rfc2119>.",
      "ja": "[1]ブラドナーの、S.、 \"要件レベルを示すためにRFCsにおける使用のためのキーワード\"、BCP 14、RFC 2119、DOI 10.17487 / RFC2119、1997年3月、<http://www.rfc-editor.org/info/ RFC2119>。"
    },
    {
      "indent": 3,
      "text": "[2] IANA, \"IEEE 802 Numbers\", <http://www.iana.org/assignments/ieee-802-numbers>.",
      "ja": "[2] IANA、 \"IEEE 802の番号\"、<http://www.iana.org/assignments/ieee-802-numbers>。"
    },
    {
      "indent": 3,
      "text": "[3] Farinacci, D., Li, T., Hanks, S., Meyer, D., and P. Traina, \"Generic Routing Encapsulation (GRE)\", RFC 2784, DOI 10.17487/RFC2784, March 2000, <http://www.rfc-editor.org/info/rfc2784>.",
      "ja": "[3]ファリナッチ、D.、李、T.、ハンクス、S.、マイヤー、D.、およびP. Trainaの、 \"総称ルーティングカプセル化（GRE）\"、RFC 2784、DOI 10.17487 / RFC2784、2000年3月、<HTTP ：//www.rfc-editor.org/info/rfc2784>。"
    },
    {
      "indent": 3,
      "text": "[4] Dommety, G., \"Key and Sequence Number Extensions to GRE\", RFC 2890, DOI 10.17487/RFC2890, September 2000, <http://www.rfc-editor.org/info/rfc2890>.",
      "ja": "[4] Dommety、G.、 \"GREのキーと一連番号拡大\"、RFC 2890、DOI 10.17487 / RFC2890、2000年9月、<http://www.rfc-editor.org/info/rfc2890>。"
    },
    {
      "indent": 3,
      "text": "[5] IEEE, \"IEEE Standard for Local and metropolitan area networks--Media Access Control (MAC) Bridges and Virtual Bridged Local Area Networks\", IEEE Std 802.1Q.",
      "ja": "[5] IEEE、「地方とメトロポリタンエリアネットワークのためのIEEE規格 - メディアアクセス制御（MAC）ブリッジと仮想ブリッジローカルエリアネットワーク」、IEEE規格802.​​1Q。"
    },
    {
      "indent": 3,
      "text": "[6] Greenberg, A., et al., \"VL2: A Scalable and Flexible Data Center Network\", Communications of the ACM, DOI 10.1145/1897852.1897877, 2011.",
      "ja": "[6]グリーンバーグ、A.、ら、 \"VL2：スケーラブルで柔軟なデータセンターネットワーク\"、ACMの通信、DOI 10.1145 / 1897852.1897877 2011。"
    },
    {
      "indent": 3,
      "text": "[7] Greenberg, A., et al., \"The Cost of a Cloud: Research Problems in Data Center Networks\", ACM SIGCOMM Computer Communication Review, DOI 10.1145/1496091.1496103, 2009.",
      "ja": "[7]グリーンバーグ、A.、ら、 \"クラウドのコスト：データセンターネットワークにおける研究課題\"。、ACM SIGCOMMコンピュータコミュニケーションレビュー、DOI 10.1145 / 1496091.1496103、2009。"
    },
    {
      "indent": 3,
      "text": "[8] Hinden, R. and S. Deering, \"IP Version 6 Addressing Architecture\", RFC 4291, DOI 10.17487/RFC4291, February 2006, <http://www.rfc-editor.org/info/rfc4291>.",
      "ja": "[8] HindenとR.とS.デアリング、 \"IPバージョン6アドレッシング体系\"、RFC 4291、DOI 10.17487 / RFC4291、2006年2月、<http://www.rfc-editor.org/info/rfc4291>。"
    },
    {
      "indent": 3,
      "text": "[9] Meyer, D., \"Administratively Scoped IP Multicast\", BCP 23, RFC 2365, DOI 10.17487/RFC2365, July 1998, <http://www.rfc-editor.org/info/rfc2365>.",
      "ja": "[9]マイヤー、D.、 \"管理用スコープのIPマルチキャスト\"、BCP 23、RFC 2365、DOI 10.17487 / RFC2365、1998年7月、<http://www.rfc-editor.org/info/rfc2365>。"
    },
    {
      "indent": 3,
      "text": "[10] Narten, T., Ed., Gray, E., Ed., Black, D., Fang, L., Kreeger, L., and M. Napierala, \"Problem Statement: Overlays for Network Virtualization\", RFC 7364, DOI 10.17487/RFC7364, October 2014, <http://www.rfc-editor.org/info/rfc7364>.",
      "ja": "[10] Narten氏、T.、エド、グレー、E.編、ブラック、D.、牙、L.、Kreeger、L.、及びM. Napierala、 \"問題文：ネットワーク仮想化のためのオーバーレイ。\"、RFC 7364、DOI 10.17487 / RFC7364、2014年10月、<http://www.rfc-editor.org/info/rfc7364>。"
    },
    {
      "indent": 3,
      "text": "[11] Lasserre, M., Balus, F., Morin, T., Bitar, N., and Y. Rekhter, \"Framework for Data Center (DC) Network Virtualization\", RFC 7365, DOI 10.17487/RFC7365, October 2014, <http://www.rfc-editor.org/info/rfc7365>.",
      "ja": "[11] Lasserre、M.、Balus、F.、モリン、T.、ビタール、N.、およびY. Rekhter、 \"データセンターのためのフレームワーク（DC）ネットワーク仮想化\"、RFC 7365、DOI 10.17487 / RFC7365、2014年10月、<http://www.rfc-editor.org/info/rfc7365>。"
    },
    {
      "indent": 3,
      "text": "[12] Perkins, C., \"IP Encapsulation within IP\", RFC 2003, DOI 10.17487/RFC2003, October 1996, <http://www.rfc-editor.org/info/rfc2003>.",
      "ja": "[12]パーキンス、C.、 \"IP内IPカプセル化\"、RFC 2003、DOI 10.17487 / RFC2003、1996年10月、<http://www.rfc-editor.org/info/rfc2003>。"
    },
    {
      "indent": 3,
      "text": "[13] Touch, J. and R. Perlman, \"Transparent Interconnection of Lots of Links (TRILL): Problem and Applicability Statement\", RFC 5556, DOI 10.17487/RFC5556, May 2009, <http://www.rfc-editor.org/info/rfc5556>.",
      "ja": "[13]タッチ、J.とR.パールマン、 \"リンクの多くの透明な相互接続（TRILL）：問題と適用性声明\"、RFC 5556、DOI 10.17487 / RFC5556、2009年5月、<のhttp：//www.rfc-editor .ORG /情報/ rfc5556>。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "ja": "協力者"
    },
    {
      "indent": 3,
      "text": "Murari Sridharan Microsoft Corporation 1 Microsoft Way Redmond, WA 98052 United States Email: muraris@microsoft.com",
      "ja": "Murari Sridharanマイクロソフト社1マイクロソフト道レドモンド、WA 98052米国電子メール：muraris@microsoft.com"
    },
    {
      "indent": 3,
      "text": "Albert Greenberg Microsoft Corporation 1 Microsoft Way Redmond, WA 98052 United States Email: albert@microsoft.com",
      "ja": "アルバート・グリーンバーグマイクロソフト社1マイクロソフト道レドモンド、WA 98052米国電子メール：albert@microsoft.com"
    },
    {
      "indent": 3,
      "text": "Narasimhan Venkataramiah Microsoft Corporation 1 Microsoft Way Redmond, WA 98052 United States Email: navenkat@microsoft.com",
      "ja": "Narasimhan Venkataramiahマイクロソフト社1マイクロソフト道レドモンド、WA 98052米国電子メール：navenkat@microsoft.com"
    },
    {
      "indent": 3,
      "text": "Kenneth Duda Arista Networks, Inc. 5470 Great America Pkwy Santa Clara, CA 95054 United States Email: kduda@aristanetworks.com",
      "ja": "ケネス・ドゥダアリスタネットワークス株式会社5470グレートアメリカパークウェイサンタクララ、CA 95054米国メールアドレス：kduda@aristanetworks.com"
    },
    {
      "indent": 3,
      "text": "Ilango Ganga Intel Corporation 2200 Mission College Blvd. M/S: SC12-325 Santa Clara, CA 95054 United States Email: ilango.s.ganga@intel.com",
      "ja": "Ilangoガンガーインテルコーポレーション2200ミッション・カレッジブルバードM / S：SC12-325サンタクララ、CA 95054米国メールアドレス：ilango.s.ganga@intel.com"
    },
    {
      "indent": 3,
      "text": "Geng Lin Google 1600 Amphitheatre Parkway Mountain View, CA 94043 United States Email: genglin@google.com",
      "ja": "庚林Googleの1600アンフィシアターパークウェイマウンテンビュー、CA 94043米国メールアドレス：genglin@google.com"
    },
    {
      "indent": 3,
      "text": "Mark Pearson Hewlett-Packard Co. 8000 Foothills Blvd. Roseville, CA 95747 United States Email: mark.pearson@hp.com",
      "ja": "マーク・ピアソンヒューレット・パッカード株式会社8000フットヒルズブルバードローズ、CA 95747米国メールアドレス：mark.pearson@hp.com"
    },
    {
      "indent": 3,
      "text": "Patricia Thaler Broadcom Corporation 3151 Zanker Road San Jose, CA 95134 United States Email: pthaler@broadcom.com",
      "ja": "パトリシア・ターラーブロードコム・コーポレーション3151 Zanker道サンノゼ、CA 95134米国メールアドレス：pthaler@broadcom.com"
    },
    {
      "indent": 3,
      "text": "Chait Tumuluri Emulex Corporation 3333 Susan Street Costa Mesa, CA 92626 United States Email: chait@emulex.com",
      "ja": "Chait TumuluriのEmulex社3333スーザン・ストリートコスタメサ、CA 92626米国メールアドレス：chait@emulex.com"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Pankaj Garg (editor) Microsoft Corporation 1 Microsoft Way Redmond, WA 98052 United States Email: pankajg@microsoft.com",
      "ja": "パンカジガーグ（編集者）マイクロソフト社1マイクロソフト道レドモンド、WA 98052米国メールアドレス：pankajg@microsoft.com"
    },
    {
      "indent": 3,
      "text": "Yu-Shun Wang (editor) Microsoft Corporation 1 Microsoft Way Redmond, WA 98052 United States Email: yushwang@microsoft.com",
      "ja": "ゆう旬王（編集者）マイクロソフト社1マイクロソフト道レドモンド、WA 98052米国電子メール：yushwang@microsoft.com"
    }
  ]
}