{
  "title": {
    "text": "RFC 6316 - Sockets Application Program Interface (API) for Multihoming Shim",
    "ja": "RFC 6316 - マルチホーミングシム用ソケットアプリケーション・プログラム・インターフェース（API）"
  },
  "number": 6316,
  "created_at": "2019-10-30 21:24:17.227632+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                           M. Komu\nRequest for Comments: 6316                              Aalto University\nCategory: Informational                                       M. Bagnulo\nISSN: 2070-1721                                                     UC3M\n                                                               K. Slavov\n                                                        S. Sugimoto, Ed.\n                                                                Ericsson\n                                                               July 2011",
      "raw": true
    },
    {
      "indent": 4,
      "text": "Sockets Application Program Interface (API) for Multihoming Shim",
      "raw": true
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "抽象"
    },
    {
      "indent": 3,
      "text": "This document specifies sockets API extensions for the multihoming shim layer. The API aims to enable interactions between applications and the multihoming shim layer for advanced locator management, and access to information about failure detection and path exploration.",
      "ja": "この文書では、マルチホーミングシム層のためのソケットAPIの拡張を指定します。 APIは、アプリケーションや高度なロケータ管理のためのマルチホーミングシム層、および障害検出と経路探索に関する情報へのアクセスとの間の相互作用を可能にすることを目指しています。"
    },
    {
      "indent": 3,
      "text": "This document is based on an assumption that a multihomed host is equipped with a conceptual sub-layer (hereafter called \"shim sub-layer\") inside the IP layer that maintains mappings between identifiers and locators. Examples of the shim are Shim6 and the Host Identity Protocol (HIP).",
      "ja": "この文書は、マルチホームホストの識別子とロケータとの間のマッピングを維持するIP層内部概念サブ層（以下、「シム副層」という）を備えていることを前提としています。シムの例としては、SHIM6とホスト識別プロトコル（HIP）です。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "このメモのステータス"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントはインターネット標準化過程仕様ではありません。それは、情報提供の目的のために公開されています。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are a candidate for any level of Internet Standard; see Section 2 of RFC 5741.",
      "ja": "このドキュメントはインターネットエンジニアリングタスクフォース（IETF）の製品です。これは、IETFコミュニティの総意を表しています。これは、公開レビューを受けており、インターネットエンジニアリング運営グループ（IESG）によって公表のために承認されています。 IESGによって承認されていないすべての文書がインターネットStandardのどんなレベルの候補です。 RFC 5741のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6316.",
      "ja": "このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttp://www.rfc-editor.org/info/rfc6316で取得することができます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（C）2011 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（http://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。コードコンポーネントは、トラスト法規定のセクションで説明4.eおよび簡体BSDライセンスで説明したように、保証なしで提供されているよう簡体BSDライセンスのテキストを含める必要があり、この文書から抽出されました。"
    },
    {
      "indent": 3,
      "text": "This document may contain material from IETF Documents or IETF Contributions published or made publicly available before November 10, 2008. The person(s) controlling the copyright in some of this material may not have granted the IETF Trust the right to allow modifications of such material outside the IETF Standards Process. Without obtaining an adequate license from the person(s) controlling the copyright in such materials, this document may not be modified outside the IETF Standards Process, and derivative works of it may not be created outside the IETF Standards Process, except to format it for publication as an RFC or to translate it into languages other than English.",
      "ja": "この材料の一部がIETFトラストにこのような材料の変更を許可する権利を与えられていない可能性がありますにこの文書は、2008年、IETFドキュメントまたは11月10日以前に発行または公開さIETF貢献から著作権を支配する者（複数可）材料を含んでいてもよいですIETF標準化プロセスの外。そのような材料の著作権を管理者（単数または複数）から適切なライセンスを取得することなく、この文書は、IETF標準化過程の外側修正されないかもしれません、そして、それの派生物は、IETF標準化過程の外側に作成されない場合があり、それをフォーマットする以外出版RFCとして、英語以外の言語に翻訳します。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1. Introduction ....................................................3\n2. Requirements Language ...........................................4\n3. Terminology and Background ......................................4\n4. System Overview .................................................7\n5. Requirements ....................................................8\n6. Socket Options for Multihoming Shim Sub-Layer ..................10\n   6.1. SHIM_ASSOCIATED ...........................................14\n   6.2. SHIM_DONTSHIM .............................................15\n   6.3. SHIM_HOT_STANDBY ..........................................16\n   6.4. SHIM_LOC_LOCAL_PREF .......................................17\n   6.5. SHIM_LOC_PEER_PREF ........................................18\n   6.6. SHIM_LOC_LOCAL_RECV .......................................19\n   6.7. SHIM_LOC_PEER_RECV ........................................20\n   6.8. SHIM_LOC_LOCAL_SEND .......................................20\n   6.9. SHIM_LOC_PEER_SEND ........................................22\n   6.10. SHIM_LOCLIST_LOCAL .......................................23\n   6.11. SHIM_LOCLIST_PEER ........................................25\n   6.12. SHIM_APP_TIMEOUT .........................................26\n   6.13. SHIM_PATHEXPLORE .........................................27",
      "raw": true
    },
    {
      "indent": 3,
      "text": "   6.14. SHIM_DEFERRED_CONTEXT_SETUP ..............................28\n   6.15. Applicability ............................................28\n   6.16. Error Handling ...........................................29\n7. Ancillary Data for Multihoming Shim Sub-Layer ..................29\n   7.1. Get Locator from Incoming Packet ..........................30\n   7.2. Set Locator for Outgoing Packet ...........................30\n   7.3. Notification from Application to Multihoming Shim\n        Sub-Layer .................................................31\n   7.4. Applicability .............................................31\n8. Data Structures ................................................32\n   8.1. Data Structure for Locator Information ....................32\n        8.1.1. Handling Locator behind NAT ........................33\n   8.2. Path Exploration Parameter ................................34\n   8.3. Feedback Information ......................................35\n9. System Requirements ............................................36\n10. Relation to Existing Sockets API Extensions ...................36\n11. Operational Considerations ....................................37\n   11.1. Conflict Resolution ......................................37\n   11.2. Incompatibility between IPv4 and IPv6 ....................38\n12. IANA Considerations ...........................................38\n13. Protocol Constant .............................................38\n14. Security Considerations .......................................38\n   14.1. Treatment of Unknown Locator .............................39\n        14.1.1. Treatment of Unknown Source Locator ...............39\n        14.1.2. Treatment of Unknown Destination Locator ..........39\n15. Acknowledgments ...............................................40\n16. References ....................................................40\n   16.1. Normative References .....................................40\n   16.2. Informative References ...................................41\nAppendix A. Context Forking .......................................42",
      "raw": true
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "This document defines sockets API extensions by which upper-layer protocols may be informed about and control the way in which a multihoming shim sub-layer in the IP layer manages the dynamic choice of locators. Initially, the multihoming shim sub-layer refers to Shim6 and/or HIP, but it is defined generically.",
      "ja": "この文書では、上位層プロトコルが知らされ、IP層でのマルチホーミングシムサブ層は、ロケータの動的な選択を管理する方法を制御できることにより、ソケットAPIの拡張機能を定義します。最初に、マルチホーミングシム副層がSHIM6及び/又はHIPを指し、それは一般的に定義されています。"
    },
    {
      "indent": 3,
      "text": "The role of the multihoming shim sub-layer (hereafter called \"shim sub-layer\" in this document) is to avoid impacts to upper-layer protocols that may be caused when the endhost changes its attachment point to the Internet -- for instance, in the case of a rehoming event under the multihomed environment. There is, however, a need for an API in the cases where 1) the upper-layer protocol is particularly sensitive to impacts, or 2) the upper-layer protocol wants to benefit from better knowledge of what is going on underneath.",
      "ja": "（以下、本文書では「シムサブ層」と呼ばれる）マルチホーミングシム副層の役割は、エンドホストがインターネットへの接続ポイントを変更するときに発生する可能性が上位層プロトコルへの影響を回避することである - 例えば、マルチホーム環境下でリホームイベントの場合インチ1）上位層プロトコルが影響に特に敏感である、または2）上位層プロトコルは、下に何が起こっているかのよりよい知識の恩恵を受けたい場合はAPIの必要性は、しかし、があります。"
    },
    {
      "indent": 3,
      "text": "There are various kinds of technologies that aim to solve the same issue (the multihoming issue). Note that there will be conflict when more than one shim sub-layer is active at the same time. The assumption made in this document is that there is only a single shim sub-layer (HIP or Shim6) activated on the system.",
      "ja": "同じ問題（マルチホーミングの問題を）解決することを目指した技術の様々な種類があります。複数のシムの副層が同時にアクティブである場合、競合が存在するであろうことに留意されたいです。本書で作られた仮定は、システム上で起動単一シム副層（HIPまたはSHIM6）が存在することです。"
    },
    {
      "indent": 3,
      "text": "The target readers of this document are application programmers who develop application software that may benefit greatly from multihomed environments. In addition, this document aims to provide necessary information for developers of shim protocols to implement APIs for enabling advanced locator management.",
      "ja": "このドキュメントの対象読者は、マルチホーム環境から大きな利益を得ることができるアプリケーションソフトを開発するアプリケーションプログラマです。また、この文書は、シム・プロトコルの開発者は、高度なロケータの管理を可能にするためのAPIを実装するために必要な情報を提供することを目的とします。"
    },
    {
      "indent": 0,
      "text": "2. Requirements Language",
      "section_title": true,
      "ja": "2.必要な言語"
    },
    {
      "indent": 3,
      "text": "The key words \"MUST\", \"MUST NOT\", \"REQUIRED\", \"SHALL\", \"SHALL NOT\", \"SHOULD\", \"SHOULD NOT\", \"RECOMMENDED\", \"MAY\", and \"OPTIONAL\" in this document are to be interpreted as described in [RFC2119].",
      "ja": "この文書のキーワード \"MUST\"、 \"MUST NOT\"、 \"REQUIRED\"、、、、 \"べきではない\" \"べきである\" \"ないもの\" \"ものとし\"、 \"推奨\"、 \"MAY\"、および \"OPTIONAL\" はあります[RFC2119]に記載されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "3. Terminology and Background",
      "section_title": true,
      "ja": "3.用語と背景"
    },
    {
      "indent": 3,
      "text": "This section provides terminology used in this document. Basically, most of the terms used in this document are taken from the following documents:",
      "ja": "このセクションでは、このドキュメントで使用される用語を提供します。基本的には、このドキュメントで使用する用語のほとんどは、以下の文書から取られています。"
    },
    {
      "indent": 3,
      "text": "o Shim6 Protocol Specification [RFC5533]",
      "ja": "O SHIM6プロトコル仕様[RFC5533]"
    },
    {
      "indent": 3,
      "text": "o HIP Architecture [RFC4423]",
      "ja": "O HIPアーキテクチャ[RFC4423]"
    },
    {
      "indent": 3,
      "text": "o Reachability Protocol (REAP) [RFC5534]",
      "ja": "O到達性プロトコル（REAP）[RFC5534]"
    },
    {
      "indent": 3,
      "text": "In this document, the term \"IP\" refers to both IPv4 and IPv6, unless the protocol version is specifically mentioned. The following are definitions of terms frequently used in this document:",
      "ja": "プロトコルバージョンが具体的に言及されない限り、この文書では、用語「IP」は、IPv4とIPv6の両方を指します。本文書において頻繁に使用される用語の定義は次のとおりです。"
    },
    {
      "indent": 3,
      "text": "o Endpoint Identifier (EID) -- The identifier used by the application to specify the endpoint of a given communication. Applications may handle EIDs in various ways, such as long-lived connections, callbacks, and referrals [SHIM6-APP-REFER].",
      "ja": "所定の通信のエンドポイントを指定するためにアプリケーションによって使用される識別子 - エンドポイント識別子（EID）O。アプリケーションは、このような長命の接続、コールバック、および紹介など、様々な方法[SHIM6-APP-REFER]でのEIDを処理することができます。"
    },
    {
      "indent": 6,
      "text": "* In the case of Shim6, an identifier called a ULID (Upper-Layer Identifier) serves as an EID. A ULID is chosen from locators available on the host.",
      "ja": "* SHIM6、ULID（上層識別子）と呼ばれる識別子の場合にはEIDとして機能します。 ULIDは、ホスト上で使用可能なロケータから選択されます。"
    },
    {
      "indent": 6,
      "text": "* In the case of HIP, an identifier called a Host Identifier serves as an EID. A Host Identifier is derived from the public key of a given host. For the sake of backward compatibility with the sockets API, the Host Identifier is represented in the form of a hash of a public key.",
      "ja": "* HIPの場合には、ホスト識別子と呼ばれる識別子がEIDとして機能します。ホスト識別子は、特定のホストの公開鍵から導出されます。ソケットAPIとの下位互換性のために、ホスト識別子は、公開鍵のハッシュの形で表されています。"
    },
    {
      "indent": 6,
      "text": "* Note that the EID appears in the standard sockets API as an address, and does not appear in the extensions defined in this document, which only concern locators.",
      "ja": "* EIDアドレスなどの標準ソケットAPIに表示され、この文書、唯一の懸念ロケータに定義されている拡張子は表示されませんので注意してください。"
    },
    {
      "indent": 3,
      "text": "o Locator - The IP address actually used to deliver IP packets. Locators are present in the source and destination fields of the IP header of a packet on the wire. A locator as discussed in this document could be either an IPv4 address or an IPv6 address. Note that HIP can handle both IPv4 and IPv6 locators, whereas Shim6 can handle only IPv6 locators. For the HIP case, a locator can be a private IPv4 address when the host is behind a NAT. Section 8.1.1 gives a detailed description about the handling of a locator behind a NAT.",
      "ja": "Oロケータ -  IPアドレスは、実際にIPパケットを配信するために使用します。ロケータは、ワイヤ上のパケットのIPヘッダの送信元および宛先フィールド内に存在します。本書で説明したように、ロケータは、IPv4アドレスまたはIPv6アドレスのいずれかとすることができます。 SHIM6がIPv6のみロケータを扱うことができるのに対し、そのHIPは、IPv4とIPv6の両方のロケータを処理することができます。ホストがNATの背後にあるとき、HIPケースの場合、ロケータは、プライベートIPv4アドレスを指定できます。 8.1.1は、NATの背後にあるロケータの取り扱いについての詳細な説明を提供します。"
    },
    {
      "indent": 6,
      "text": "* List of locators - A list of locators associated with an EID. There are two lists of locators stored in a given context. One is associated with the local EID, and the other is associated with the remote EID. As defined in [RFC5533], the list of locators associated with an EID 'A' is denoted as Ls(A).",
      "ja": "*ロケータの一覧 -  EIDに関連したロケータのリスト。指定されたコンテキストに保存されているロケータの二つのリストがあります。一つは、ローカルEIDに関連付けられ、他方は遠隔EIDに関連しています。 [RFC5533]で定義されるように、EID「A」に関連付けられたロケータのリストLsは（A）のように表されます。"
    },
    {
      "indent": 6,
      "text": "* Preferred locator - The (source/destination) locator currently used to send packets within a given context.",
      "ja": "*好ましいロケータ - 現在指定されたコンテキスト内でパケットを送信するために使用される（ソース/宛先）ロケータ。"
    },
    {
      "indent": 6,
      "text": "* Unknown locator - Any locator that does not appear in the locator list of the shim context associated with the socket. When there is no shim context associated with the socket, any source and/or destination locator requested by the application is considered to be an unknown locator.",
      "ja": "*不明ロケータ - ソケットに関連付けられているシムコンテキストのロケータリストには表示されません任意のロケータ。ソケットに関連付けられた、シムコンテキストが存在しない場合、アプリケーションによって要求された任意のソース及び/又は宛先ロケータはロケータ未知であると考えられます。"
    },
    {
      "indent": 6,
      "text": "* Valid locator - A valid locator means that the locator is considered to be valid in the security sense. More specifically, the validity indicates whether the locator is part of a Hash-Based Address (HBA) set [RFC5535].",
      "ja": "*有効なロケータ - 有効なロケータは、ロケータは、セキュリティの意味で有効であると考えられていることを意味します。より具体的には、妥当性がロケータがハッシュベースアドレス（HBA）セット[RFC5535]の一部であるかどうかを示します。"
    },
    {
      "indent": 6,
      "text": "* Verified locator - A verified locator means that the locator is considered to be reachable according to the result of a REAP return routability check. Note that the verification applies only to the peer's locator.",
      "ja": "*確認済みロケータ - 検証ロケータロケータがREAPリターン・ルータビリティチェックの結果に応じて到達可能であると考えられていることを意味します。検証が唯一のピアのロケータに適用されることに注意してください。"
    },
    {
      "indent": 3,
      "text": "o Shim - The conceptual sub-layer inside the IP layer. This sub-layer maintains mappings between EIDs and locators. An EID can be associated with more than one locator at a time when the host is multihomed. The term \"shim\" does not refer to a specific protocol but refers to the conceptual sub-layer inside the IP layer.",
      "ja": "Oシム -  IP層の内部概念副層。このサブ層は、のEIDとロケータの間のマッピングを維持します。 EIDは、ホストがマルチホームされ、一度に複数のロケータに関連付けることができます。用語「シム」は、特定のプロトコルを指すが、IP層の内部概念副層を意味しません。"
    },
    {
      "indent": 3,
      "text": "o Identifier/locator adaptation - The adaptation performed at the shim sub-layer. This adaptation may end up re-writing the source and/or destination addresses of an IP packet. In the outbound packet processing, the EID pair is converted to the associated locator pair. In the inbound packet processing, the locator pair is converted to the EID pair.",
      "ja": "O識別子/ロケータ適応 - シム副層で行わ適応。この適応は、IPパケットの再書き込みのソースおよび/または宛先アドレスを終わることがあります。アウトバウンドパケット処理において、EID対は、関連するロケータ対に変換されます。インバウンドパケット処理では、ロケータペアはEID対に変換​​されます。"
    },
    {
      "indent": 3,
      "text": "o Context - The state information shared by a given pair of peers. Context stores a binding between the EID and associated locators. Contexts are maintained by the shim sub-layer. Deferred context setup is a scenario where a context is established after the communication starts. Deferred context setup is possible if the ULID is routable, such as in the case of Shim6.",
      "ja": "Oコンテキスト - ピアの所与の対によって共有される状態情報。コンテキストは、EID及び関連するロケータとの間の結合を格納します。コンテキストはシム副層によって維持されます。繰延コンテキストの設定は、通信開始後のコンテキストが確立されたシナリオです。 ULIDは、SHIM6の場合のように、ルーティング可能である場合に据え置きコンテキスト設定が可能です。"
    },
    {
      "indent": 3,
      "text": "o Reachability detection - The procedure to check reachability between a given locator pair.",
      "ja": "O到達可能性検出 - 所与ロケータペア間の到達可能性をチェックする手順。"
    },
    {
      "indent": 3,
      "text": "o Path - The sequence of routers that an IP packet goes through to reach the destination.",
      "ja": "Oパス -  IPパケットが宛先に到達するために経由するルーターのシーケンス。"
    },
    {
      "indent": 3,
      "text": "o Path exploration - The procedure to explore available paths for a given set of locator pairs.",
      "ja": "Oパス探査 - ロケータペアの所与のセットのために利用可能な経路を探索する手順。"
    },
    {
      "indent": 3,
      "text": "o Outage - The incident that prevents IP packets flowing from the source locator to the destination locator. When there is an outage, it means that there is no reachability between a given locator pair. The outage may be caused by various reasons, such as a shortage of network resources, congestion, and human error (faulty operation).",
      "ja": "Oの停止 - 宛先ロケータにソースロケータから流れるIPパケットを阻止事件。停電があった場合、それは、与えられたロケータペアの間に到達可能性がないことを意味します。障害は、ネットワークリソース、輻輳、および人的ミス（誤動作）の不足などの様々な理由によって引き起こされ得ます。"
    },
    {
      "indent": 3,
      "text": "o Working address pair - Considered to be \"working\" if the packet can safely travel from the source to the destination, where the packet contains the first address from the pair as the source address and the second address from the pair as the destination address. If reachability is confirmed in both directions, the address pair is considered to be working bi-directionally.",
      "ja": "アドレスペア作業O  - パケットが安全にパケットが送信元アドレスと宛先アドレスとしてペアから2番目のアドレスとしてペアからの最初のアドレスが含まれている送信先に元から移動することができる場合、「働く」ことを考えました。到達可能性が両方向に確認された場合、アドレスのペアが双方向に働いていると考えられます。"
    },
    {
      "indent": 3,
      "text": "o Reachability Protocol (REAP) - The protocol for detecting failure and exploring reachability in a multihomed environment. REAP is defined in [RFC5534].",
      "ja": "O到達性プロトコル（REAP） - 故障を検出し、マルチホーム環境内で到達可能性を探索するためのプロトコル。 [RFC5534]で定義されREAP。"
    },
    {
      "indent": 3,
      "text": "In this document, syntax and semantics of the API are given in the same way as in the Portable Operating System Interface (POSIX) standard [POSIX]. The API specifies how to use ancillary data (aka cmsg) to access the locator information with recvmsg() and/or sendmsg() I/O calls. The API is described in C language, and data types are defined in the POSIX format; intN_t means a signed integer of exactly N bits (e.g., int16_t), and uintN_t means an unsigned integer of exactly N bits (e.g., uint32_t).",
      "ja": "このドキュメントでは、APIの構文とセマンティクスはポータブルオペレーティングシステムインタフェース（POSIX）標準[POSIX]と同様に与えられています。 APIは、I / Oの呼び出し（）（）、および/またはsendmsgのrecvmsgのでロケータ情報にアクセスするために（別名CMSG）補助データを使用する方法を指定します。 APIは、C言語で記述され、データ型はPOSIX形式で定義されています。 intN_tは正確にNビット（例えば、int16_t）の符号付き整数を意味し、uintN_tは正確にNビットの符号なし整数（例えば、のuint32_t）を意味します。"
    },
    {
      "indent": 3,
      "text": "The distinction between \"connected\" sockets and \"unconnected\" sockets is important when discussing the applicability of the sockets API defined in this document. A connected socket is bound to a given peer, whereas an unconnected socket is not bound to any specific peers. A TCP socket becomes a connected socket when the TCP connection establishment is completed. UDP sockets are unconnected, unless the application uses the connect() system call.",
      "ja": "この文書で定義されたソケットAPIの適用可能性を議論する場合、「接続」ソケットと「未接続」のソケット間の区別は重要です。未接続のソケットが特定のピアにバインドされていないのに対し、接続されたソケットは、所与のピアに結合されます。 TCPコネクションの確立が完了すると、TCPソケットが接続されたソケットになります。アプリケーションはconnect（）システムコールを使用しない限り、UDPソケットは、接続されていません。"
    },
    {
      "indent": 0,
      "text": "4. System Overview",
      "section_title": true,
      "ja": "4.システムの概要"
    },
    {
      "indent": 3,
      "text": "Figure 1 illustrates the system overview. The shim sub-layer and REAP component exist inside the IP layer. Applications use the sockets API defined in this document to interface with the shim sub-layer and the transport layer for locator management, failure detection, and path exploration.",
      "ja": "図1は、システムの概要を示します。シム副層とREAP成分は、IP層の内部に存在します。アプリケーションは、シム副層およびロケータ管理のためのトランスポート層、障害検出、及び経路探索とインターフェースするために、この文書で定義されたソケットAPIを使用します。"
    },
    {
      "indent": 3,
      "text": "It is also possible that the shim sub-layer interacts with the transport layer; however, such an interaction is outside the scope of this document.",
      "ja": "シムサブ層は、トランスポート層と相互作用することも可能です。しかしながら、そのような相互作用は、この文書の範囲外です。"
    },
    {
      "indent": 7,
      "text": "                 +------------------------+\n                 |       Application      |\n                 +------------------------+\n                    ^                 ^\n       ~~~~~~~~~~~~~|~Socket Interface|~~~~~~~~~~~~~~\n                    |                 v\n        +-----------|------------------------------+\n        |           |  Transport Layer             |\n        +-----------|------------------------------+\n              ^     |\n+-------------|-----|-------------------------------------+\n|             v     v                                     |\n|   +-----------------------------+       +----------+    |  IP\n|   |            Shim             |<----->|   REAP   |    | Layer\n|   +-----------------------------+       +----------+    |\n|                       ^                      ^          |\n+-----------------------|----------------------|----------+\n                        v                      v\n        +------------------------------------------+\n        |                Link Layer                |\n        +------------------------------------------+",
      "raw": true
    },
    {
      "indent": 25,
      "text": "Figure 1: System Overview",
      "ja": "図1：システムの概要"
    },
    {
      "indent": 0,
      "text": "5. Requirements",
      "section_title": true,
      "ja": "5.要件"
    },
    {
      "indent": 3,
      "text": "The following is a list of requirements from applications:",
      "ja": "以下は、アプリケーションからの要件のリストです："
    },
    {
      "indent": 3,
      "text": "o Turn on/off shim. An application should be able to request to turn on or turn off the multihoming support by the shim layer:",
      "ja": "O /オフシムをオンにします。アプリケーションは、オンまたはシム層によってマルチホーミングサポートをオフにすることを要求することができるはずです。"
    },
    {
      "indent": 6,
      "text": "* Apply shim. The application should be able to explicitly request that the shim sub-layer apply multihoming support.",
      "ja": "*シムを適用します。アプリケーションは、シムサブ層はサポートをマルチホーミング適用することを明示的に要求することができるはずです。"
    },
    {
      "indent": 6,
      "text": "* Don't apply shim. The application should be able to request that the shim sub-layer not apply the multihoming support but apply normal IP processing at the IP layer.",
      "ja": "*シムを適用しないでください。アプリケーションは、シムサブ層は、マルチホーミングサポートを適用するが、IP層での通常のIP処理を適用しないことを要求することができるはずです。"
    },
    {
      "indent": 6,
      "text": "* Note that this function is also required by other types of multihoming mechanisms, such as the Stream Control Transmission Protocol (SCTP) and multipath TCP, to avoid potential conflict with the shim sub-layer.",
      "ja": "*シム副層との潜在的な競合を回避するために、この関数はまた、ストリーム制御伝送プロトコル（SCTP）とマルチパスTCPなどのマルチホーミング機構の他のタイプによって必要とされることに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "o Locator management.",
      "ja": "Oロケータ管理。"
    },
    {
      "indent": 6,
      "text": "* It should be possible to set a preferred source and/or destination locator within a given context.",
      "ja": "*特定のコンテキスト内の好ましいソース及び/又は宛先ロケータを設定することが可能であるべきです。"
    },
    {
      "indent": 6,
      "text": "* It should be possible to get a preferred source and/or destination locator within a given context.",
      "ja": "*特定のコンテキスト内の好ましいソース及び/又は宛先ロケータを取得することが可能であるべきです。"
    },
    {
      "indent": 6,
      "text": "* It should be possible to set a list of source and/or destination locators within a given context: Ls(local) and Ls(remote).",
      "ja": "*特定のコンテキスト内のソースおよび/または宛先ロケータのリストを設定することが可能であるべきではLS（ローカル）及びLS（リモート）。"
    },
    {
      "indent": 6,
      "text": "* It should be possible to get a list of source and/or destination locators within a given context: Ls(local) and Ls(remote).",
      "ja": "*指定されたコンテキスト内のソースおよび/または宛先ロケータのリストを取得することは可能である必要があります。ls（ローカル）とLS（リモート）。"
    },
    {
      "indent": 3,
      "text": "o Notification from applications and upper-layer protocols to the shim sub-layer about the status of the communication. The notification occurs in an event-based manner. Applications and/or upper-layer protocols may provide positive feedback or negative feedback to the shim sub-layer. Note that these types of feedback are mentioned in [RFC5534]:",
      "ja": "通信の状態に関するシム副層のアプリケーションと上位層プロトコルからO通知。通知は、イベントベースの方法で発生します。アプリケーションおよび/または上位層プロトコルは、シムサブ層への正のフィードバックまたは負のフィードバックを提供してもよいです。フィードバックのこれらのタイプは、[RFC5534]に記載されていることに注意してください："
    },
    {
      "indent": 6,
      "text": "* Applications and/or upper-layer protocols (e.g., TCP) may provide positive feedback to the shim sub-layer informing that the communication is going well.",
      "ja": "*アプリケーション及び/又は上位層プロトコル（例えば、TCP）通信がうまくいっていることを知らせるシム副層に正のフィードバックを提供してもよいです。"
    },
    {
      "indent": 6,
      "text": "* Applications and/or upper-layer protocols (e.g., TCP) may provide negative feedback to the shim sub-layer informing that the communication status is not satisfactory. TCP may detect a problem when it does not receive any expected ACK message from the peer. The REAP module may be triggered by the negative feedback and invoke the path exploration procedure.",
      "ja": "*アプリケーション及び/又は上位層プロトコル（例えば、TCP）は、通信状態が良好でない旨シム副層に負のフィードバックを提供してもよいです。それは、ピアから任意の期待ACKメッセージを受信しないとき、TCPは、問題を検出することができます。 REAPモジュールは、負のフィードバックによってトリガされ、経路探索プロシージャを呼び出すことができます。"
    },
    {
      "indent": 3,
      "text": "o Feedback from applications to the shim sub-layer. Applications should be able to inform the shim sub-layer of the timeout values for detecting failures, sending keepalives, and starting the exploration procedure. In particular, applications should be able to suppress keepalives.",
      "ja": "シムサブ層へのアプリケーションからのフィードバックO。アプリケーションは、障害を検出キープアライブを送信し、探索手順を開始するためのタイムアウト値のシムサブレイヤに通知することができなければなりません。具体的には、アプリケーションは、キープアライブを抑制することができるべきです。"
    },
    {
      "indent": 3,
      "text": "o Hot-standby. Applications may request the shim sub-layer for a hot-standby capability. This means that alternative paths are known to be working in advance of a failure detection. In such a case, it is possible for the shim sub-layer to immediately replace the current locator pair with an alternative locator pair.",
      "ja": "Oホットスタンバイ。アプリケーションは、ホットスタンバイ機能のためのシム副層を要求することができます。これは、代替パスが故障検出の前に働くことが知られていることを意味します。シム副層が直ちに代替ロケータ対で現在ロケータペアを交換するような場合に、それが可能です。"
    },
    {
      "indent": 3,
      "text": "o Eagerness for locator exploration. An application should be able to inform the shim sub-layer of how aggressively it wants the REAP mechanism to perform a path exploration (e.g., by specifying the number of concurrent attempts of discovery of working locator pairs) when an outage occurs on the path between the locator pair in use.",
      "ja": "ロケータ探査のためのOの意気込み。アプリケーションは、停止が間のパス上で発生したときに（作業ロケータペアの発見の同時試行回数を指定することで、例えば）パス探索を実行するためのメカニズムをREAP望んでどのように積極的にのシム副層に通知することができるはずです使用中のロケータペア。"
    },
    {
      "indent": 3,
      "text": "o Providing locator information to applications. An application should be able to obtain information about the locator pair that was actually used to send or receive packets.",
      "ja": "アプリケーションにロケータ情報を提供し、O。アプリケーションは、実際にパケットを送信または受信するために使用されたロケータペアに関する情報を取得することができなければなりません。"
    },
    {
      "indent": 6,
      "text": "* For inbound traffic, the application may be interested in the locator pair that was actually used to receive the packet.",
      "ja": "*インバウンドトラフィックの場合、アプリケーションが実際にパケットを受信するために使用されたロケータペアに興味があるかもしれません。"
    },
    {
      "indent": 6,
      "text": "* For outbound traffic, the application may be interested in the locator pair that was actually used to transmit the packet.",
      "ja": "*アウトバウンドトラフィックの場合、アプリケーションが実際にパケットを送信するために使用されたロケータペアに興味があるかもしれません。"
    },
    {
      "indent": 6,
      "text": "In this way, applications may have additional control of the locator management. For example, an application becomes capable of verifying if its preference for a locator is actually applied to the flow or not.",
      "ja": "このように、アプリケーションは、ロケータ管理の追加の制御を有することができます。例えば、アプリケーションは、ロケータのために好ましいのは、実際に流れかに適用した場合を検証することが可能となります。"
    },
    {
      "indent": 3,
      "text": "o Applications should be able to know if the shim sub-layer supports deferred context setup or not.",
      "ja": "Oアプリケーションは、シムサブ層は、繰延コンテキストの設定をサポートしているかどうかを知ることができるはずです。"
    },
    {
      "indent": 3,
      "text": "o An application should be able to know if the communication is now being served by the shim sub-layer or not.",
      "ja": "Oアプリケーションは、通信は現在、シム副層かによって提供されているかどうかを知ることができるはずです。"
    },
    {
      "indent": 3,
      "text": "o An application should be able to use a common interface to access an IPv4 locator and an IPv6 locator.",
      "ja": "Oアプリケーションは、IPv4とIPv6ロケータのロケータにアクセスするための共通のインターフェースを使用することができなければなりません。"
    },
    {
      "indent": 0,
      "text": "6. Socket Options for Multihoming Shim Sub-Layer",
      "section_title": true,
      "ja": "6.ソケットオプションマルチホーミングシム副層のための"
    },
    {
      "indent": 3,
      "text": "In this section, socket options that are specific to the shim sub-layer are defined.",
      "ja": "このセクションでは、シム副層に固有のソケットオプションが定義されています。"
    },
    {
      "indent": 3,
      "text": "Table 1 shows a list of the socket options that are specific to the shim sub-layer. All of these socket options are defined at the level SOL_SHIM. When an application uses one of the socket options by getsockopt() or setsockopt(), the second argument MUST be set to SOL_SHIM.",
      "ja": "表1は、シム副層に固有のソケットオプションのリストを示しています。これらのソケットオプションのすべてがレベルSOL_SHIMで定義されています。アプリケーションは、のgetsockopt（）またはのsetsockopt（）によってソケットオプションの1つを使用する場合、第二引数はSOL_SHIMに設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "The first column of Table 1 gives the name of the option. The second column indicates whether the value for the socket option can be read by getsockopt(), and the third column indicates whether the value for the socket option can be written by setsockopt(). The fourth column provides a brief description of the socket option. The fifth column shows the type of data structure specified along with the socket option. By default, the data structure type is an integer.",
      "ja": "表1の最初の列には、オプションの名前を与えます。第二列）はソケットオプションの値のgetsockopt（で読み取ることができるかどうかを示し、第3列）は、ソケットオプションの値のsetsockopt（によって書き込むことができるかどうかを示します。 4列目は、ソケットオプションの簡単な説明を提供します。第5列は、ソケットオプションと一緒に指定されたデータ構造の種類を示しています。デフォルトでは、データ構造型は整数です。"
    },
    {
      "indent": 3,
      "text": "+-----------------------------+-----+-----+-----------------+-------+\n| optname                     | get | set | description     | dtype |\n+-----------------------------+-----+-----+-----------------+-------+\n| SHIM_ASSOCIATED             | o   |     | Get the         | int   |\n|                             |     |     | parameter that  |       |\n|                             |     |     | indicates       |       |\n|                             |     |     | whether the     |       |\n|                             |     |     | socket is       |       |\n|                             |     |     | associated (1)  |       |\n|                             |     |     | with any shim   |       |\n|                             |     |     | context or not  |       |\n|                             |     |     | (0).            |       |\n| SHIM_DONTSHIM               | o   | o   | Get or set the  | int   |\n|                             |     |     | parameter that  |       |\n|                             |     |     | indicates       |       |\n|                             |     |     | whether or not  |       |\n|                             |     |     | to employ       |       |\n|                             |     |     | multihoming     |       |\n|                             |     |     | support by the  |       |\n|                             |     |     | shim sub-layer. |       |\n| SHIM_HOT_STANDBY            | o   | o   | Get or set the  | int   |\n|                             |     |     | parameter to    |       |\n|                             |     |     | request the     |       |\n|                             |     |     | shim sub-layer  |       |\n|                             |     |     | to prepare a    |       |\n|                             |     |     | hot-standby     |       |\n|                             |     |     | connection.     |       |\n| SHIM_LOC_LOCAL_PREF         | o   | o   | Set the         | Note  |\n|                             |     |     | preference      | 1     |\n|                             |     |     | value for a     |       |\n|                             |     |     | source locator  |       |\n|                             |     |     | for outbound    |       |\n|                             |     |     | traffic.  Get   |       |\n|                             |     |     | the preferred   |       |\n|                             |     |     | locator for the |       |\n|                             |     |     | source locator  |       |\n|                             |     |     | for outbound    |       |\n|                             |     |     | traffic.        |       |",
      "raw": true
    },
    {
      "indent": 3,
      "text": "| SHIM_LOC_PEER_PREF | o | o | Set the | Note | | | | | preference | 1 | | | | | value for a | | | | | | destination | | | | | | locator for | | | | | | outbound | | | | | | traffic. Get | | | | | | the preferred | | | | | | locator for the | | | | | | destination | | | | | | locator for | | | | | | outbound | | | | | | traffic. | | | SHIM_LOC_LOCAL_RECV | o | o | Request the | int | | | | | shim sub-layer | | | | | | to store the | | | | | | destination | | | | | | locator of the | | | | | | received IP | | | | | | packet in an | | | | | | ancillary data | | | | | | object. | | | SHIM_LOC_PEER_RECV | o | o | Request the | int | | | | | shim sub-layer | | | | | | to store the | | | | | | source locator | | | | | | of the received | | | | | | IP packet in an | | | | | | ancillary data | | | | | | object. | | | SHIM_LOC_LOCAL_SEND | o | o | Get or set the | Note | | | | | source locator | 1 | | | | | of outgoing IP | | | | | | packets. | | | SHIM_LOC_PEER_SEND | o | o | Get or set the | Note | | | | | destination | 1 | | | | | locator of | | | | | | outgoing IP | | | | | | packets. | | | SHIM_LOCLIST_LOCAL | o | o | Get or set the | Note | | | | | list of | 2 | | | | | locators | | | | | | associated with | | | | | | the local EID. | |",
      "ja": "| SHIM_LOC_PEER_PREF | O | O |設定します|注意| | | | |好み| 1 | | | | |値| | | | | |先| | | | | | |のロケータ| | | | |アウトバウンド| | | | | |トラフィック。取得| | | | | |好適| | | | | |ロケータ| | | | | |先| | | | | | |のロケータ| | | | |アウトバウンド| | | | | |トラフィック。 | | | SHIM_LOC_LOCAL_RECV | O | O | |リクエストしますint型| | | | |シム副層| | | | | |保存します| | | | | |先| | | | | |ロケータ| | | | | | | IPを受け| | | | |でパケット| | | | | |補助データ| | | | | |オブジェクト。 | | | SHIM_LOC_PEER_RECV | O | O | |リクエストしますint型| | | | |シム副層| | | | | |保存します| | | | | |ソース・ロケータ| | | | | |受信| | | | | | IPパケット| | | | | |補助データ| | | | | |オブジェクト。 | | | SHIM_LOC_LOCAL_SEND | O | O |取得または設定|注意| | | | |ソース・ロケータ| 1 | | | | |送信IPの| | | | | |パケット。 | | | SHIM_LOC_PEER_SEND | O | O |取得または設定|注意| | | | |先| 1 | | | | |ロケータ| | | | | |送信IP | | | | | |パケット。 | | | SHIM_LOCLIST_LOCAL | O | O |取得または設定|注意| | | | |リスト| 2 | | | | |ロケータ| | | | | | |に関連付けられています| | | | |ローカルEID。 | |"
    },
    {
      "indent": 3,
      "text": "| SHIM_LOCLIST_PEER           | o   | o   | Get or set the  | Note  |\n|                             |     |     | list of         | 2     |\n|                             |     |     | locators        |       |\n|                             |     |     | associated with |       |\n|                             |     |     | the peer's EID. |       |\n| SHIM_APP_TIMEOUT            | o   | o   | Get or set the  | int   |\n|                             |     |     | Send Timeout    |       |\n|                             |     |     | value of REAP.  |       |\n| SHIM_PATHEXPLORE            | o   | o   | Get or set      | Note  |\n|                             |     |     | parameters for  | 3     |\n|                             |     |     | path            |       |\n|                             |     |     | exploration and |       |\n|                             |     |     | failure         |       |\n|                             |     |     | detection.      |       |\n| SHIM_CONTEXT_DEFERRED_SETUP | o   |     | Get the         | int   |\n|                             |     |     | parameter that  |       |\n|                             |     |     | indicates       |       |\n|                             |     |     | whether         |       |\n|                             |     |     | deferred        |       |\n|                             |     |     | context setup   |       |\n|                             |     |     | is supported or |       |\n|                             |     |     | not.            |       |\n+-----------------------------+-----+-----+-----------------+-------+",
      "raw": true
    },
    {
      "indent": 10,
      "text": "Table 1: Socket Options for Multihoming Shim Sub-Layer",
      "ja": "表1：マルチホーミングシム副層のためのソケットオプション"
    },
    {
      "indent": 3,
      "text": "Note 1: Pointer to a shim_locator as defined in Section 8.",
      "ja": "注1：ポインタをshim_locatorにセクション8で定義されています。"
    },
    {
      "indent": 3,
      "text": "Note 2: Pointer to an array of shim_locator data.",
      "ja": "注2：ポインタshim_locatorデータの配列です。"
    },
    {
      "indent": 3,
      "text": "Note 3: Pointer to a shim_pathexplore as defined in Section 8.",
      "ja": "注3：ポインタをshim_pathexploreにセクション8で定義されています。"
    },
    {
      "indent": 3,
      "text": "Figure 2 illustrates how the shim-specific socket options fit into the system model of sockets API. The figure shows that the shim sub-layer and the additional protocol components (IPv4 and IPv6) below the shim sub-layer are new to the system model. As previously mentioned, all the shim-specific socket options are defined at the SOL_SHIM level. This design choice brings the following advantages:",
      "ja": "図2は、シム固有のソケットオプションはソケットAPIのシステムモデルに適合方法を示しています。図は、シム副層とシムサブ層の下の追加のプロトコルコンポーネント（IPv4およびIPv6）をシステムモデルに新規であることを示しています。先に述べたように、全てのシム固有のソケットオプションはSOL_SHIMレベルで定義されています。この設計上の選択は、次のような利点をもたらします："
    },
    {
      "indent": 3,
      "text": "1. The existing sockets APIs continue to work at the layer above the shim sub-layer. That is, those legacy APIs handle IP addresses as identifiers.",
      "ja": "1.既存のソケットAPIは、シム副層の上の層で作業を続けます。それは、これらの従来のAPIは、識別子としてIPアドレスを処理、です。"
    },
    {
      "indent": 3,
      "text": "2. With newly defined socket options for the shim sub-layer, the application obtains additional control of locator management.",
      "ja": "シム副層のための新たに定義されたソケットオプション2.、アプリケーションは、ロケータ管理の追加の制御を取得します。"
    },
    {
      "indent": 3,
      "text": "3. The shim-specific socket options can be kept independent from address family (IPPROTO_IP or IPPROTO_IPV6) and transport protocol (IPPROTO_TCP or IPPROTO_UDP) settings.",
      "ja": "3.シム固有のソケットオプションは、アドレスファミリ（IPPROTO_IPまたはIPPROTO_IPV6）とトランスポートプロトコル（IPPROTO_TCPまたはIPPROTO_UDP）設定から独立して保持することができます。"
    },
    {
      "indent": 12,
      "text": "                s1 s2      s3 s4\n                 |  |       |  |\n+----------------|--|-------|--|----------------+\n|             +-------+   +-------+             |\n| IPPROTO_TCP |  TCP  |   |  UDP  |             |\n|             +-------+   +-------+             |\n|                |   \\     /   |                |\n|                |    -----    |                |\n|                |   /     \\   |                |\n|              +------+   +------+              |\n|   IPPROTO_IP | IPv4 |   | IPv6 | IPPROTO_IPV6 |\n|              +------+   +------+              |\n|                  \\         /             SOL_SOCKET\n|          +--------\\-------/--------+          |\n| SOL_SHIM |          shim           |          |\n|          +--------/-------\\--------+          |\n|                  /         \\                  |\n|              +------+   +------+              |\n|              | IPv4 |   | IPv6 |              |\n|              +------+   +------+              |\n|                  |          |                 |\n+------------------|----------|-----------------+\n                   |          |\n                 IPv4       IPv6\n               Datagram   Datagram",
      "raw": true
    },
    {
      "indent": 9,
      "text": "Figure 2: System Model of Sockets API with Shim Sub-Layer",
      "ja": "図2：シム副層とのソケットAPIのシステムモデル"
    },
    {
      "indent": 0,
      "text": "6.1. SHIM_ASSOCIATED",
      "section_title": true,
      "ja": "6.1.  SHIM_ASSOCIATED"
    },
    {
      "indent": 3,
      "text": "The SHIM_ASSOCIATED option is used to check whether or not the socket is associated with any shim context.",
      "ja": "SHIM_ASSOCIATEDオプションはソケットがどのシムコンテキストに関連付けられているかどうかをチェックするために使用されます。"
    },
    {
      "indent": 3,
      "text": "This option is meaningful when the locator information of the received IP packet does not tell whether or not the identifier/ locator adaptation is performed. Note that the EID pair and the locator pair may be identical in some cases.",
      "ja": "受信したIPパケットのロケータ情報は、識別子/ロケータ適応が行われているか否かを教えてくれていない場合、このオプションは意味があります。 EID対とロケータペアがある場合には同一であってもよいことに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "Note that the socket option is read-only, and the option value can be read by getsockopt(). The result (0/1/2) is set in the option value (the fourth argument of getsockopt()).",
      "ja": "ソケットオプションは読み取り専用であることに注意してください、そしてオプションの値は、のgetsockoptによって読み取ることができます（）。結果（0/1/2）は、オプション値（のgetsockoptの第四の引数（））に設定されています。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer. The option value indicates the presence of shim context. A return value of 1 means that the socket is associated with a shim context at the shim sub-layer. A return value of 0 indicates that there is no shim context associated with the socket. A return value of 2 means that it is not known whether or not the socket is associated with a shim context, and this MUST be returned only when the socket is unconnected. In other words, the returned value MUST be 0 or 1 when the socket is connected.",
      "ja": "オプション値のデータ型は、整数です。オプションの値は、シムコンテキストの存在を示します。 1の戻り値は、ソケットがシム副層におけるシムコンテキストに関連付けられていることを意味します。 0の戻り値は、ソケットに関連付けられた、シムコンテキストが存在しないことを示しています。 2の戻り値は、ソケットがシムコンテキストに関連付けられているか否かが不明であることを意味し、これは、ソケットが接続されていない場合にのみ戻されなければなりません。換言すれば、戻り値は、ソケットが接続されて、0または1でなければなりません。"
    },
    {
      "indent": 3,
      "text": "For example, the option can be used by the application as follows:",
      "ja": "たとえば、次のようにオプションは、アプリケーションで使用することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint optlen = sizeof(optval);",
      "raw": true
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_ASSOCIATED, &optval, &optlen);",
      "ja": "（FD、SOL_SHIM、SHIM_ASSOCIATED、＆optvalパラメータ、＆optlen）のgetsockopt。"
    },
    {
      "indent": 0,
      "text": "6.2. SHIM_DONTSHIM",
      "section_title": true,
      "ja": "6.2.  SHIM_DONTSHIM"
    },
    {
      "indent": 3,
      "text": "The SHIM_DONTSHIM option is used to request that the shim layer not provide the multihoming support for the communication established over the socket.",
      "ja": "SHIM_DONTSHIMオプションは、シム層は、ソケットの上に確立された通信のためのマルチホーミングサポートを提供しないことを要求するために使用されます。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer, and it takes 0 or 1. An option value of 0 means that the shim sub-layer is employed if available. An option value of 1 means that the application does not want the shim sub-layer to provide the multihoming support for the communication established over the socket.",
      "ja": "オプション値のデータ型は、整数であり、0のオプション値が利用可能な場合、シム副層が採用されていることを意味する0または1かかります。 1のオプション値は、アプリケーションがシムサブ層は、ソケットの上に確立された通信のためのマルチホーミングサポートを提供したくないことを意味します。"
    },
    {
      "indent": 3,
      "text": "The default value is set to 0, which means that the shim sub-layer performs identifier/locator adaptation if available.",
      "ja": "デフォルト値が利用可能な場合シムサブ層は、識別子/ロケータ適応を行うことを意味し、0に設定されています。"
    },
    {
      "indent": 3,
      "text": "Any attempt to disable the multihoming shim support MUST be made by the application before the socket is connected. If an application makes such an attempt for a connected socket, error code EOPNOTSUPP MUST be returned.",
      "ja": "ソケットが接続されている前に、マルチホーミングシムサポートを無効にしようとすると、アプリケーションによって行われなければなりません。アプリケーションが接続されたソケットのために、このような試みを行った場合、エラーコードEOPNOTSUPPが返されなければなりません。"
    },
    {
      "indent": 3,
      "text": "For example, an application can request that the system not apply the multihoming support as follows:",
      "ja": "例えば、アプリケーションは、次のように、システムは、マルチホーミング支援を適用しないことを要求することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;",
      "ja": "optvalパラメータのint;"
    },
    {
      "indent": 7,
      "text": "optval = 1;",
      "ja": "optval = 1。"
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_DONTSHIM, &optval, sizeof(optval));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_DONTSHIM、＆optvalパラメータ、はsizeof（optvalパラメータ））。"
    },
    {
      "indent": 3,
      "text": "For example, the application can check the option value as follows:",
      "ja": "たとえば、次のようにアプリケーションがオプションの値を確認することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(optval);",
      "ja": "LEN =はsizeof（optvalパラメータ）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_DONTSHIM, &optval, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_DONTSHIM、＆optvalパラメータ、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.3. SHIM_HOT_STANDBY",
      "section_title": true,
      "ja": "6.3.  SHIM_HOT_STANDBY"
    },
    {
      "indent": 3,
      "text": "The SHIM_HOT_STANDBY option is used to control whether or not the shim sub-layer employs a hot-standby connection for the socket. A hot-standby connection is an alternative working locator pair to the current locator pair. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_HOT_STANDBYオプションはシム副層がソケットのホットスタンバイ接続を使用するか否かを制御するために使用されます。ホットスタンバイ接続は、現在のロケータ対に代わる作業ロケータ対です。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer.",
      "ja": "オプション値のデータ型は、整数です。"
    },
    {
      "indent": 3,
      "text": "The option value can be set by setsockopt().",
      "ja": "オプション値は）（のsetsockoptで設定することができます。"
    },
    {
      "indent": 3,
      "text": "The option value can be read by getsockopt().",
      "ja": "オプション値）は（はgetsockoptで読み取ることができます。"
    },
    {
      "indent": 3,
      "text": "By default, the value is set to 0, meaning that hot-standby connection is disabled.",
      "ja": "デフォルトでは、値がホットスタンバイ接続が無効になっていることを意味し、0に設定されています。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can request establishment of a hot-standby connection by using the socket option as follows:",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用して、ホットスタンバイ接続の確立を要求することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;",
      "ja": "optvalパラメータのint;"
    },
    {
      "indent": 7,
      "text": "optval = 1;",
      "ja": "optval = 1。"
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_HOT_STANDBY, &optval, sizeof(optval));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_HOT_STANDBY、＆optvalパラメータ、はsizeof（optvalパラメータ））。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get the option value by using the socket option as follows:",
      "ja": "例えば、アプリケーションは次のようにソケットオプションを使って、オプションの値を取得できます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(optval);",
      "ja": "LEN =はsizeof（optvalパラメータ）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_HOT_STANDBY, &optval, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_HOT_STANDBY、＆optvalパラメータ、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.4. SHIM_LOC_LOCAL_PREF",
      "section_title": true,
      "ja": "6.4.  SHIM_LOC_LOCAL_PREF"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_LOCAL_PREF option is used to set the preference value for a source locator for outbound traffic, or to get the preference value of the source locator for outbound traffic that has the highest preference value.",
      "ja": "SHIM_LOC_LOCAL_PREFオプションは、アウトバウンドトラフィックの送信元ロケータのプリファレンス値を設定するために、または最も高い優先値を持つアウトバウンドトラフィックの送信元ロケータのプリファレンス値を取得するために使用されます。"
    },
    {
      "indent": 3,
      "text": "This option is effective only when there is a shim context associated with the socket.",
      "ja": "ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "By default, the option value is set to NULL, meaning that the option is disabled.",
      "ja": "デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、NULLに設定されています。"
    },
    {
      "indent": 3,
      "text": "The preference of a locator is defined by a combination of priority and weight as per DNS SRV [RFC2782]. Note that the Shim6 base protocol defines the preference of a locator in the same way.",
      "ja": "ロケータの嗜好は、DNS SRV [RFC2782]に従って優先度と重量との組み合わせによって定義されます。 SHIM6ベースプロトコルは同じ方法でロケータの嗜好を定義することに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the shim_locator information data structure as defined in Section 8.1.",
      "ja": "セクション8.1で定義されているオプション値のデータ型がshim_locator情報データ構造へのポインタです。"
    },
    {
      "indent": 3,
      "text": "When an application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when the validation of the specified locator fails.",
      "ja": "指定されたロケータの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "An application can set the preference value for a source locator for outbound traffic by setsockopt() with the socket option. Note that lc_ifidx and lc_flags (as defined in Section 8.1) have no effect in a set operation. Below is an example of such a set operation.",
      "ja": "アプリケーションは、ソケットオプションを使用してsetsockoptによるアウトバウンドトラフィックの送信元ロケータ（）の優先値を設定することができます。セット動作に影響を及ぼさない（セクション8.1で定義されるように）そのlc_ifidxとlc_flagsに留意されたいです。以下、このようなセット動作の一例です。"
    },
    {
      "indent": 7,
      "text": "struct shim_locator lc;\nstruct in6_addr ip6;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "/* ...set the locator (ip6)... */",
      "raw": true
    },
    {
      "indent": 7,
      "text": "memset(&lc, 0, sizeof(shim_locator));\nlc.lc_family = AF_INET6;  /* IPv6 */\nlc.lc_ifidx = 0;\nlc.lc_flags = 0;\nlc.lc_prio = 1;\nlc.lc_weight = 10;\nmemcpy(&lc.lc_addr, &ip6, sizeof(in6_addr));",
      "raw": true
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_PREF, &lc, sizeof(optval));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_PREF、＆LC、はsizeof（optvalパラメータ））。"
    },
    {
      "indent": 3,
      "text": "An application can get the source locator for outbound traffic that has the highest preference value by using the socket option. Below is an example of such a get operation.",
      "ja": "アプリケーションは、ソケットオプションを使用して、最高の優先順位値を持つアウトバウンドトラフィックの送信元ロケータを取得することができます。以下は、このようなget操作の一例です。"
    },
    {
      "indent": 7,
      "text": "struct shim_locator lc;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(lc);",
      "ja": "LEN =はsizeof（LC）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_PREF, &lc, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_PREF、＆LC、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.5. SHIM_LOC_PEER_PREF",
      "section_title": true,
      "ja": "6.5.  SHIM_LOC_PEER_PREF"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_PEER_PREF option is used to set the preference value for a destination locator for outbound traffic, or to get the preference value of the destination locator for outbound traffic that has the highest preference value.",
      "ja": "SHIM_LOC_PEER_PREFオプションは、アウトバウンドトラフィックの宛先ロケータのプリファレンス値を設定するために、または最も高い優先値を持つアウトバウンドトラフィックの宛先ロケータのプリファレンス値を取得するために使用されます。"
    },
    {
      "indent": 3,
      "text": "This option is effective only when there is a shim context associated with the socket.",
      "ja": "ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "By default, the option value is set to NULL, meaning that the option is disabled.",
      "ja": "デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、NULLに設定されています。"
    },
    {
      "indent": 3,
      "text": "As defined earlier, the preference of a locator is defined by a combination of priority and weight as per DNS SRV [RFC2782]. When there is more than one candidate destination locator, the shim sub-layer makes a selection based on the priority and weight specified for each locator.",
      "ja": "先に定義したように、ロケータの嗜好は、DNS SRV [RFC2782]に従って優先度と重量との組み合わせによって定義されます。複数の候補宛先ロケータがある場合、シムサブ層は、各ロケータに指定された優先度及び重量に基づいて選択を行います。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the shim_locator information data structure as defined in Section 8.1.",
      "ja": "セクション8.1で定義されているオプション値のデータ型がshim_locator情報データ構造へのポインタです。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when the validation of the requested locator fails.",
      "ja": "要求されたロケータの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.",
      "ja": "要求されたロケータが到達可能性確認に応じて到達不能であると判断された場合、エラーコードEUNREACHABLELOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "The usage of the option is the same as that of SHIM_LOC_LOCAL_PREF.",
      "ja": "オプションの使用法はSHIM_LOC_LOCAL_PREFのものと同じです。"
    },
    {
      "indent": 0,
      "text": "6.6. SHIM_LOC_LOCAL_RECV",
      "section_title": true,
      "ja": "6.6.  SHIM_LOC_LOCAL_RECV"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_LOCAL_RECV option can be used to request that the shim sub-layer store the destination locator of the received IP packet in an ancillary data object that can be accessed by recvmsg(). This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOC_LOCAL_RECVオプションを要求するために、そのシム副層店のrecvmsgによってアクセスすることができる補助データオブジェクトで受信したIPパケットの宛先ロケータ（）を使用することができます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer. The option value MUST be binary (0 or 1). By default, the option value is set to 0, meaning that the option is disabled.",
      "ja": "オプション値のデータ型は、整数です。オプションの値は、バイナリである必要があります（0または1）。デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、0に設定されています。"
    },
    {
      "indent": 3,
      "text": "An application can set the option value by setsockopt().",
      "ja": "アプリケーションは、（）のsetsockoptでオプション値を設定することができます。"
    },
    {
      "indent": 3,
      "text": "An application can get the option value by getsockopt().",
      "ja": "アプリケーションは、（）はgetsockoptでオプションの値を取得することができます。"
    },
    {
      "indent": 3,
      "text": "See Section 7 for the procedure to access locator information stored in the ancillary data objects.",
      "ja": "補助的なデータオブジェクトに保存されたロケータ情報にアクセスするための手順については、セクション7を参照してください。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can request the shim sub-layer to store a destination locator by using the socket option as follows:",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用して、宛先ロケータを格納するためにシム副層を要求することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;",
      "ja": "optvalパラメータのint;"
    },
    {
      "indent": 7,
      "text": "optval = 1;",
      "ja": "optval = 1。"
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, &optval, sizeof(optval));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_RECV、＆optvalパラメータ、はsizeof（optvalパラメータ））。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get the option value as follows:",
      "ja": "たとえば、次のようにアプリケーションがオプションの値を取得できます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(optval);",
      "ja": "LEN =はsizeof（optvalパラメータ）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, &optval, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_RECV、＆optvalパラメータ、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.7. SHIM_LOC_PEER_RECV",
      "section_title": true,
      "ja": "6.7.  SHIM_LOC_PEER_RECV"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_PEER_RECV option is used to request that the shim sub-layer store the source locator of the received IP packet in an ancillary data object that can be accessed by recvmsg(). This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOC_PEER_RECVオプション）は、シム副層格納することのrecvmsg（によってアクセスすることができる補助データオブジェクトで受信したIPパケットの送信元ロケータを要求するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer. The option value MUST be binary (0 or 1). By default, the option value is set to 0, meaning that the option is disabled.",
      "ja": "オプション値のデータ型は、整数です。オプションの値は、バイナリである必要があります（0または1）。デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、0に設定されています。"
    },
    {
      "indent": 3,
      "text": "The option value can be set by setsockopt().",
      "ja": "オプション値は）（のsetsockoptで設定することができます。"
    },
    {
      "indent": 3,
      "text": "The option value can be read by getsockopt().",
      "ja": "オプション値）は（はgetsockoptで読み取ることができます。"
    },
    {
      "indent": 3,
      "text": "See Section 7 for the procedure to access locator information stored in the ancillary data objects.",
      "ja": "補助的なデータオブジェクトに保存されたロケータ情報にアクセスするための手順については、セクション7を参照してください。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "The usage of the option is the same as that of the SHIM_LOC_LOCAL_RECV option.",
      "ja": "オプションの使用法はSHIM_LOC_LOCAL_RECVオプションのものと同じです。"
    },
    {
      "indent": 0,
      "text": "6.8. SHIM_LOC_LOCAL_SEND",
      "section_title": true,
      "ja": "6.8.  SHIM_LOC_LOCAL_SEND"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_LOCAL_SEND option is used to request that the shim sub-layer use a specific locator as the source locator for the IP packets to be sent from the socket. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOC_LOCAL_SENDオプションはシム副層がソケットから送信されるIPパケットの送信元ロケータとして特定のロケータを使用することを要求するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the shim_locator data structure.",
      "ja": "オプション値のデータ型はshim_locatorデータ構造へのポインタです。"
    },
    {
      "indent": 3,
      "text": "An application can set the local locator by setsockopt(), providing a locator that is stored in a shim_locator data structure. When a zero-filled locator is specified, the pre-existing setting of the local locator is inactivated.",
      "ja": "アプリケーションはshim_locatorデータ構造に格納されたロケータを提供し、（）のsetsockoptによってローカルロケータを設定することができます。ゼロで満たされたロケータが指定されている場合、ローカルロケータの既存の設定が不活性化されます。"
    },
    {
      "indent": 3,
      "text": "An application can get the local locator by getsockopt().",
      "ja": "アプリケーションは、（）はgetsockoptでローカルロケータを取得することができます。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when an invalid locator is specified.",
      "ja": "無効なロケータが指定されている場合、エラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can request the shim sub-layer to use a specific local locator by using the socket option as follows:",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用して、特定のローカルロケータを使用するシム副層を要求することができます。"
    },
    {
      "indent": 7,
      "text": "struct shim_locator locator;\nstruct in6_addr ia6;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "/* an IPv6 address preferred for the source locator is copied\n   to the parameter ia6 */",
      "raw": true
    },
    {
      "indent": 7,
      "text": "memset(&locator, 0, sizeof(locator));",
      "ja": "memset（＆ロケータ、0、はsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "/* fill shim_locator data structure */\nlocator.lc_family = AF_INET6;\nlocator.lc_ifidx = 0;\nlocator.lc_flags = 0;\nlocator.lc_prio = 0;\nlocator.lc_weight = 0;\nmemcpy(&locator.lc_addr, &ia6, sizeof(ia6));",
      "raw": true
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &locator, sizeof(locator));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_SEND、＆ロケータはsizeof（ロケータ））。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get the designated local locator by using the socket option as follows:",
      "ja": "例えば、アプリケーションは次のようにソケットオプションを使って指定されたローカルロケータを取得することができます："
    },
    {
      "indent": 7,
      "text": "struct shim_locator locator;",
      "ja": "構造体shim_locatorロケータ。"
    },
    {
      "indent": 7,
      "text": "memset(&locator, 0, sizeof(locator));",
      "ja": "memset（＆ロケータ、0、はsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &locator, sizeof(locator));",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_SEND、＆ロケータはsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "/* check locator */",
      "raw": true
    },
    {
      "indent": 0,
      "text": "6.9. SHIM_LOC_PEER_SEND",
      "section_title": true,
      "ja": "6.9.  SHIM_LOC_PEER_SEND"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOC_PEER_SEND option is used to request that the shim sub-layer use a specific locator for the destination locator of IP packets to be sent from the socket. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOC_PEER_SENDオプションはシム副層がソケットから送信されるIPパケットの宛先ロケータのための特定のロケータを使用することを要求するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the shim_locator data structure.",
      "ja": "オプション値のデータ型はshim_locatorデータ構造へのポインタです。"
    },
    {
      "indent": 3,
      "text": "An application can set the remote locator by setsockopt(), providing a locator that is stored in a shim_locator data structure. When a zero-filled locator is specified, the pre-existing setting of the remote locator is inactivated.",
      "ja": "アプリケーションはshim_locatorデータ構造に格納されたロケータを提供し、（）のsetsockoptによって遠隔ロケータを設定することができます。ゼロで満たされたロケータが指定されている場合、リモート・ロケータの既存の設定が不活性化されます。"
    },
    {
      "indent": 3,
      "text": "An application can get the specified remote locator by getsockopt().",
      "ja": "アプリケーションは、（）はgetsockoptで指定されたリモートロケータを取得することができます。"
    },
    {
      "indent": 3,
      "text": "The difference between the SHIM_LOC_PEER_SEND option and the SHIM_LOC_PEER_PREF option is that the former guarantees the use of a requested locator when applicable, whereas the latter does not.",
      "ja": "SHIM_LOC_PEER_SENDオプションとSHIM_LOC_PEER_PREFオプションの違いは、後者にはないのに対し、前者は、該当する要求ロケータの使用を保証するものです。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when the validation of the requested locator fails.",
      "ja": "要求されたロケータの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet.",
      "ja": "要求されたロケータの到達可能性はまだ検証されていないと、エラーコードEUNVERIFIEDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.",
      "ja": "要求されたロケータが到達可能性確認に応じて到達不能であると判断された場合、エラーコードEUNREACHABLELOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "The usage of the option is the same as that of the SHIM_LOC_LOCAL_SEND option.",
      "ja": "オプションの使用法はSHIM_LOC_LOCAL_SENDオプションのものと同じです。"
    },
    {
      "indent": 0,
      "text": "6.10. SHIM_LOCLIST_LOCAL",
      "section_title": true,
      "ja": "6.10.  SHIM_LOCLIST_LOCAL"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOCLIST_LOCAL option is used to get or set the locator list associated with the local EID of the shim context associated with the socket. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOCLIST_LOCALオプションは、ソケットに関連付けられているシムコンテキストのローカルEIDに関連したロケータリストを取得または設定するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the buffer in which a locator list is stored. See Section 8 for the data structure for storing the locator information. By default, the option value is set to NULL, meaning that the option is disabled.",
      "ja": "オプション値のデータ型は、ロケータリストが格納されているバッファへのポインタです。ロケータ情報を格納するためのデータ構造については、セクション8を参照してください。デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、NULLに設定されています。"
    },
    {
      "indent": 3,
      "text": "An application can get the locator list by getsockopt(). Note that the size of the buffer pointed to by the optval argument SHOULD be large enough to store an array of locator information. The number of the locator information is not known beforehand.",
      "ja": "アプリケーションは、（）はgetsockoptでロケータリストを取得することができます。バッファのサイズは、引数はoptvalによって指されることに注意するロケータ情報の配列を格納するのに十分大きくなければなりません。ロケータ情報の数が予め知られていません。"
    },
    {
      "indent": 3,
      "text": "The local locator list can be set by setsockopt(). The buffer pointed to by the optval argument MUST contain an array of locator structures.",
      "ja": "ローカルロケータリスト）（のsetsockoptで設定することができます。バッファは、ロケータ構造体の配列を含まなければならないはoptval引数によって指されます。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when the validation of any of the specified locators failed.",
      "ja": "指定されたロケータのいずれかの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code ETOOMANYLOCATORS is returned when the number of locators specified exceeds the limit (SHIM_MAX_LOCATORS), or when the size of the buffer provided by the application is not large enough to store the locator list provided by the shim sub-layer.",
      "ja": "エラーコードETOOMANYLOCATORSは、指定されたロケータの数が制限（SHIM_MAX_LOCATORS）を超えたときに返される、またはアプリケーションによって提供されるバッファのサイズが大きくない場合、十分なシム副層によって提供されるロケータのリストを格納します。"
    },
    {
      "indent": 3,
      "text": "For example, an application can set a list of locators to be associated with the local EID by using the socket option as follows. Note that an IPv4 locator can be handled by HIP and not by Shim6.",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用して、ローカルEIDに関連することがロケータのリストを設定することができます。 IPv4のロケータは、HIPによってなくSHIM6によって処理することができることに留意されたいです。"
    },
    {
      "indent": 7,
      "text": "struct shim_locator locators[SHIM_MAX_LOCATORS];\nstruct sockaddr_in *sin;\nstruct sockaddr_in6 *sin6;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "memset(locators, 0, sizeof(locators));",
      "ja": "memsetを（ロケータ、0、はsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "...",
      "ja": "。。。"
    },
    {
      "indent": 7,
      "text": "/* obtain local IP addresses from local interfaces */",
      "raw": true
    },
    {
      "indent": 7,
      "text": "...",
      "ja": "。。。"
    },
    {
      "indent": 7,
      "text": "/* first locator (an IPv6 address) */\nlocators[0].lc_family = AF_INET6;\nlocators[0].lc_ifidx = 0;\nlocators[0].lc_flags = 0;\nlocators[0].lc_prio = 1;\nlocators[0].lc_weight = 0;\nmemcpy(&locators[0].lc_addr, &sa6->sin6_addr,\n       sizeof(sa6->sin6_addr));",
      "raw": true
    },
    {
      "indent": 7,
      "text": "...",
      "ja": "。。。"
    },
    {
      "indent": 7,
      "text": "/* second locator (an IPv4 address) */\nlocators[1].lc_family = AF_INET;\nlocators[1].lc_ifidx = 0;\nlocators[1].lc_flags = 0;\nlocators[1].lc_prio = 0;\nlocators[1].lc_weight = 0;\nmemcpy(&locators[1].lc_addr, &sa->sin_addr,\n       sizeof(sa->sin_addr));",
      "raw": true
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_LOCLIST_LOCAL, locators, sizeof(locators));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_LOCLIST_LOCAL、ロケータ、はsizeof（ロケータ））。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get a list of locators that are associated with the local EID by using the socket option as follows:",
      "ja": "例えば、アプリケーションは次のようにソケットオプションを使用して、ローカルEIDに関連付けられているロケータのリストを取得することができます。"
    },
    {
      "indent": 7,
      "text": "struct shim_locator locators[SHIM_MAX_LOCATORS];",
      "ja": "構造体shim_locatorロケータ[SHIM_MAX_LOCATORS]。"
    },
    {
      "indent": 7,
      "text": "memset(locators, 0, sizeof(locators));",
      "ja": "memsetを（ロケータ、0、はsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_RECV, locators, sizeof(locators));",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_RECV、ロケータ、はsizeof（ロケータ））。"
    },
    {
      "indent": 7,
      "text": "/* parse locators */\n...",
      "raw": true
    },
    {
      "indent": 0,
      "text": "6.11. SHIM_LOCLIST_PEER",
      "section_title": true,
      "ja": "6.11.  SHIM_LOCLIST_PEER"
    },
    {
      "indent": 3,
      "text": "The SHIM_LOCLIST_PEER option is used to get or set the locator list associated with the peer EID of the shim context associated with the socket. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_LOCLIST_PEERオプションは、ソケットに関連付けられているシムコンテキストのピアEIDに関連付けられたロケータリストを取得または設定するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the buffer where a locator list is stored. See Section 8 for the data structure for storing the locator information. By default, the option value is set to NULL, meaning that the option is disabled.",
      "ja": "オプション値のデータ型は、ロケータリストが格納されるバッファへのポインタです。ロケータ情報を格納するためのデータ構造については、セクション8を参照してください。デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、NULLに設定されています。"
    },
    {
      "indent": 3,
      "text": "An application can get the locator list by getsockopt(). Note that the size of the buffer pointed to by the optval argument SHOULD be large enough to store an array of locator information. The number of the locator information is not known beforehand.",
      "ja": "アプリケーションは、（）はgetsockoptでロケータリストを取得することができます。バッファのサイズは、引数はoptvalによって指されることに注意するロケータ情報の配列を格納するのに十分大きくなければなりません。ロケータ情報の数が予め知られていません。"
    },
    {
      "indent": 3,
      "text": "An application can set the locator list by setsockopt(). The buffer pointed to by the optval argument MUST contain an array of locator list items.",
      "ja": "アプリケーションは、（）のsetsockoptでロケータリストを設定することができます。バッファは、ロケータリスト項目の配列を含まなければなりませんはoptval引数によって指されます。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when the validation of any of the specified locators failed.",
      "ja": "指定されたロケータのいずれかの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet.",
      "ja": "要求されたロケータの到達可能性はまだ検証されていないと、エラーコードEUNVERIFIEDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check.",
      "ja": "要求されたロケータが到達可能性確認に応じて到達不能であると判断された場合、エラーコードEUNREACHABLELOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code ETOOMANYLOCATORS is returned when the number of locators specified exceeds the limit (SHIM_MAX_LOCATORS), or when the size of the buffer provided by the application is not large enough to store the locator list provided by the shim sub-layer.",
      "ja": "エラーコードETOOMANYLOCATORSは、指定されたロケータの数が制限（SHIM_MAX_LOCATORS）を超えたときに返される、またはアプリケーションによって提供されるバッファのサイズが大きくない場合、十分なシム副層によって提供されるロケータのリストを格納します。"
    },
    {
      "indent": 3,
      "text": "The usage of the option is the same as that of SHIM_LOCLIST_LOCAL.",
      "ja": "オプションの使用法はSHIM_LOCLIST_LOCALのものと同じです。"
    },
    {
      "indent": 0,
      "text": "6.12. SHIM_APP_TIMEOUT",
      "section_title": true,
      "ja": "6.12.  SHIM_APP_TIMEOUT"
    },
    {
      "indent": 3,
      "text": "The SHIM_APP_TIMEOUT option is used to get or set the Send Timeout value of REAP [RFC5534]. This option is effective only when there is a shim context associated with the socket.",
      "ja": "SHIM_APP_TIMEOUTオプションは、[RFC5534]をREAPの送信タイムアウト値を取得または設定するために使用されます。ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is an integer. The value indicates the period of timeout in seconds to send a REAP Keepalive message since the last outbound traffic. By default, the option value is set to 0, meaning that the option is disabled. When the option is disabled, the REAP mechanism follows its default Send Timeout value as specified in [RFC5534].",
      "ja": "オプション値のデータ型は、整数です。値は、最後のアウトバウンドトラフィック以来REAPキープアライブメッセージを送信するために秒でタイムアウトの期間を示します。デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、0に設定されています。オプションを無効にすると、REAPメカニズムは[RFC5534]で指定されたデフォルトタイムアウト値を送信し、次の。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "When there is no REAP instance on the system, error code EOPNOTSUPP is returned to the application.",
      "ja": "いかなるシステムにインスタンスをREAPが存在しない場合、エラーコードEOPNOTSUPPは、アプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can set the timeout value by using the socket option as follows:",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用してタイムアウト値を設定することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;",
      "ja": "optvalパラメータのint;"
    },
    {
      "indent": 7,
      "text": "optval = 15; /* 15 seconds */",
      "raw": true
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_APP_TIMEOUT, &optval, sizeof(optval));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_APP_TIMEOUT、＆optvalパラメータ、はsizeof（optvalパラメータ））。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get the timeout value by using the socket option as follows:",
      "ja": "例えば、アプリケーションは次のようにソケットオプションを使用してタイムアウト値を取得できます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(optval);",
      "ja": "LEN =はsizeof（optvalパラメータ）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_APP_TIMEOUT, &optval, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_APP_TIMEOUT、＆optvalパラメータ、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.13. SHIM_PATHEXPLORE",
      "section_title": true,
      "ja": "6.13.  SHIM_PATHEXPLORE"
    },
    {
      "indent": 3,
      "text": "The application MAY use this socket option to get or set parameters concerning path exploration. Path exploration is a procedure to find an alternative locator pair to the current locator pair. As the REAP specification defines, a peer may send Probe messages to find an alternative locator pair.",
      "ja": "アプリケーションは、パスの探査に関するパラメータを取得または設定するには、このソケットオプションを使用するかもしれません。パスの探索は、現在のロケータペアに代替ロケータペアを見つけるための手順です。 REAP仕様が定義されるように、ピアは、別のロケータペアを見つけるために、プローブメッセージを送信することができます。"
    },
    {
      "indent": 3,
      "text": "This option is effective only when there is a shim context associated with the socket.",
      "ja": "ソケットに関連付けられているシムコンテキストがある場合にのみ、このオプションは効果的です。"
    },
    {
      "indent": 3,
      "text": "The data type of the option value is a pointer to the buffer where a set of information for path exploration is stored. The data structure is defined in Section 8.",
      "ja": "オプション値のデータ型は、経路探索のための情報のセットが格納されているバッファへのポインタです。データ構造は、第8章で定義されています。"
    },
    {
      "indent": 3,
      "text": "By default, the option value is set to NULL, meaning that the option is disabled.",
      "ja": "デフォルトでは、オプションの値は、オプションが無効になっていることを意味し、NULLに設定されています。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can set parameters for path exploration by using the socket option as follows:",
      "ja": "例えば、アプリケーションは、次のようにソケットオプションを使用して、経路探索のためのパラメータを設定できます。"
    },
    {
      "indent": 7,
      "text": "struct shim6_pathexplore pe;",
      "ja": "構造体のshim6_pathexplore。"
    },
    {
      "indent": 7,
      "text": "pe.pe_probenum = 4;        /* times */\npe.pe_keepaliveto = 10;    /* seconds */\npe.pe_initprobeto = 500;   /* milliseconds */\npe.pe_reserved = 0;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_PATHEXPLORE, &pe, sizeof(pe));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_PATHEXPLORE、＆に、はsizeof（）へ）。"
    },
    {
      "indent": 3,
      "text": "For example, an application can get parameters for path exploration by using the socket option as follows:",
      "ja": "例えば、アプリケーションは次のようにソケットオプションを使用してパスの探査のためのパラメータを取得することができます。"
    },
    {
      "indent": 7,
      "text": "struct shim6_pathexplore pe;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(pe);",
      "ja": "LEN =はsizeof（に）;"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_PATHEXPLORE, &pe, &len);",
      "ja": "getsockopt（FD、SOL_SHIM、SHIM_PATHEXPLORE、＆PE、およびLEN）。"
    },
    {
      "indent": 0,
      "text": "6.14. SHIM_DEFERRED_CONTEXT_SETUP",
      "section_title": true,
      "ja": "6.14.  SHIM_DEFERRED_CONTEXT_SETUP"
    },
    {
      "indent": 3,
      "text": "The SHIM_DEFERRED_CONTEXT_SETUP option is used to check whether or not deferred context setup is possible. Deferred context setup means that the context is established in parallel with the data communication. Note that Shim6 supports deferred context setup and HIP does not, because EIDs in HIP (i.e., Host Identifiers) are non-routable.",
      "ja": "SHIM_DEFERRED_CONTEXT_SETUPオプションは延期コンテキストの設定が可能であるかどうかをチェックするために使用されます。遅延コンテキストセットアップは、コンテキストがデータ通信と並行して確立されることを意味します。 EIDは、HIPで（すなわち、ホスト識別子）が非ルーティング可能なので、SHIM6は繰延コンテキストの設定をサポートし、HIPにはないことに注意してください。"
    },
    {
      "indent": 3,
      "text": "Note that the socket option is read-only, and the option value can be read by getsockopt().",
      "ja": "ソケットオプションは読み取り専用であることに注意してください、そしてオプションの値は、のgetsockoptによって読み取ることができます（）。"
    },
    {
      "indent": 3,
      "text": "The data type for the option value is an integer. The option value MUST be binary (0 or 1). The option value of 1 means that the shim sub-layer supports deferred context setup.",
      "ja": "オプション値のデータ型は、整数です。オプションの値は、バイナリである必要があります（0または1）。 1のオプション値は、シムのサブ層は、繰延コンテキストの設定をサポートすることを意味します。"
    },
    {
      "indent": 3,
      "text": "When the application specifies the socket option to an unconnected socket, error code EOPNOTSUPP is returned to the application.",
      "ja": "アプリケーションが接続されていないソケットにソケットオプションを指定すると、エラーコードEOPNOTSUPPがアプリケーションに戻されます。"
    },
    {
      "indent": 3,
      "text": "For example, an application can check whether deferred context setup is possible or not as follows:",
      "ja": "例えば、アプリケーションは次のように繰り延べコンテキストの設定が可能であるかどうかを確認することができます。"
    },
    {
      "indent": 7,
      "text": "int optval;\nint len;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "len = sizeof(optval);",
      "ja": "LEN =はsizeof（optvalパラメータ）。"
    },
    {
      "indent": 7,
      "text": "getsockopt(fd, SOL_SHIM, SHIM_DEFERRED_CONTEXT_SETUP, &optval, &len);",
      "ja": "（FD、SOL_SHIM、SHIM_DEFERRED_CONTEXT_SETUP、＆optvalパラメータ、およびLEN）のgetsockopt。"
    },
    {
      "indent": 0,
      "text": "6.15. Applicability",
      "section_title": true,
      "ja": "6.15. 適用性"
    },
    {
      "indent": 3,
      "text": "All the socket options defined in this section except for the SHIM_DONTSHIM option are applicable to applications that use connected sockets.",
      "ja": "SHIM_DONTSHIMオプションを除き、このセクションで定義されたすべてのソケットオプションは、接続されたソケットを使用するアプリケーションにも適用可能です。"
    },
    {
      "indent": 3,
      "text": "All the socket options defined in this section except for the SHIM_ASSOCIATED, SHIM_DONTSHIM, and SHIM_CONTEXT_DEFERRED_SETUP options are effective only when there is a shim context associated with the socket.",
      "ja": "ソケットに関連付けられているシムコンテキストがある場合にのみSHIM_ASSOCIATED、SHIM_DONTSHIM、およびSHIM_CONTEXT_DEFERRED_SETUPオプションを除いて、このセクションで定義されたすべてのソケットオプションが有効です。"
    },
    {
      "indent": 0,
      "text": "6.16. Error Handling",
      "section_title": true,
      "ja": "6.16. エラー処理"
    },
    {
      "indent": 3,
      "text": "If successful, getsockopt() and setsockopt() return 0; otherwise, the functions return -1 and set errno to indicate an error.",
      "ja": "成功した場合、はgetsockopt（）とのsetsockopt（）の戻り0;そうでない場合、関数は-1を返し、エラーを示すためにerrnoを設定します。"
    },
    {
      "indent": 3,
      "text": "The following are new error values defined for some shim-specific socket options indicating that the getsockopt() or setsockopt() finished incompletely:",
      "ja": "以下のgetsockopt（）またはのsetsockopt（）が不完全に終了したことを示すいくつかのシム固有のソケットオプション用に定義された新しいエラー値です。"
    },
    {
      "indent": 3,
      "text": "EINVALIDLOCATOR This indicates that the locator is not part of the HBA set [RFC5535] within the shim context associated with the socket.",
      "ja": "EINVALIDLOCATORこれは、ロケータは、ソケットに関連付けられた、シムコンテキスト内HBAセット[RFC5535]の一部ではないことを示しています。"
    },
    {
      "indent": 3,
      "text": "EUNVERIFIEDLOCATOR This indicates that the reachability of the locator has not been confirmed. This error is applicable to only the peer's locator.",
      "ja": "EUNVERIFIEDLOCATORこれは、ロケータの到達性が確認されていないことを示しています。このエラーは、ピアのロケータに適用されます。"
    },
    {
      "indent": 3,
      "text": "EUNREACHABLELOCATOR This indicates that the locator is not reachable according to the result of the reachability check. This error is applicable to only the peer's locator.",
      "ja": "EUNREACHABLELOCATORこれは、ロケータが到達可能性チェックの結果に応じて到達できないことを示しています。このエラーは、ピアのロケータに適用されます。"
    },
    {
      "indent": 0,
      "text": "7. Ancillary Data for Multihoming Shim Sub-Layer",
      "section_title": true,
      "ja": "マルチホーミングシム副層のための7補助データ"
    },
    {
      "indent": 3,
      "text": "This section provides definitions of ancillary data to be used for locator management and notification from/to the shim sub-layer to/ from the application.",
      "ja": "このセクションでは、補助データの定義は、アプリケーションから/にシムサブ層へ/からのロケータ管理と通知に使用することが提供されます。"
    },
    {
      "indent": 3,
      "text": "When the application performs locator management by sendmsg() or recvmsg(), a member of the msghdr structure (given in Figure 3) called msg_control holds a pointer to the buffer in which one or more shim-specific ancillary data objects may be stored. An ancillary data object can store a single locator. It should be possible to process the shim-specific ancillary data object by the existing macros defined in the POSIX standard and [RFC3542].",
      "ja": "アプリケーションはsendmsgの（によってロケータの管理を行う場合）またはのrecvmsg（）、msg_controlと呼ばれる（図3に示す）msghdr構造体のメンバは、一つ以上のシム固有補助データオブジェクトを格納することができるバッファへのポインタを保持します。補助的なデータオブジェクトは、単一のロケータを格納することができます。 POSIX標準と[RFC3542]で定義された既存のマクロによってシム固有の補助データオブジェクトを処理することが可能であるべきです。"
    },
    {
      "indent": 8,
      "text": "struct msghdr {\n        caddr_t msg_name;       /* optional address */\n        u_int   msg_namelen;    /* size of address */\n        struct  iovec *msg_iov; /* scatter/gather array */\n        u_int   msg_iovlen;     /* # elements in msg_iov */\n        caddr_t msg_control;    /* ancillary data, see below */\n        u_int   msg_controllen; /* ancillary data buffer len */\n        int     msg_flags;      /* flags on received message */\n};",
      "raw": true
    },
    {
      "indent": 24,
      "text": "Figure 3: msghdr Structure",
      "ja": "図3：msghdr構造体"
    },
    {
      "indent": 3,
      "text": "In the case of an unconnected socket, msg_name stores the socket address of the peer. Note that the address is not a locator of the peer but the identifier of the peer. SHIM_LOC_PEER_RECV can be used to get the locator of the peer node.",
      "ja": "未接続のソケットの場合、はmsg_nameは、ピアのソケットアドレスを格納します。アドレスがピアのロケータが、ピアの識別子ではないことに留意されたいです。 SHIM_LOC_PEER_RECVは、ピア・ノードのロケータを取得するために使用することができます。"
    },
    {
      "indent": 3,
      "text": "Table 2 is a list of the shim-specific ancillary data that can be used for locator management by recvmsg() or sendmsg(). In any case, the value of cmsg_level MUST be set to SOL_SHIM.",
      "ja": "表2のrecvmsg（）またはsendmsgの（）によってロケータ管理に使用することができるシム固有補助データのリストです。いずれの場合においても、cmsg_levelメンバの値がSOL_SHIMに設定しなければなりません。"
    },
    {
      "indent": 5,
      "text": "+---------------------+-----------+-----------+-----------------+\n| cmsg_type           | sendmsg() | recvmsg() |   cmsg_data[]   |\n+---------------------+-----------+-----------+-----------------+\n| SHIM_LOC_LOCAL_RECV |           |     o     |      Note 1     |\n| SHIM_LOC_PEER_RECV  |           |     o     |      Note 1     |\n| SHIM_LOC_LOCAL_SEND |     o     |           |      Note 1     |\n| SHIM_LOC_PEER_SEND  |     o     |           |      Note 1     |\n| SHIM_FEEDBACK       |     o     |           | shim_feedback{} |\n+---------------------+-----------+-----------+-----------------+",
      "raw": true
    },
    {
      "indent": 19,
      "text": "Table 2: Shim-Specific Ancillary Data",
      "ja": "表2：シム固有の補助データ"
    },
    {
      "indent": 3,
      "text": "Note 1: cmsg_data[] within msg_control includes a single sockaddr_in{} or sockaddr_in6{} and padding if necessary",
      "ja": "注1：必要に応じてCMSG_DATA [] msg_control内の単一のsockaddr_in {}またはSOCKADDR_IN6 {}を含み、パディング"
    },
    {
      "indent": 0,
      "text": "7.1. Get Locator from Incoming Packet",
      "section_title": true,
      "ja": "7.1. 着信パケットからロケータを取得"
    },
    {
      "indent": 3,
      "text": "An application can get locator information from the received IP packet by specifying the shim-specific socket options for the socket. When SHIM_LOC_LOCAL_RECV and/or SHIM_LOC_PEER_RECV socket options are set, the application can retrieve a local and/or remote locator from the ancillary data.",
      "ja": "アプリケーションは、ソケットのシム固有のソケットオプションを指定することにより、受信したIPパケットからのロケータ情報を得ることができます。 SHIM_LOC_LOCAL_RECVおよび/またはSHIM_LOC_PEER_RECVソケットオプションが設定されている場合、アプリケーションは、補助データから、ローカルおよび/またはリモートのロケータを取得することができます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, the shim sub-layer MUST return zero-filled locator information to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、シムサブ層は、アプリケーションにゼロで満たされたロケータ情報を返さなければなりません。"
    },
    {
      "indent": 0,
      "text": "7.2. Set Locator for Outgoing Packet",
      "section_title": true,
      "ja": "7.2. 発信パケットのためにロケータを設定します。"
    },
    {
      "indent": 3,
      "text": "An application can specify the locators to be used for transmitting an IP packet by sendmsg(). When the ancillary data of cmsg_type SHIM_LOC_LOCAL_SEND and/or SHIM_LOC_PEER_SEND are specified, the application can explicitly specify the source and/or the destination locators to be used for the communication over the socket. If the specified locator pair is verified, the shim sub-layer overrides the locator(s) of the outgoing IP packet. Note that the effect is limited to the datagram transmitted by the sendmsg().",
      "ja": "アプリケーション）（にsendmsgによってIPパケットを送信するために使用されるロケータを指定することができます。 cmsg_typeのSHIM_LOC_LOCAL_SEND及び/又はSHIM_LOC_PEER_SENDの補助データが指定された場合、アプリケーションが明示的にソース及び/またはソケットを介した通信のために使用される宛先ロケータを指定することができます。指定されたロケータペアが確認された場合、シムサブ層は、発信IPパケットのロケータ（複数可）を上書きします。効果はsendmsgのによって送信データグラム（）に制限されることに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EINVALIDLOCATOR is returned when validation of the specified locator fails.",
      "ja": "指定されたロケータの検証が失敗したときにエラーコードEINVALIDLOCATORが返されます。"
    },
    {
      "indent": 3,
      "text": "Error code EUNVERIFIEDLOCATOR is returned when reachability for the requested locator has not been verified yet. The application is recommended to use another destination locator until the reachability check for the requested locator is done.",
      "ja": "要求されたロケータの到達可能性はまだ検証されていないと、エラーコードEUNVERIFIEDLOCATORが返されます。アプリケーションは、要求されたロケータの到達可能性チェックが完了するまで、別の宛先ロケータを使用することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "Error code EUNREACHABLELOCATOR is returned when the requested locator is determined to be unreachable according to a reachability check. The application is recommended to use another destination locator when receiving the error.",
      "ja": "要求されたロケータが到達可能性確認に応じて到達不能であると判断された場合、エラーコードEUNREACHABLELOCATORが返されます。アプリケーションがエラーを受信したときに、別の宛先ロケータを使用することをお勧めします。"
    },
    {
      "indent": 0,
      "text": "7.3. Notification from Application to Multihoming Shim Sub-Layer",
      "section_title": true,
      "ja": "7.3. マルチホーミングシム副層への応用からの通知"
    },
    {
      "indent": 3,
      "text": "An application MAY provide feedback to the shim sub-layer about the communication status. Such feedback is useful for the shim sub-layer to monitor the reachability status of the currently used locator pair in a given shim context.",
      "ja": "アプリケーションは、通信状態についてのシム副層にフィードバックを提供することができます。そのようなフィードバックは、与えられたシムコンテキストで現在使用ロケータペアの到達可能性の状態を監視するためのシム副層のために有用です。"
    },
    {
      "indent": 3,
      "text": "The notification can be made by sendmsg() specifying a new ancillary data called SHIM_FEEDBACK. The ancillary data can be handled by specifying the SHIM_FEEDBACK option in cmsg_type.",
      "ja": "通知はSHIM_FEEDBACKと呼ばれる新しい補助データを指定するにsendmsg（）によって行うことができます。補助データは、cmsg_typeでSHIM_FEEDBACKオプションを指定することによって処理することができます。"
    },
    {
      "indent": 3,
      "text": "When there is no shim context associated with the socket, error code ENOENT is returned to the application.",
      "ja": "ソケットに関連付けられた、シムコンテキストが存在しない場合、エラーコードENOENTがアプリケーションに返されます。"
    },
    {
      "indent": 3,
      "text": "See Section 8.3 for details of the data structure to be used.",
      "ja": "使用するデータ構造の詳細については、セクション8.3を参照してください。"
    },
    {
      "indent": 3,
      "text": "It is outside the scope of this document to describe how the shim sub-layer would react when feedback is provided by an application.",
      "ja": "これは、フィードバックは、アプリケーションによって提供されたときにシム副層が反応する方法を説明するために、この文書の範囲外です。"
    },
    {
      "indent": 0,
      "text": "7.4. Applicability",
      "section_title": true,
      "ja": "7.4. 適用性"
    },
    {
      "indent": 3,
      "text": "All the ancillary data for the shim sub-layer is applicable to connected sockets.",
      "ja": "シム副層のためのすべての補助データは、接続ソケットにも適用可能です。"
    },
    {
      "indent": 3,
      "text": "Care is needed when the SHIM_LOC_*_RECV socket option is used for stream-oriented sockets (e.g., TCP sockets) because there is no one-to-one mapping between a single send or receive operation and the data (e.g., a TCP segment) being received. In other words, there is no guarantee that the locator(s) set in the SHIM_LOC_*_RECV ancillary data is identical to the locator(s) that appears in the IP packets received. The shim sub-layer SHOULD provide the latest locator information to the application in response to the SHIM_LOC_*_RECV socket option.",
      "ja": "SHIM_LOCは_ * _ RECVソケットオプションがストリーム指向のソケット（例えば、TCPソケット）に使用される場合、単一の送信または受信操作とデータの間には1対1のマッピングが存在しないので注意が必要とされている（例えば、TCPセグメント）受信されています。言い換えれば、SHIM_LOCに設定されたロケータ（s）は_ * _ RECV補助データパケットを受信したIPに表示されたロケータ（S）と同じであるという保証はありません。シムサブ層はSHIM_LOC _ * _ RECVソケットオプションに応じて、アプリケーションに最新のロケータ情報を提供する必要があります。"
    },
    {
      "indent": 0,
      "text": "8. Data Structures",
      "section_title": true,
      "ja": "8.データ構造"
    },
    {
      "indent": 3,
      "text": "This section gives data structures for the shim sub-layer. These data structures are either used as a parameter for setsockopt() or getsockopt() (as mentioned in Section 6), or as a parameter for ancillary data to be processed by sendmsg() or recvmsg() (as mentioned in Section 7).",
      "ja": "このセクションでは、シム副層のためのデータ構造を提供します。 （第7節で述べたように）これらのデータ構造）は（第6節で述べたように）のいずれかのsetsockopt（）またははgetsockopt（）のパラメータとして使用されている、または補助データのパラメータとしては、sendmsg（）またはのrecvmsg（によって処理されます。"
    },
    {
      "indent": 0,
      "text": "8.1. Data Structure for Locator Information",
      "section_title": true,
      "ja": "8.1. ロケータ情報のデータ構造"
    },
    {
      "indent": 3,
      "text": "As defined in Section 6, the SHIM_LOC_*_PREF, SHIM_LOC_*_SEND, and SHIM_LOCLIST_* socket options need to handle one or more locator information points. Locator information includes not only the locator itself but also additional information about the locator that is useful for locator management. A new data structure is defined to serve as a placeholder for the locator information.",
      "ja": "第6節で定義されているように、SHIM_LOC _ * _ PREF、SHIM_LOC _ * _ SEND、およびSHIM_LOCLIST_ *ソケットオプションは、一つ以上のロケータ情報ポイントを処理する必要があります。ロケータ情報はロケータそのものだけでなく、ロケータ管理に有用であるロケータについての追加情報だけでなく、。新しいデータ構造は、ロケータ情報のプレースホルダとして機能するように定義されます。"
    },
    {
      "indent": 3,
      "text": "Figure 4 illustrates the data structure called shim_locator, which stores locator information.",
      "ja": "図4は、ロケータ情報を格納shim_locatorと呼ばれるデータ構造を示す図です。"
    },
    {
      "indent": 8,
      "text": "struct shim_locator {\n        uint8_t    lc_family;       /* address family */\n        uint8_t    lc_proto;        /* protocol */\n        uint16_t   lc_port;         /* port number */\n        uint16_t   lc_prio;         /* preference value */\n        uint16_t   lc_weight;       /* weight */\n        uint32_t   lc_ifidx;        /* interface index */\n        struct in6_addr lc_addr;    /* address */\n        uint16_t   lc_flags;        /* flags */\n};",
      "raw": true
    },
    {
      "indent": 21,
      "text": "Figure 4: Shim Locator Structure",
      "ja": "図4：シムロケータ構造"
    },
    {
      "indent": 3,
      "text": "lc_family Address family of the locator (e.g., AF_INET, AF_INET6). It is required that the parameter contains a non-zero value indicating the exact address family of the locator.",
      "ja": "ロケータのlc_familyアドレスファミリ（例えば、AF_INET、AF_INET6）。パラメータがロケータの正確なアドレスファミリを示し、ゼロ以外の値が含まれていることが必要です。"
    },
    {
      "indent": 3,
      "text": "lc_proto Internet Protocol number for the protocol that is used to handle a locator behind a NAT. The value MUST be set to zero when there is no NAT involved. When the locator is behind a NAT, the value MUST be set to IPPROTO_UDP.",
      "ja": "NATの背後にあるロケータを処理するために使用されるプロトコルのためのlc_protoインターネットプロトコル番号。何のNAT関係がない場合は、値をゼロに設定しなければなりません。ロケータがNATの背後にある場合は、値がIPPROTO_UDPに設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "lc_port Port number that is used for handling a locator behind a NAT.",
      "ja": "NATの背後にあるロケータを処理するために使用されているlc_portポート番号。"
    },
    {
      "indent": 3,
      "text": "lc_prio Priority of the locator. The range is 0-65535. The lowest priority value means the highest priority.",
      "ja": "ロケータのlc_prio優先順位。範囲は0〜65535です。最も低い優先度の値が最も高い優先度を意味します。"
    },
    {
      "indent": 3,
      "text": "lc_weight Weight value indicates a relative weight for locators with the same priority value. The range is 0-65535. A locator with higher weight value is prioritized over the other locators with lower weight values.",
      "ja": "lc_weight重量値が同じプライオリティ値を持つロケータの相対量を示しています。範囲は0〜65535です。より高い重み値を有するロケータは、より低い加重値を有する他のロケータよりも優先されます。"
    },
    {
      "indent": 3,
      "text": "lc_ifidx Interface index of the network interface to which the locator is assigned. This field is applicable only to local locators, and has no effect in set operations.",
      "ja": "ロケータが割り当てられているネットワークインタフェースのlc_ifidxインターフェイスインデックス。このフィールドは、ローカルロケータに適用可能であり、かつ集合演算では効果がありません。"
    },
    {
      "indent": 3,
      "text": "lc_addr Contains the locator. In the case of IPv4, the locator MUST be formatted in the IPv4-mapped IPv6 address as defined in [RFC4291]. The locator MUST be stored in network byte order.",
      "ja": "lc_addrは、ロケータが含まれています。 [RFC4291]で定義されたIPv4の場合には、ロケータは、IPv4マップIPv6アドレスでフォーマットされなければなりません。ロケータは、ネットワークバイト順に格納する必要があります。"
    },
    {
      "indent": 3,
      "text": "lc_flags Each bit of the flags represents a specific characteristic of the locator. The Hash-Based Address (HBA) is defined as 0x01. The Cryptographically Generated Address (CGA) is defined as 0x02. This field has no effect in set operations.",
      "ja": "lc_flagsフラグの各ビットは、ロケータの特定の特性を表しています。ハッシュベースアドレス（HBA）は、0x01のように定義されます。暗号化によって生成されたアドレス（CGA）は0x02のように定義されます。このフィールドは、集合演算では効果がありません。"
    },
    {
      "indent": 0,
      "text": "8.1.1. Handling Locator behind NAT",
      "section_title": true,
      "ja": "8.1.1.  NATの背後ロケータの取り扱い"
    },
    {
      "indent": 3,
      "text": "Note that the locator information MAY contain a locator behind a Network Address Translator (NAT). Such a situation may arise when the host is behind the NAT and uses a local address as a source locator to communicate with the peer. Note that a NAT traversal mechanism for HIP is defined, which allows a HIP host to tunnel control and data traffic over UDP [RFC5770]. Note also that the locator behind a NAT is not necessarily an IPv4 address and can be an IPv6 address. Below is an example where the application sets a UDP encapsulation interface as a source locator when sending IP packets.",
      "ja": "ロケータ情報が、ネットワークアドレス変換（NAT）の背後にあるロケータを含んでいてもよいことに注意してください。ホストはNATの背後にあるピアと通信するソースロケータとしてローカルアドレスを使用する場合、このような状況が生じ得ます。 UDP [RFC5770]を超えるトンネル制御およびデータトラフィックにHIPホストを可能にする、HIPのためのNATトラバーサルメカニズムが定義されていることに留意されたいです。 NATの背後にあるロケータが必ずしもIPv4アドレスではなく、IPv6アドレスできることにも注意してください。以下にIPパケットを送信するとき、アプリケーションは、ソース・ロケータとしてUDPカプセル化インターフェースを設定する例です。"
    },
    {
      "indent": 10,
      "text": "struct shim_locator locator;\nstruct in6_addr ia6;",
      "raw": true
    },
    {
      "indent": 10,
      "text": "/* copy the private IPv4 address to the ia6 as an IPv4-mapped\n   IPv6 address */",
      "raw": true
    },
    {
      "indent": 10,
      "text": "memset(&locator, 0, sizeof(locator));",
      "ja": "memset（＆ロケータ、0、はsizeof（ロケータ））。"
    },
    {
      "indent": 10,
      "text": "/* fill shim_locator data structure */\nlocator.lc_family = AF_INET;\nlocator.lc_proto = IPPROTO_UDP;\nlocator.lc_port = 50500;\nlocator.lc_ifidx = 0;\nlocator.lc_flags = 0;\nlocator.lc_prio = 0;\nlocator.lc_weight = 0;",
      "raw": true
    },
    {
      "indent": 10,
      "text": "memcpy(&locator.lc_addr, &ia6, sizeof(ia6));",
      "ja": "memcpy（＆locator.lc_addr、＆IA6、はsizeof（IA6））。"
    },
    {
      "indent": 10,
      "text": "setsockopt(fd, SOL_SHIM, SHIM_LOC_LOCAL_SEND, &locator, sizeof(locator));",
      "ja": "setsockopt（FD、SOL_SHIM、SHIM_LOC_LOCAL_SEND、＆ロケータはsizeof（ロケータ））。"
    },
    {
      "indent": 19,
      "text": "Figure 5: Handling Locator behind NAT",
      "ja": "図5：NATの背後ロケータの取り扱い"
    },
    {
      "indent": 0,
      "text": "8.2. Path Exploration Parameter",
      "section_title": true,
      "ja": "8.2. パス探査パラメータ"
    },
    {
      "indent": 3,
      "text": "As defined in Section 6, SHIM_PATHEXPLORE allows an application to set or read the parameters for path exploration and failure detection. A new data structure called shim_pathexplore is defined to store the necessary parameters. Figure 6 illustrates the data structure. The data structure can be passed to getsockopt() or setsockopt() as an argument.",
      "ja": "セクション6で定義されるように、SHIM_PATHEXPLOREは、パス探索及び故障検出のためのパラメータを設定または読み取りをアプリケーションに許可します。 shim_pathexploreと呼ばれる新しいデータ構造が必要なパラメータを格納するために定義されています。図6は、データ構造を示す図です。データ構造は、（GETSOCKOPTに渡すことができる）、またはのsetsockopt（）の引数として。"
    },
    {
      "indent": 8,
      "text": "struct shim_pathexplore {\n        uint16_t  pe_probenum;      /* # of initial probes */\n        uint16_t  pe_keepaliveto;   /* Keepalive Timeout */\n        uint16_t  pe_keepaliveint;  /* Keepalive Interval */\n        uint16_t  pe_initprobeto;   /* Initial Probe Timeout */\n        uint32_t  pe_reserved;      /* reserved */\n};",
      "raw": true
    },
    {
      "indent": 21,
      "text": "Figure 6: Path Explore Structure",
      "ja": "図6：パス構造を探索"
    },
    {
      "indent": 3,
      "text": "pe_probenum Indicates the number of initial Probe messages to be sent. The value MUST be set as per [RFC5534].",
      "ja": "pe_probenumが送信される初期プローブメッセージの数を示します。値は[RFC5534]に従って設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "pe_keepaliveto Indicates the timeout value in seconds for detecting a failure when the host does not receive any packets for a certain period of time while there is outbound traffic. When the timer expires, the path exploration procedure will be carried out by sending a REAP Probe message. The value MUST be set as per [RFC5534].",
      "ja": "pe_keepalivetoは、アウトバウンドトラフィックがある間、ホストは一定時間の任意のパケットを受信しない故障を検出するためのタイムアウト値を秒単位で示します。タイマが満了すると、経路探索手順はREAP Probeメッセージを送信することによって行われます。値は[RFC5534]に従って設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "pe_keepaliveint Indicates the interval of REAP Keepalive messages in seconds to be sent by the host when there is no outbound traffic to the peer host. The value MUST be set as per [RFC5534].",
      "ja": "pe_keepaliveintは、ピア・ホストへのアウトバウンドトラフィックが存在しない場合に、ホストによって送信される秒でREAPキープアライブメッセージの間隔を示します。値は[RFC5534]に従って設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "pe_initprobeto Indicates the retransmission timer of the REAP Probe message in milliseconds. Note that this timer is applied before exponential back-off is started. A REAP Probe message for the same locator pair may be retransmitted. The value MUST be set as per [RFC5534].",
      "ja": "pe_initprobetoは、ミリ秒単位でREAP Probeメッセージの再送タイマーを示します。指数バックオフを開始する前にこのタイマーが適用されることに注意してください。同じロケータペアのプローブREAPメッセージを再送信することができます。値は[RFC5534]に従って設定しなければなりません。"
    },
    {
      "indent": 3,
      "text": "pe_reserved A reserved field for future extension. By default, the field MUST be initialized to zero.",
      "ja": "将来の拡張のために予約されたフィールドをpe_reserved。デフォルトでは、フィールドはゼロに初期化されなければなりません。"
    },
    {
      "indent": 0,
      "text": "8.3. Feedback Information",
      "section_title": true,
      "ja": "8.3. フィードバック情報"
    },
    {
      "indent": 3,
      "text": "As mentioned in Section 7.3, applications can inform the shim sub-layer about the status of unicast reachability of the locator pair currently in use. The feedback information can be handled by using ancillary data called SHIM_FEEDBACK. A new data structure named shim_feedback is illustrated in Figure 7.",
      "ja": "7.3節で述べたように、アプリケーションは、現在使用されているロケータペアのユニキャスト到達可能性のステータスに関するシム副層に知らせることができます。フィードバック情報はSHIM_FEEDBACKと呼ばれる補助的なデータを用いて処理することができます。 shim_feedbackという名前の新しいデータ構造は、図7に示されています。"
    },
    {
      "indent": 8,
      "text": "struct shim_feedback {\n        uint8_t   fb_direction;    /* direction of traffic */\n        uint8_t   fb_indicator;    /* indicator (1-3) */\n        uint16_t  fb_reserved;     /* reserved */\n};",
      "raw": true
    },
    {
      "indent": 17,
      "text": "Figure 7: Feedback Information Structure",
      "ja": "図7：フィードバック情報構造"
    },
    {
      "indent": 3,
      "text": "fb_direction Indicates the direction of reachability between the locator pair in question. A value of 0 indicates outbound direction, and a value of 1 indicates inbound direction.",
      "ja": "fb_directionは、問題のロケータペア間の到達可能性の方向を示します。 0の値は、アウトバウンド方向を示し、1の値は、インバウンド方向を示しています。"
    },
    {
      "indent": 3,
      "text": "fb_indicator A value indicating the degree of satisfaction of a unidirectional reachability for a given locator pair.",
      "ja": "所与ロケータペアの単方向到達可能性の満足度を示す値をfb_indicator。"
    },
    {
      "indent": 6,
      "text": "* 0: Default value. Whenever this value is specified, the feedback information MUST NOT be processed by the shim sub-layer.",
      "ja": "* 0：デフォルト値。この値が指定されるたびに、フィードバック情報は、シム副層によって処理されてはなりません。"
    },
    {
      "indent": 6,
      "text": "* 1: Unable to connect. There is no unidirectional reachability between the locator pair in question.",
      "ja": "* 1：接続することができません。問題のロケータペアの間には一方向の到達可能性はありません。"
    },
    {
      "indent": 6,
      "text": "* 2: Unsatisfactory. The application is not satisfied with the unidirectional reachability between the locator pair in question.",
      "ja": "* 2：不満足。アプリケーションは、問題のロケータペア間の一方向の到達可能性に満足していないです。"
    },
    {
      "indent": 6,
      "text": "* 3: Satisfactory. There is satisfactory unidirectional reachability between the locator pair in question.",
      "ja": "* 3：満足。問題のロケータペアの間に十分な一方向の到達可能性があります。"
    },
    {
      "indent": 3,
      "text": "fb_reserved Reserved field. MUST be ignored by the receiver.",
      "ja": "予約フィールドをfb_reserved。受信機で無視しなければなりません。"
    },
    {
      "indent": 0,
      "text": "9. System Requirements",
      "section_title": true,
      "ja": "9.システム要件"
    },
    {
      "indent": 3,
      "text": "As addressed in Section 6, most of the socket options and ancillary data defined in this document are applicable to connected sockets. It is assumed that the kernel is capable of maintaining the association between a connected socket and a shim context. This requirement is considered to be reasonable because a pair of source and destination IP addresses is bound to a connected socket.",
      "ja": "6章で取り上げたように、この文書で定義されたソケットオプションと補助データのほとんどは、接続ソケットにも適用可能です。カーネルが接続されたソケットとシムコンテキストとの関連付けを維持することができることが想定されます。送信元と宛先IPアドレスのペアが接続されたソケットにバインドされているので、この要件は、合理的であると考えられています。"
    },
    {
      "indent": 0,
      "text": "10. Relation to Existing Sockets API Extensions",
      "section_title": true,
      "ja": "既存のソケットAPIの拡張機能への10の関係"
    },
    {
      "indent": 3,
      "text": "This section explains the relation between the sockets API defined in this document and the existing sockets API extensions.",
      "ja": "このセクションでは、この文書で定義されたソケットAPIと既存のソケットAPIの拡張機能との関係を説明しています。"
    },
    {
      "indent": 3,
      "text": "As mentioned in Section 6, the basic assumption is that the existing sockets API continues to work above the shim sub-layer. This means that the existing sockets API deals with identifiers, and the sockets API defined in this document deals with locators.",
      "ja": "第6節で述べたように、基本的な仮定は既存のソケットAPIは、シム副層の上に動作し続けることです。これは、既存のソケット識別子を持つAPIのお得な情報、およびロケータと、このドキュメントのお得な情報で定義されたソケットAPI。"
    },
    {
      "indent": 3,
      "text": "SHIM_LOC_LOCAL_SEND and SHIM_LOC_PEER_SEND socket options are semantically similar to the IPV6_PKTINFO sockets API in the sense that both provide a means for an application to set the source IP address of outbound IP packets.",
      "ja": "SHIM_LOC_LOCAL_SENDとSHIM_LOC_PEER_SENDソケットオプションは、両方のアウトバウンドIPパケットの送信元IPアドレスを設定するためのアプリケーションのための手段を提供するという意味でIPV6_PKTINFOソケットAPIと意味的に類似しています。"
    },
    {
      "indent": 3,
      "text": "SHIM_LOC_LOCAL_RECV and SHIM_LOC_PEER_RECV socket options are semantically similar to the IP_RECVDSTADDR and IPV6_PKTINFO sockets APIs in the sense that both provide a means for an application to get the source and/or destination IP address of inbound IP packets.",
      "ja": "SHIM_LOC_LOCAL_RECVとSHIM_LOC_PEER_RECVソケットオプションはIP_RECVDSTADDRと意味的に類似しており、IPV6_PKTINFO両方が着信IPパケットのソース及び/又は宛先IPアドレスを取得するためのアプリケーションのための手段を提供するという意味でAPIをソケット。"
    },
    {
      "indent": 3,
      "text": "getsockname() and getpeername() enable an application to get the \"name\" of the communication endpoints, which is represented by a pair of IP addresses and port numbers assigned to the socket. getsockname() gives the IP address and port number assigned to the socket on the local side, and getpeername() gives the IP address and port number of the peer side.",
      "ja": "getsockname（）とgetpeername（）ソケットに割り当てられたIPアドレスとポート番号の対で表される通信エンドポイントの「名前」を取得するアプリケーションを可能にします。 getsockname（）は、ローカル側のソケットに割り当てられたIPアドレスとポート番号を与え、getpeername（）ピア側のIPアドレス及びポート番号を与えます。"
    },
    {
      "indent": 0,
      "text": "11. Operational Considerations",
      "section_title": true,
      "ja": "11.運用に関する注意事項"
    },
    {
      "indent": 3,
      "text": "This section gives operational considerations of the sockets API defined in this document.",
      "ja": "このセクションでは、この文書で定義されたソケットAPIの動作の考察を与えます。"
    },
    {
      "indent": 0,
      "text": "11.1. Conflict Resolution",
      "section_title": true,
      "ja": "11.1. 紛争解決"
    },
    {
      "indent": 3,
      "text": "There can be a conflicting situation when different applications specify different preferences for the same shim context. For instance, suppose that applications A and B establish communication with the same EID pair while both applications have different preferences in their choice of local locator. The notion of context forking in Shim6 can resolve the conflicting situation.",
      "ja": "異なるアプリケーションが同じシムコンテキストごとに異なる設定を指定矛盾する状況が存在する場合があります。例えば、両方のアプリケーションがローカルロケータの彼らの選択に異なる嗜好を持っていながら、アプリケーションAとBが同じEIDのペアとの通信を確立したとします。 SHIM6にフォークコンテキストの概念は、競合状況を解決することができます。"
    },
    {
      "indent": 3,
      "text": "It is possible that socket options defined in Section 6 cause a conflicting situation when the target context is shared by multiple applications. In such a case, the socket handler should inform the shim sub-layer that context forking is required. In Shim6, when a context is forked, a unique identifier called the Forked Instance Identifier (FII) is assigned to the newly forked context. The forked context is then exclusively associated with the socket through which a non-default preference value was specified. The forked context is maintained by the shim sub-layer during the lifetime of the associated socket instance. When the socket is closed, the shim sub-layer SHOULD delete the associated context.",
      "ja": "ターゲットコンテキストは、複数のアプリケーションで共有されたときにソケットオプションが競合状況原因6節で定義されている可能性があります。このような場合には、ソケット・ハンドラは、コンテキストフォークが必要とされるシム副層を通知すべきです。コンテキストが二股されたときSHIM6において、フォークトインスタンス識別子（FII）と呼ばれる一意の識別子を新た二股コンテキストに割り当てられます。二股コンテキストは、その後、排他的に非デフォルトの優先値が指定されたソケットを介して関連付けられています。二股コンテキストは、関連するソケットインスタンスの寿命の間にシム副層によって維持されます。ソケットが閉じられたときに、シムサブ層は、関連するコンテキストを削除する必要があります。"
    },
    {
      "indent": 3,
      "text": "When the application specifies SHIM_LOC_*_SEND specifying a different source or destination locator that does not have the highest priority and weight specified by the SHIM_LOC_*_PREF, the shim sub-layer SHOULD supersede the request made by SHIM_LOC_*_SEND over the preference specified by SHIM_LOC_*_PREF.",
      "ja": "アプリケーションがSHIM_LOCを指定_ * _ SHIM_LOC _ * _ PREFによって指定された最高の優先度及び重量を有していない別のソースまたは宛先ロケータを指定SENDは、SHIM_LOCからの要求を優先すべきであるシムサブ層は_ * _ SHIM_LOC_によって指定された嗜好を介して送信します* _PREF。"
    },
    {
      "indent": 3,
      "text": "When the peer provides preferences of the locators (e.g., a Shim6 peer sends a locator with a Locator Preferences Option) that conflict with preferences specified by the applications either by SHIM_LOC_PEER_SEND or SHIM_LOC_PEER_PREF, the shim sub-layer SHOULD supersede the preferences made by the applications over the preferences specified by the peer.",
      "ja": "ピアがロケータの好みを提供する場合のいずれかSHIM_LOC_PEER_SEND又はSHIM_LOC_PEER_PREFによってアプリケーションによって指定された好みと矛盾（例えば、SHIM6ピアは、ロケータの設定オプションでロケータを送信する）、アプリケーションによって行われた嗜好を優先すべきであるシム副層ピアで指定された設定を超えます。"
    },
    {
      "indent": 0,
      "text": "11.2. Incompatibility between IPv4 and IPv6",
      "section_title": true,
      "ja": "11.2.  IPv4とIPv6の間の非互換性"
    },
    {
      "indent": 3,
      "text": "The shim sub-layer performs identifier/locator adaptation. Therefore, in some cases, the whole IP header can be replaced with a new IP header of a different address family (e.g., conversion from IPv4 to IPv6 or vice versa). Hence, there is an issue regarding how to make the conversion with minimum impact. Note that this issue is common in other protocol conversion techniques [RFC2765] [RFC6145].",
      "ja": "シムサブ層は、識別子/ロケータ適応を行います。したがって、いくつかのケースでは、全体のIPヘッダは異なるアドレスファミリーの新たなIPヘッダ（例えば、IPv4からIPv6への変換またはその逆）に置き換えることができます。このため、最小限の影響で変換を行う方法に関する問題があります。この問題は、他のプロトコル変換技術[RFC2765]、[RFC6145]に共通であることに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "As studied in the previous works on protocol conversion [RFC2765], [RFC6145] some of the features (IPv6 routing headers, hop-by-hop extension headers, and destination headers) from IPv6 are not convertible to IPv4. In addition, the notion of source routing is not exactly the same in IPv4 and IPv6. This means that an error may occur during the conversion of the identifier and locator. It is outside the scope of this document to describe how the shim sub-layer should behave in such erroneous cases.",
      "ja": "IPv6のからプロトコル変換[RFC2765]、[RFC6145]の機能のいくつか（IPv6ルーティングヘッダ、ホップバイホップ拡張ヘッダ、及び宛先ヘッダ）に先行研究で研究としてはIPv4に変換されません。加えて、ソースルーティングの概念は、IPv4とIPv6でまったく同じではありません。これは、エラーが識別子及びロケータの変換中に発生する可能性があることを意味します。これは、シムサブ層は、このような誤った場合にどのように振る舞うべきかを説明するために、このドキュメントの範囲外です。"
    },
    {
      "indent": 0,
      "text": "12. IANA Considerations",
      "section_title": true,
      "ja": "12. IANAの考慮事項"
    },
    {
      "indent": 3,
      "text": "There are no IANA considerations for the socket options (SHIM_*), the ancillary data, and the socket level (SOL_SHIM) that are defined in this document. All the numbers concerned are not under the control of the IETF or IANA, but they are platform-specific.",
      "ja": "ソケットオプション（SHIM_ *）、補助データのためのIANAの考慮事項、および本文書に定義されているソケットレベル（SOL_SHIMは）ありません。関係するすべての数字は、IETFやIANAの管理下にはありませんが、プラットフォーム固有です。"
    },
    {
      "indent": 0,
      "text": "13. Protocol Constant",
      "section_title": true,
      "ja": "13.プロトコル定数"
    },
    {
      "indent": 3,
      "text": "This section defines a protocol constant.",
      "ja": "このセクションでは、プロトコル定数を定義します。"
    },
    {
      "indent": 3,
      "text": "SHIM_MAX_LOCATORS The maximum number of locators to be included in a locator list. The value is set to 32.",
      "ja": "ロケータリストに含まれるロケータの最大数をSHIM_MAX_LOCATORS。値は32に設定されています。"
    },
    {
      "indent": 0,
      "text": "14. Security Considerations",
      "section_title": true,
      "ja": "14.セキュリティの考慮事項"
    },
    {
      "indent": 3,
      "text": "This section gives security considerations of the API defined in this document.",
      "ja": "このセクションでは、この文書で定義されたAPIのセキュリティの考慮事項を示します。"
    },
    {
      "indent": 0,
      "text": "14.1. Treatment of Unknown Locator",
      "section_title": true,
      "ja": "14.1. 不明なロケータの治療"
    },
    {
      "indent": 3,
      "text": "When sending IP packets, there is a possibility that an application will request the use of an unknown locator for the source and/or destination locators. Note that the treatment of an unknown locator can be a subject of security considerations, because the use of an invalid source and/or destination locator may cause a redirection attack.",
      "ja": "IPパケットを送信する場合、アプリケーションは、ソースおよび/または宛先ロケータのための未知のロケータの使用を要求する可能性があります。無効な送信元および/または宛先ロケータの使用はリダイレクト攻撃を引き起こす可能性があるため、未知のロケータの治療には、セキュリティの考慮の対象となることに注意してください。"
    },
    {
      "indent": 0,
      "text": "14.1.1. Treatment of Unknown Source Locator",
      "section_title": true,
      "ja": "14.1.1. 未知の送信元ロケータの治療"
    },
    {
      "indent": 3,
      "text": "The shim sub-layer checks to determine if the requested locator is available on any local interface. If not, the shim sub-layer MUST reject the request and return an error message with the EINVALIDLOCATOR code to the application. If the locator is confirmed to be available, the shim sub-layer SHOULD initiate the procedure to update the locator list.",
      "ja": "シムサブ層は、要求されたロケータは任意のローカルインタフェース上で利用可能であるかどうかを決定するためにチェックします。そうでない場合、シムサブ層は、要求を拒否し、アプリケーションにEINVALIDLOCATORコードとエラー・メッセージを返さなければなりません。ロケータが利用可能であることが確認されている場合は、シムサブ層は、ロケータリストを更新する手続きを開始すべきです。"
    },
    {
      "indent": 3,
      "text": "Use of the following socket options and ancillary data requires treatment of an unknown source locator:",
      "ja": "次のソケットオプションと補助データの使用は、未知のソースロケータの治療を必要とします。"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOC_LOCAL_SEND",
      "ja": "O SHIM_LOC_LOCAL_SEND"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOC_LOCAL_PREF",
      "ja": "O SHIM_LOC_LOCAL_PREF"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOCLIST_LOCAL",
      "ja": "O SHIM_LOCLIST_LOCAL"
    },
    {
      "indent": 0,
      "text": "14.1.2. Treatment of Unknown Destination Locator",
      "section_title": true,
      "ja": "14.1.2. 不明な宛先ロケータの治療"
    },
    {
      "indent": 3,
      "text": "If the shim sub-layer turns out to be Shim6, the Shim6 layer MUST reject the request for using an unknown destination locator.",
      "ja": "シムサブ層はSHIM6であることが判明した場合、SHIM6層は、未知の宛先ロケータを使用するための要求を拒絶しなければなりません。"
    },
    {
      "indent": 3,
      "text": "If the shim sub-layer turns out to be HIP, the HIP layer MUST reject the request for using an unknown destination locator. There is, however, an exceptional case where the HIP layer SHOULD accept the request, provided that the HIP association is in the UNASSOCIATED state. Details of locator handling in HIP are described in Section 4.6 of [RFC6317].",
      "ja": "シムサブ層は、HIPであることが判明した場合、HIP層は、未知の宛先ロケータを使用するための要求を拒絶しなければなりません。要求を受け入れるべきHIP層は、HIPアソシエーションが関連付けられていない状態であることを条件とする例外的なケースでは、しかし、そこです。 HIPで処理ロケータの詳細は[RFC6317]のセクション4.6に記載されています。"
    },
    {
      "indent": 3,
      "text": "Use of the following socket options and ancillary data requires treatment of an unknown destination locator:",
      "ja": "次のソケットオプションと補助データの使用は、未知の宛先ロケータの治療を必要とします。"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOC_PEER_SEND",
      "ja": "O SHIM_LOC_PEER_SEND"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOC_PEER_PREF",
      "ja": "O SHIM_LOC_PEER_PREF"
    },
    {
      "indent": 3,
      "text": "o SHIM_LOCLIST_PEER",
      "ja": "O SHIM_LOCLIST_PEER"
    },
    {
      "indent": 0,
      "text": "15. Acknowledgments",
      "section_title": true,
      "ja": "15.謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Jari Arkko, who participated in the discussion that led to the first version of this document, and Tatuya Jinmei, who thoroughly reviewed the early draft version of this document and provided detailed comments on sockets API-related issues. Thomas Henderson provided valuable comments, especially from the HIP perspective.",
      "ja": "作者は徹底的にこのドキュメントの初期のドラフト版を見直し、ソケットAPI関連の問題に関する詳細なコメントを提供し、この文書の最初のバージョンにつながった議論に参加したヤリArkko、と達也神明を、感謝したいと思います。トーマス・ヘンダーソンは、特にHIPの観点から、貴重なコメントを提供しました。"
    },
    {
      "indent": 3,
      "text": "The authors sincerely thank the following people for their helpful comments regarding the document: Samu Varjonen, Dmitriy Kuptsov, Brian Carpenter, Michael Scharf, Sebastien Barre, and Roni Even.",
      "ja": "でもSamu Varjonen、ドミトリKuptsov、ブライアン・カーペンター、マイケル・シャーフ、セバスチャン・バレ、およびロニ：著者は心から文書に関する彼らの役に立つコメントを以下の方々に感謝します。"
    },
    {
      "indent": 0,
      "text": "16. References",
      "section_title": true,
      "ja": "16.参考文献"
    },
    {
      "indent": 0,
      "text": "16.1. Normative References",
      "section_title": true,
      "ja": "16.1. 引用規格"
    },
    {
      "indent": 3,
      "text": "[POSIX] \"IEEE Std. 1003.1-2008 Standard for Information Technology -- Portable Operating System Interface (POSIX). Open group Technical Standard: Base Specifications, Issue 7\", September 2008, <http://www.opengroup.org/austin>.",
      "ja": "[POSIX] \"IEEE標準1003.1から2008規格情報技術 - ポータブルオペレーティングシステムインタフェース（POSIX）Open Groupの技術基準：。。基本仕様、7号\"、2008年9月、<http://www.opengroup.org/オースティン>。"
    },
    {
      "indent": 3,
      "text": "[RFC2119] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "ja": "[RFC2119]ブラドナーの、S.、 \"要件レベルを示すためにRFCsにおける使用のためのキーワード\"、BCP 14、RFC 2119、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[RFC3542] Stevens, W., Thomas, M., Nordmark, E., and T. Jinmei, \"Advanced Sockets Application Program Interface (API) for IPv6\", RFC 3542, May 2003.",
      "ja": "\"IPv6用の拡張ソケットアプリケーション・プログラム・インターフェース（API）\" [RFC3542]スティーブンス、W.、トーマス、M.、Nordmarkと、E.、およびT.神明、RFC 3542、2003年5月。"
    },
    {
      "indent": 3,
      "text": "[RFC4423] Moskowitz, R. and P. Nikander, \"Host Identity Protocol (HIP) Architecture\", RFC 4423, May 2006.",
      "ja": "[RFC4423]モスコウィッツ、R.とP. Nikander、 \"ホストアイデンティティプロトコル（HIP）アーキテクチャ\"、RFC 4423、2006年5月。"
    },
    {
      "indent": 3,
      "text": "[RFC5533] Nordmark, E. and M. Bagnulo, \"Shim6: Level 3 Multihoming Shim Protocol for IPv6\", RFC 5533, June 2009.",
      "ja": "[RFC5533] Nordmarkと、E.およびM. Bagnulo、 \"SHIM6：IPv6のレベル3マルチホーミングシム・プロトコル\"、RFC 5533、2009年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC5534] Arkko, J. and I. van Beijnum, \"Failure Detection and Locator Pair Exploration Protocol for IPv6 Multihoming\", RFC 5534, June 2009.",
      "ja": "[RFC5534] Arkko、J.およびI.バンBeijnum、 \"IPv6のマルチホーミングのための障害の検出とロケータペア探索プロトコル\"、RFC 5534、2009年6月。"
    },
    {
      "indent": 0,
      "text": "16.2. Informative References",
      "section_title": true,
      "ja": "16.2. 参考文献"
    },
    {
      "indent": 3,
      "text": "[RFC2765] Nordmark, E., \"Stateless IP/ICMP Translation Algorithm (SIIT)\", RFC 2765, February 2000.",
      "ja": "[RFC2765] Nordmarkと、E.、 \"ステートレスIP / ICMP翻訳アルゴリズム（SIIT）\"、RFC 2765、2000年2月。"
    },
    {
      "indent": 3,
      "text": "[RFC2782] Gulbrandsen, A., Vixie, P., and L. Esibov, \"A DNS RR for specifying the location of services (DNS SRV)\", RFC 2782, February 2000.",
      "ja": "[RFC2782] Gulbrandsenの、A.、いるVixie、P.、およびL. Esibov、 \"サービスの場所を特定するためのDNS RR（DNSのSRV）\"、RFC 2782、2000年2月。"
    },
    {
      "indent": 3,
      "text": "[RFC4291] Hinden, R. and S. Deering, \"IP Version 6 Addressing Architecture\", RFC 4291, February 2006.",
      "ja": "[RFC4291] HindenとR.とS.デアリング、 \"IPバージョン6アドレッシング体系\"、RFC 4291、2006年2月。"
    },
    {
      "indent": 3,
      "text": "[RFC5535] Bagnulo, M., \"Hash-Based Addresses (HBA)\", RFC 5535, June 2009.",
      "ja": "[RFC5535] Bagnulo、M.、 \"ハッシュベースアドレス（HBA）\"、RFC 5535、2009年6月。"
    },
    {
      "indent": 3,
      "text": "[RFC5770] Komu, M., Henderson, T., Tschofenig, H., Melen, J., and A. Keranen, Ed., \"Basic Host Identity Protocol (HIP) Extensions for Traversal of Network Address Translators\", RFC 5770, April 2010.",
      "ja": "[RFC5770]こむ、M.、ヘンダーソン、T.、Tschofenig、H.、メレン、J.、およびA. Keranen、編、 \"基本的なホストアイデンティティプロトコル（HIP）ネットワークのトラバーサルのための拡張をトランスレータアドレス\"、RFC 5770 、2010年4月。"
    },
    {
      "indent": 3,
      "text": "[RFC6145] Li, X., Bao, C., and F. Baker, \"IP/ICMP Translation Algorithm\", RFC 6145, April 2011.",
      "ja": "[RFC6145]のLi、X.、バオ、C.、およびF.ベイカー、 \"IP / ICMP翻訳アルゴリズム\"、RFC 6145、2011年4月。"
    },
    {
      "indent": 3,
      "text": "[RFC6317] Komu, M. and T. Henderson, \"Basic Socket Interface Extensions for the Host Identity Protocol (HIP)\", RFC 6317, July 2011.",
      "ja": "[RFC6317]こむ、M.とT.ヘンダーソン、RFC 6317 \"ホスト識別プロトコル（HIP）のための基本的なソケットインタフェース拡張\"、2011年7月。"
    },
    {
      "indent": 3,
      "text": "[SHIM6-APP-REFER] Nordmark, E., \"Shim6 Application Referral Issues\", Work in Progress, July 2005.",
      "ja": "[SHIM6-APP-REFER] Nordmarkと、E.、 \"SHIM6アプリケーションの紹介の問題\"、進歩、2005年7月での作業。"
    },
    {
      "indent": 0,
      "text": "Appendix A. Context Forking",
      "ja": "付録A.コンテキストフォーク"
    },
    {
      "indent": 3,
      "text": "In this section, an issue concerning context forking and its relation to the multihoming shim API are discussed.",
      "ja": "このセクションでは、コンテキストフォークとマルチホーミングシムAPIとの関係に関する問題が議論されています。"
    },
    {
      "indent": 3,
      "text": "Shim6 supports the notion of context forking. A peer may decide to fork a context for a certain reason (e.g., an upper-layer protocol prefers to use a different locator pair than the one defined in an available context). The procedure of context forking is done similarly to the normal context establishment, performing the 4-way message exchange. A peer who has decided to fork a context initiates the context establishment. Hereafter, we call this peer the \"initiator\". The peer of the initiator is called the \"responder\".",
      "ja": "SHIM6は、コンテキストフォークの概念をサポートしています。ピアが特定の理由のためにコンテキストをフォークすることを決定することができる（例えば、上位層プロトコルは、利用可能なコンテキストで定義されたものとは異なるロケータペアを使用することを好みます）。コンテキストフォークの手順は4ウェイメッセージ交換を行うことにより、通常のコンテキストの確立と同様に行われます。コンテキストをフォークすることを決定したピアは、コンテキストの確立を開始します。以下は、私たちは「イニシエータ」このピアを呼び出します。イニシエータのピアは、「応答者」と呼ばれています。"
    },
    {
      "indent": 3,
      "text": "Once the forked context is established between the peers, on the initiator side, it is possible to apply forked context to the packet flow, since the system maintains an association between the forked context and the socket owned by the application that has requested the context forking. How this association is maintained is an implementation-specific issue. However, on the responder side, there is a question of how the outbound packet can be multiplexed by the shim sub-layer, because there is more than one Shim6 context that matches with the ULID pair of the packet flow. There is a need to differentiate packet flows not only by the ULID pairs but by some other information and associate a given packet flow with a specific context.",
      "ja": "二股コンテキストがピア間で確立されると、システムが二股コンテキストとコンテキストフォークを要求したアプリケーションが所有するソケットとの間の関連付けを維持するので、イニシエータ側で、パケットフローに二股コンテキストを適用することが可能です。この関連付けは維持されているどのように実装固有の問題です。しかし、応答側に、パケットフローのULID対と一致する複数のSHIM6コンテキストがあるため、アウトバウンドパケットは、シム副層によって多重化することができるかの問題があります。パケットを区別する必要がULIDのペアではなく、他のいくつかの情報により、特定のコンテキストで特定のパケットフローを関連付けるだけでなく、流れがあります。"
    },
    {
      "indent": 3,
      "text": "Figure 8 gives an example of a scenario where two communicating peers fork a context. Initially, there has been a single transaction between the peers, by the application 1 (App1). Accordingly, another transaction is started, by application 2 (App2). Both of the transactions are made based on the same ULID pair. The first context pair (Ctx1) is established for the transaction of App1. Given the requests from App2, the shim sub-layer on Peer 1 decides to fork a context. Accordingly, a forked context (Ctx2) is established between the peers, which should be exclusively applied to the transaction of App2. Ideally, multiplexing and demultiplexing of packet flows that relate to App1 and App2 should be done as illustrated in Figure 8. However, as mentioned earlier, the responder needs to multiplex outbound flows of App1 and App2 somehow. Note that if a context forking occurs on the initiator side, a context forking needs to also occur on the responder side.",
      "ja": "図8は、2つの通信ピアがコンテキストをフォークシナリオの例を与えます。最初に、アプリケーション1（App1の）によって、ピア間の単一のトランザクションがありました。したがって、別のトランザクションは、アプリケーション2（App2の）によって、開始されます。取引の両方が同じULIDのペアに基づいて作られています。最初のコンテキスト対（CTX1は）のApp1のトランザクションのために確立されています。 App2のからの要求を考えると、ピア1のシムサブ層は、コンテキストをフォークすることを決定します。したがって、二股コンテキスト（にctx2）が排他的にApp2ののトランザクションに適用されるべきピア間で確立されます。しかし、図8に示すように、前述したように、理想的には、App1とApp2のに関連するパケットフローの多重化及び逆多重化は、行われるべき、レスポンダはApp1とApp2の何とかのアウトバウンドフローを多重化する必要があります。コンテキスト・フォークは、イニシエータ側で発生した場合、コンテキスト・フォークはまた、応答側で発生する必要があることに留意されたいです。"
    },
    {
      "indent": 12,
      "text": "  Peer 1                                 Peer 2\n(initiator)                            (responder)",
      "raw": true
    },
    {
      "indent": 4,
      "text": "   +----+         +----+                  +----+         +----+\n   |App1|         |App2|                  |App1|         |App2|\n   +----+         +----+                  +----+         +----+\n     |^             |^                      ^|             ^|\n     v|             v|                      |v             |v\n-----S1-------------S2-----            -----S1-------------S2-----\n     ||             ||                      ||             ||\n     ||             ||                      ||             ||",
      "raw": true
    },
    {
      "indent": 4,
      "text": " Ctx1 Ctx2 Ctx1 Ctx2 ULID:<A1,B1> ULID:<A1,B1> ULID:<B1,A1> ULID:<B1,A1> Loc: <A1,B2> Loc: <A1,B3> Loc: <B2,A1> Loc: <B3,A1> FII: 0 FII: 100 FII: 0 FII: 100",
      "ja": "CTX1にctx2 CTX1にctx2 ULID <A1、B1> ULID <A1、B1> ULID <B1、A1> ULID <B1、A1>場所：<A1、B2>場所：<A1、B3>位置<B2 A1>場所：<B3、A1> BE：0 BE 100 BE：0 BE 100"
    },
    {
      "indent": 9,
      "text": "|^             |^                      ^|             ^|\n||             ||                      ||             ||\n||             ||                      ||             ||\n\\..............||....................../|             ||\n \\.............||......................./             ||\n               ||                                     ||\n               \\|...................................../|\n                \\....................................../",
      "raw": true
    },
    {
      "indent": 25,
      "text": "Figure 8: Context Forking",
      "ja": "図8：コンテキストフォーク"
    },
    {
      "indent": 3,
      "text": "How to solve the issue described above is a topic for further study.",
      "ja": "上記の問題を解決する方法さらなる研究のための話題です。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Miika Komu Aalto University Espoo Finland",
      "ja": "エスポー、フィンランドのMiikaこむアールト大学"
    },
    {
      "indent": 3,
      "text": "Phone: +358505734395 Fax: +358947025014 EMail: miika@iki.fi URI: http://cse.aalto.fi/research/groups/datacommunications/people/",
      "ja": "電話：+358505734395ファックス：+358947025014 Eメール：miika@iki.fi URI：http://cse.aalto.fi/research/groups/datacommunications/people/"
    },
    {
      "indent": 3,
      "text": "Marcelo Bagnulo Universidad Carlos III de Madrid Av. Universidad 30 Leganes 28911 SPAIN",
      "ja": "マドリードのマルセロBagnuloチャールズIII大学のAv。大学30 28911レガネススペイン"
    },
    {
      "indent": 3,
      "text": "Phone: +34 91 6248837 EMail: marcelo@it.uc3m.es URI: http://it.uc3m.es/marcelo",
      "ja": "電話：+34 91 6248837 Eメール：marcelo@it.uc3m.es URI：http://it.uc3m.es/marcelo"
    },
    {
      "indent": 3,
      "text": "Kristian Slavov Ericsson Research Nomadiclab Hirsalantie 11 Jorvas FI-02420 Finland",
      "ja": "クリスチャンSlavovエリクソン研究Nomadiclab Hirsalantie 11 Jorvas FI-02420フィンランド"
    },
    {
      "indent": 3,
      "text": "Phone: +358 9 299 3286 EMail: kristian.slavov@ericsson.com",
      "ja": "電話：+358 9 299 3286 Eメール：kristian.slavov@ericsson.com"
    },
    {
      "indent": 3,
      "text": "Shinta Sugimoto (editor) Nippon Ericsson K.K. Koraku Mori Building 1-4-14, Koraku, Bunkyo-ku Tokyo 112-0004 Japan",
      "ja": "しんた すぎもと （えぢとｒ） にっぽん えりｃっそん Ｋ。Ｋ。 こらく もり ぶいｌぢんｇ １ー４ー１４、 こらく、 ぶんきょーく ときょ １１２ー０００４ じゃぱん"
    },
    {
      "indent": 3,
      "text": "Phone: +81 3 3830 2241 EMail: shinta.sugimoto@ericsson.com",
      "ja": "電話：+81 3 3830 2241 Eメール：shinta.sugimoto@ericsson.com"
    }
  ]
}