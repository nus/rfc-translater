{
  "title": {
    "text": "RFC 8388 - Usage and Applicability of BGP MPLS-Based Ethernet VPN",
    "ja": "RFC 8388 - BGP MPLSベースのイーサネットVPNの使用方法と適用"
  },
  "number": 8388,
  "created_at": "2019-11-02 16:43:46.108691+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Internet Engineering Task Force (IETF)                   J. Rabadan, Ed.\nRequest for Comments: 8388                               S. Palislamovic\nCategory: Informational                                    W. Henderickx\nISSN: 2070-1721                                                    Nokia\n                                                              A. Sajassi\n                                                                   Cisco\n                                                               J. Uttaro\n                                                                    AT&T\n                                                                May 2018",
      "raw": true
    },
    {
      "indent": 9,
      "text": "Usage and Applicability of BGP MPLS-Based Ethernet VPN",
      "raw": true
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "抽象"
    },
    {
      "indent": 3,
      "text": "This document discusses the usage and applicability of BGP MPLS-based Ethernet VPN (EVPN) in a simple and fairly common deployment scenario. The different EVPN procedures are explained in the example scenario along with the benefits and trade-offs of each option. This document is intended to provide a simplified guide for the deployment of EVPN networks.",
      "ja": "この文書は、シンプルでかなり一般的な展開シナリオでの使用およびBGP MPLSベースのイーサネットVPN（EVPN）の適用可能性を論じています。異なるEVPN手順は利点と各オプションのトレードオフと一緒にシナリオ例で説明されています。この文書は、EVPNネットワークを展開するための単純化されたガイドを提供することを意図しています。"
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "このメモのステータス"
    },
    {
      "indent": 3,
      "text": "This document is not an Internet Standards Track specification; it is published for informational purposes.",
      "ja": "このドキュメントはインターネット標準化過程仕様ではありません。それは、情報提供の目的のために公開されています。"
    },
    {
      "indent": 3,
      "text": "This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Not all documents approved by the IESG are candidates for any level of Internet Standard; see Section 2 of RFC 7841.",
      "ja": "このドキュメントはインターネットエンジニアリングタスクフォース（IETF）の製品です。これは、IETFコミュニティの総意を表しています。これは、公開レビューを受けており、インターネットエンジニアリング運営グループ（IESG）によって公表のために承認されています。 IESGによって承認されていないすべての文書はインターネットStandardのどんなレベルの候補です。 RFC 7841のセクション2を参照してください。"
    },
    {
      "indent": 3,
      "text": "Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at https://www.rfc-editor.org/info/rfc8388.",
      "ja": "このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttps://www.rfc-editor.org/info/rfc8388で取得することができます。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (c) 2018 IETF Trust and the persons identified as the document authors. All rights reserved.",
      "ja": "著作権（C）2018 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。"
    },
    {
      "indent": 3,
      "text": "This document is subject to BCP 78 and the IETF Trust's Legal Provisions Relating to IETF Documents (https://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.",
      "ja": "この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（https://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。コードコンポーネントは、トラスト法規定のセクションで説明4.eおよび簡体BSDライセンスで説明したように、保証なしで提供されているよう簡体BSDライセンスのテキストを含める必要があり、この文書から抽出されました。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   3\n2.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   4\n3.  Use Case Scenario Description and Requirements  . . . . . . .   5\n  3.1.  Service Requirements  . . . . . . . . . . . . . . . . . .   5\n  3.2.  Why EVPN Is Chosen to Address This Use Case . . . . . . .   7\n4.  Provisioning Model  . . . . . . . . . . . . . . . . . . . . .   7\n  4.1.  Common Provisioning Tasks . . . . . . . . . . . . . . . .   8\n    4.1.1.  Non-Service-Specific Parameters . . . . . . . . . . .   8\n    4.1.2.  Service-Specific Parameters . . . . . . . . . . . . .   9\n  4.2.  Service-Interface-Dependent Provisioning Tasks  . . . . .   9\n    4.2.1.  VLAN-Based Service Interface EVI  . . . . . . . . . .  10\n    4.2.2.  VLAN Bundle Service Interface EVI . . . . . . . . . .  10\n    4.2.3.  VLAN-Aware Bundling Service Interface EVI . . . . . .  10\n5.  BGP EVPN NLRI Usage . . . . . . . . . . . . . . . . . . . . .  11\n6.  MAC-Based Forwarding Model Use Case . . . . . . . . . . . . .  11\n  6.1.  EVPN Network Startup Procedures . . . . . . . . . . . . .  12\n  6.2.  VLAN-Based Service Procedures . . . . . . . . . . . . . .  12\n    6.2.1.  Service Startup Procedures  . . . . . . . . . . . . .  13\n    6.2.2.  Packet Walk-Through . . . . . . . . . . . . . . . . .  13\n  6.3.  VLAN Bundle Service Procedures  . . . . . . . . . . . . .  17\n    6.3.1.  Service Startup Procedures  . . . . . . . . . . . . .  17\n    6.3.2.  Packet Walk-Through . . . . . . . . . . . . . . . . .  18\n  6.4.  VLAN-Aware Bundling Service Procedures  . . . . . . . . .  18\n    6.4.1.  Service Startup Procedures  . . . . . . . . . . . . .  18\n    6.4.2.  Packet Walk-Through . . . . . . . . . . . . . . . . .  19\n7.  MPLS-Based Forwarding Model Use Case  . . . . . . . . . . . .  20\n  7.1.  Impact of MPLS-Based Forwarding on the EVPN Network\n        Startup . . . . . . . . . . . . . . . . . . . . . . . . .  21\n  7.2.  Impact of MPLS-Based Forwarding on the VLAN-Based Service\n        Procedures  . . . . . . . . . . . . . . . . . . . . . . .  21",
      "raw": true
    },
    {
      "indent": 3,
      "text": "  7.3.  Impact of MPLS-Based Forwarding on the VLAN Bundle\n        Service Procedures  . . . . . . . . . . . . . . . . . . .  22\n  7.4.  Impact of MPLS-Based Forwarding on the VLAN-Aware Service\n        Procedures  . . . . . . . . . . . . . . . . . . . . . . .  22\n8.  Comparison between MAC-Based and MPLS-Based Egress Forwarding\n    Models  . . . . . . . . . . . . . . . . . . . . . . . . . . .  23\n9.  Traffic Flow Optimization . . . . . . . . . . . . . . . . . .  24\n  9.1.  Control-Plane Procedures  . . . . . . . . . . . . . . . .  24\n    9.1.1.  MAC Learning Options  . . . . . . . . . . . . . . . .  24\n    9.1.2.  Proxy ARP/ND  . . . . . . . . . . . . . . . . . . . .  25\n    9.1.3.  Unknown Unicast Flooding Suppression  . . . . . . . .  25\n    9.1.4.  Optimization of Inter-Subnet Forwarding . . . . . . .  26\n  9.2.  Packet Walk-Through Examples  . . . . . . . . . . . . . .  27\n    9.2.1.  Proxy ARP Example for CE2-to-CE3 Traffic  . . . . . .  27\n    9.2.2.  Flood Suppression Example for CE1-to-CE3 Traffic  . .  27\n    9.2.3.  Optimization of Inter-subnet Forwarding Example for\n            CE3-to-CE2 Traffic  . . . . . . . . . . . . . . . . .  28\n10. Security Considerations . . . . . . . . . . . . . . . . . . .  29\n11. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  30\n12. References  . . . . . . . . . . . . . . . . . . . . . . . . .  30\n  12.1.  Normative References . . . . . . . . . . . . . . . . . .  30\n  12.2.  Informative References . . . . . . . . . . . . . . . . .  30\nAcknowledgments . . . . . . . . . . . . . . . . . . . . . . . . .  30\nContributors  . . . . . . . . . . . . . . . . . . . . . . . . . .  31\nAuthors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  31",
      "raw": true
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1. はじめに"
    },
    {
      "indent": 3,
      "text": "This document complements [RFC7432] by discussing the applicability of the technology in a simple and fairly common deployment scenario, which is described in Section 3.",
      "ja": "この文書では、3章で説明され、シンプルでかなり一般的な展開シナリオでの技術の適用可能性を議論することにより、[RFC7432]を補完します。"
    },
    {
      "indent": 3,
      "text": "After describing the topology and requirements of the use case scenario, Section 4 will describe the provisioning model.",
      "ja": "トポロジーとユースケースシナリオの要件を説明した後、第4節では、プロビジョニング・モデルについて説明します。"
    },
    {
      "indent": 3,
      "text": "Once the provisioning model is analyzed, Sections 5, 6, and 7 will describe the control-plane and data-plane procedures in the example scenario for the two potential disposition/forwarding models: MAC-based and MPLS-based models. While both models can interoperate in the same network, each one has different trade-offs that are analyzed in Section 8.",
      "ja": "プロビジョニングモデルが分析されると、セクション5、6、及び7二つの潜在的な配置/転送モデルの例のシナリオでコントロールプレーンとデータプレーンの手順について説明する：MACベースおよびモデルをMPLSベース。両方のモデルは、同じネットワークで相互運用することができるが、それぞれがセクション8に分析される異なるトレードオフを有します。"
    },
    {
      "indent": 3,
      "text": "Finally, EVPN provides some potential traffic flow optimization tools that are also described in Section 9 in the context of the example scenario.",
      "ja": "最後に、EVPNはまた、例えばシナリオのコンテキストで第9章で説明されているいくつかの潜在的なトラフィックフローの最適化ツールを提供します。"
    },
    {
      "indent": 0,
      "text": "2. Terminology",
      "section_title": true,
      "ja": "2.用語"
    },
    {
      "indent": 3,
      "text": "The following terminology is used:",
      "ja": "以下の用語が使用されます。"
    },
    {
      "indent": 3,
      "text": "VID: VLAN Identifier",
      "ja": "VID：VLAN識別子"
    },
    {
      "indent": 3,
      "text": "CE: Customer Edge (device)",
      "ja": "CE：カスタマーエッジ（デバイス）"
    },
    {
      "indent": 3,
      "text": "EVI: EVPN Instance",
      "ja": "EVI：EVPNインスタンス"
    },
    {
      "indent": 3,
      "text": "MAC-VRF: A Virtual Routing and Forwarding (VRF) table for Media Access Control (MAC) addresses on a Provider Edge (PE) router.",
      "ja": "MAC-VRF：メディアアクセス制御（MAC）プロバイダーエッジ（PE）ルータ上のアドレスのための仮想ルーティングおよび転送（VRF）テーブル。"
    },
    {
      "indent": 3,
      "text": "ES: An Ethernet Segment is a set of links through which a CE is connected to one or more PEs. Each ES is identified by an Ethernet Segment Identifier (ESI) in the control plane.",
      "ja": "ES：イーサネットセグメントは、CEは、1つのまたは複数のPEに接続されてリンクのセットです。各ESは、制御プレーンのイーサネット・セグメント識別子（ESI）によって識別されます。"
    },
    {
      "indent": 3,
      "text": "CE-VIDs: The VLAN Identifier tags being used at CE1, CE2, and CE3 to tag customer traffic sent to the service provider EVPN network.",
      "ja": "CE-VIDの：サービスプロバイダーのEVPNネットワークに送信された顧客のトラフィックにタグを付けるCE1、CE2、およびCE3で使用されているVLAN識別子タグ。"
    },
    {
      "indent": 3,
      "text": "CE1-MAC, CE2-MAC, and CE3-MAC: The source MAC addresses \"behind\" each CE, respectively. These MAC addresses can belong to the CEs themselves or to devices connected to the CEs.",
      "ja": "CE1-MAC、CE2-MAC、およびCE3-MAC：送信元MACアドレスはそれぞれ、各CE \"の後ろに\"。これらのMACアドレスは、CEの自分自身にまたはCEに接続されたデバイスに属することができます。"
    },
    {
      "indent": 3,
      "text": "CE1-IP, CE2-IP, and CE3-IP: The IP addresses associated with the above MAC addresses",
      "ja": "CE1-IP、CE2-IP、およびCE3-IP：上記MACアドレスに関連付けられたIPアドレス"
    },
    {
      "indent": 3,
      "text": "LACP: Link Aggregation Control Protocol",
      "ja": "LACP：リンクアグリゲーション制御プロトコル"
    },
    {
      "indent": 3,
      "text": "RD: Route Distinguisher",
      "ja": "RD：ルート識別子"
    },
    {
      "indent": 3,
      "text": "RT: Route Target",
      "ja": "RT：ルートターゲット"
    },
    {
      "indent": 3,
      "text": "PE: Provider Edge (router)",
      "ja": "PE：プロバイダーエッジ（ルータ）"
    },
    {
      "indent": 3,
      "text": "AS: Autonomous System",
      "ja": "AS：自律システム"
    },
    {
      "indent": 3,
      "text": "PE-IP: The IP address of a given PE",
      "ja": "PE-IP：所与のPEのIPアドレス"
    },
    {
      "indent": 0,
      "text": "3. Use Case Scenario Description and Requirements",
      "section_title": true,
      "ja": "3.ユースケースシナリオ説明と要件"
    },
    {
      "indent": 3,
      "text": "Figure 1 depicts the scenario that will be referenced throughout the rest of the document.",
      "ja": "図1は、文書の残りの部分で参照されるシナリオを描いています。"
    },
    {
      "indent": 10,
      "text": "                  +--------------+\n                  |              |\n+----+     +----+ |              | +----+   +----+\n| CE1|-----|    | |              | |    |---| CE3|\n+----+    /| PE1| |   IP/MPLS    | | PE3|   +----+\n         / +----+ |   Network    | +----+\n        /         |              |\n       /   +----+ |              |\n+----+/    |    | |              |\n| CE2|-----| PE2| |              |\n+----+     +----+ |              |\n                  +--------------+",
      "raw": true
    },
    {
      "indent": 21,
      "text": "Figure 1: EVPN Use Case Scenario",
      "ja": "図1：EVPNユースケースシナリオ"
    },
    {
      "indent": 3,
      "text": "There are three PEs and three CEs considered in this example: PE1, PE2, and PE3, as well as CE1, CE2, and CE3. Broadcast domains must be extended among the three CEs.",
      "ja": "PE1、PE2、PE3と、だけでなく、CE1、CE2、およびCE3：3個のPEと、この例では考慮さ3つのCEがあります。ブロードキャストドメインは、3つのCE間で拡張する必要があります。"
    },
    {
      "indent": 0,
      "text": "3.1. Service Requirements",
      "section_title": true,
      "ja": "3.1. サービスの要件"
    },
    {
      "indent": 3,
      "text": "The following service requirements are assumed in this scenario:",
      "ja": "以下のサービス要件は、このシナリオで想定されています。"
    },
    {
      "indent": 3,
      "text": "o Redundancy requirements:",
      "ja": "冗長性の要件O："
    },
    {
      "indent": 6,
      "text": "- CE2 requires multihoming connectivity to PE1 and PE2, not only for redundancy purposes but also for adding more upstream/ downstream connectivity bandwidth to/from the network.",
      "ja": " -  CE2は、冗長目的のためだけでなく、ネットワークに/からより上流/下流接続の帯域幅を追加するだけでなく、PE1とPE2にマルチホーム接続を必要とします。"
    },
    {
      "indent": 6,
      "text": "- Fast convergence. For example, if the link between CE2 and PE1 goes down, a fast convergence mechanism must be supported so that PE3 can immediately send the traffic to PE2, irrespective of the number of affected services and MAC addresses.",
      "ja": " - 高速コンバージェンス。 CE2とPE1の間のリンクがダウンした場合PE3はすぐに影響を受けるサービスとMACアドレスの数にかかわらず、PE2にトラフィックを送信できるように、例えば、高速コンバージェンスメカニズムがサポートされなければなりません。"
    },
    {
      "indent": 3,
      "text": "o Service interface requirements:",
      "ja": "Oサービスのインタフェースの要件："
    },
    {
      "indent": 6,
      "text": "- The service definition must be flexible in terms of CE-VID-to-broadcast-domain assignment in the core.",
      "ja": " - サービス定義は、コアにおけるCE-VIDツーブロードキャスト・ドメインの割り当てに関して柔軟でなければなりません。"
    },
    {
      "indent": 6,
      "text": "- The following three EVI services are required in this example:",
      "ja": " - 以下の三つEVIサービスは、この例で必要とされています。"
    },
    {
      "indent": 9,
      "text": "EVI100 uses VLAN-based service interfaces in the three CEs with a 1:1 VLAN-to-EVI mapping. The CE-VIDs at the three CEs can be the same (for example, VID 100) or different at each CE (for instance, VID 101 in CE1, VID 102 in CE2, and VID 103 in CE3). A single broadcast domain needs to be created for EVI100 in any case; therefore, CE-VIDs will require translation at the egress PEs if they are not consistent across the three CEs. The case when the same CE-VID is used across the three CEs for EVI100 is referred to in [RFC7432] as the \"Unique VLAN\" EVPN case. This term will be used throughout this document too.",
      "ja": "1 VLANツーEVIマッピング：EVI100は1と3つのCEにVLANベースのサービス・インターフェースを使用します。 3つのCESでCE-のVIDが同じであってもよい（例えば、VID 100）または各CEに異なる（例えば、CE3にCE1にVID 101、CE2にVID 102、及びVID 103）。単一のブロードキャストドメインは、どのような場合にEVI100のために作成する必要があります。彼らは3つのCE間で一貫していない場合ので、CE-のVIDは、出口のPEで翻訳が必要になります。同じCE-VIDがEVI100ための3つのCE間で使用される場合は、「ユニークなVLAN」EVPNケースとして[RFC7432]で言及されています。この用語は、あまりにも、この文書全体で使用されます。"
    },
    {
      "indent": 9,
      "text": "EVI200 uses VLAN bundle service interfaces in CE1, CE2, and CE3 based on an N:1 VLAN-to-EVI mapping. The operator needs to preconfigure a range of CE-VIDs and its mapping to the EVI, and this mapping should be consistent in all the PEs (no translation is supported). A single broadcast domain is created for the customer. The customer is responsible for keeping the separation between users in different CE-VIDs.",
      "ja": "1 VLANツーEVIマッピング：EVI200はNに基づいて、CE1、CE2およびCE3におけるVLANバンドルサービスインタフェースを使用します。 （無変換がサポートされていない）オペレータは、CE-のVID及びEVIへのマッピングの範囲を事前設定する必要があり、このマッピングは、すべてのPEで一貫しているべきです。単一のブロードキャストドメインは顧客のために作成されます。顧客が異なるCE-VIDの内のユーザー間の分離を維持する責任があります。"
    },
    {
      "indent": 9,
      "text": "EVI300 uses VLAN-aware bundling service interfaces in CE1, CE2, and CE3. As in the EVI200 case, an N:1 VLAN-to-EVI mapping is created at the ingress PEs; however, in this case, a separate broadcast domain is required per CE-VID. The CE-VIDs can be different (hence, CE-VID translation is required).",
      "ja": "EVI300はCE1、CE2、およびCE3でVLAN対応のバンドルサービス・インターフェースを使用しています。 EVI200の場合のように、N：1 VLAN対EVIマッピングは、入口のPEで作成されます。ただし、この場合には、別々のブロードキャストドメインは、CE-VID毎に必要とされます。 CE-のVIDは異なることができる（したがって、CE-VID変換が必要です）。"
    },
    {
      "indent": 3,
      "text": "Note that in Section 4.2.1, only EVI100 is used as an example of VLAN-based service provisioning. In Sections 6.2 and 7.2, 4k VLAN-based EVIs (EVI1 to EVI4k) are used so that the impact of MAC versus MPLS disposition models in the control plane can be evaluated. In the same way, EVI200 and EVI300 will be described with a 4k:1 mapping (CE-VIDs-to-EVI mapping) in Sections 6.3, 6.4, 7.3, and 7.4.",
      "ja": "セクション4.2.1で、唯一EVI100は、VLANベースのサービスプロビジョニングの例として使用されることに留意されたいです。制御プレーンにおけるMAC MPLS対配置モデルの影響を評価することができるように、セクション6.2および7.2で、4K VLANベースEVIS（EVI4kにEVI1）が使用されています。セクション6.3、6.4、7.3、および7.4で1つのマッピング（CE-VIDの対EVIマッピング）：同様の方法で、EVI200とEVI300は4Kて説明します。"
    },
    {
      "indent": 3,
      "text": "o Broadcast, Unknown Unicast, Multicast (BUM) optimization requirements:",
      "ja": "Oブロードキャスト、未知のユニキャスト、マルチキャスト（BUM）最適化の要件："
    },
    {
      "indent": 6,
      "text": "- The solution must support ingress replication or P2MP MPLS LSPs on a per EVI service. For example, we can use ingress replication for EVI100 and EVI200, assuming those EVIs will not carry much BUM traffic. On the contrary, if EVI300 is presumably carrying a significant amount of multicast traffic, P2MP MPLS LSPs can be used for this service.",
      "ja": " - ソリューションは、EVIあたりのサービスに進入複製またはP2MP MPLS LSPをサポートしている必要があります。たとえば、私たちはずっとBUMのトラフィックを伝送しませんこれらのEVISを想定し、EVI100とEVI200のための進入レプリケーションを使用することができます。 EVI300はおそらくマルチキャストトラフィックが大量に運んでいる場合は逆に、P2MP MPLS LSPは、このサービスのために使用することができます。"
    },
    {
      "indent": 6,
      "text": "- The benefit of ingress replication compared to P2MP LSPs is that the core routers will not need to maintain any multicast states.",
      "ja": " -  P2MP LSPのに比べて侵入、複製の利点は、コアルータは、マルチキャスト状態を維持する必要がないということです。"
    },
    {
      "indent": 0,
      "text": "3.2. Why EVPN Is Chosen to Address This Use Case",
      "section_title": true,
      "ja": "3.2.  EVPNは、このユースケースに対処するために選択される理由"
    },
    {
      "indent": 3,
      "text": "Virtual Private LAN Service (VPLS) solutions based on [RFC4761], [RFC4762], and [RFC6074] cannot meet the requirements in Section 3, whereas EVPN can.",
      "ja": "EVPNができるのに対し、[RFC4761]、[RFC4762]、および[RFC6074]に基づいて、仮想プライベートLANサービス（VPLS）ソリューションは、第3節で要件を満たすことができません。"
    },
    {
      "indent": 3,
      "text": "For example:",
      "ja": "例えば："
    },
    {
      "indent": 3,
      "text": "o If CE2 has a single CE-VID (or a few CE-VIDs), the current VPLS multihoming solutions (based on load-balancing per CE-VID or service) do not provide the optimized link utilization required in this example. EVPN provides the flow-based, load-balancing, multihoming solution required in this scenario to optimize the upstream/downstream link utilization between CE2 and PE1-PE2.",
      "ja": "O CE2は、この例で必要な最適化されたリンク使用率を提供しない単一CE-VID（または少数のCE-VIDの）、（ロードバランシングCE-VIDやサービスごとに基づいて）現在のVPLSマルチホーミングソリューションを持っている場合。 EVPNはCE2とPE1、PE2の間の上り/下りリンクの利用を最適化するために、このシナリオで必要なフローベースの、ロードバランシング、マルチホーミングソリューションを提供します。"
    },
    {
      "indent": 3,
      "text": "o EVPN provides a fast convergence solution that is independent of the CE-VIDs in the multihomed PEs. Upon failure on the link between CE2 and PE1, PE3 can immediately send the traffic to PE2 based on a single notification message being sent by PE1. This is not possible with VPLS solutions.",
      "ja": "O EVPNは、マルチホームのPEにおけるCE-のVIDとは無関係である速い収束ソリューションを提供します。 CE2とPE1の間のリンクに障害が発生すると、PE3はすぐにPE1によって送信される単一の通知メッセージに基づいてPE2にトラフィックを送信することができます。これは、VPLSソリューションでは不可能です。"
    },
    {
      "indent": 3,
      "text": "o With regard to service interfaces and mapping to broadcast domains, while VPLS might meet the requirements for EVI100 and EVI200, the VLAN-aware bundling service interfaces required by EVI300 are not supported by the current VPLS tools.",
      "ja": "VPLSはEVI100とEVI200の要件を満たしているかもしれないが、ドメインを放送するサービス・インターフェースとのマッピングに関してはO、EVI300で必要とされるVLAN対応のバンドルサービス・インターフェースは、現在のVPLSツールによってサポートされていません。"
    },
    {
      "indent": 3,
      "text": "The rest of the document will describe how EVPN can be used to meet the service requirements described in Section 3 and even optimize the network further by:",
      "ja": "文書の残りの部分はEVPNは、第3節で説明したサービス要件を満たしさえによって、さらにネットワークを最適化するために使用することができる方法を説明します："
    },
    {
      "indent": 3,
      "text": "o providing the user with an option to reduce (and even suppress) ARP (Address Resolution Protocol) flooding; and",
      "ja": "削減（とさえ抑制）するためのオプションをユーザに提供O ARP（アドレス解決プロトコル）の洪水。そして"
    },
    {
      "indent": 3,
      "text": "o supporting ARP termination and inter-subnet forwarding.",
      "ja": "ARP終了とサブネット間の転送をサポートし、O。"
    },
    {
      "indent": 0,
      "text": "4. Provisioning Model",
      "section_title": true,
      "ja": "4.プロビジョニングモデル"
    },
    {
      "indent": 3,
      "text": "One of the requirements stated in [RFC7209] is the ease of provisioning. BGP parameters and service context parameters should be auto-provisioned so that the addition of a new MAC-VRF to the EVI requires a minimum number of single-sided provisioning touches. However, this is possible only in a limited number of cases. This section describes the provisioning tasks required for the services described in Section 3, i.e., EVI100 (VLAN-based service interfaces), EVI200 (VLAN bundle service interfaces), and EVI300 (VLAN-aware bundling service interfaces).",
      "ja": "[RFC7209]に記載された要件の1つは、プロビジョニングの容易さです。 EVIに新しいMAC-VRFの添加は片面プロビジョニングタッチの最小数を必要とするように、BGPパラメータおよびサービスのコンテキストパラメータは、オートプロビジョニングする必要があります。しかし、これが唯一の例限られた数でも可能です。このセクションでは、プロビジョニング・セクション3に記載のサービスのために必要なタスク、すなわち、EVI100（VLANベースのサービス・インターフェース）、EVI200（VLANバンドルサービス・インターフェース）、およびEVI300（VLAN対応バンドルサービスインターフェイス）を記載しています。"
    },
    {
      "indent": 0,
      "text": "4.1. Common Provisioning Tasks",
      "section_title": true,
      "ja": "4.1. 共通プロビジョニングタスク"
    },
    {
      "indent": 3,
      "text": "Regardless of the service interface type (VLAN-based, VLAN bundle, or VLAN-aware), the following subsections describe the parameters to be provisioned in the three PEs.",
      "ja": "関係なく、サービス・インタフェースの種類（VLANベース、VLANバンドル、またはVLAN対応）の、以下のサブセクションは、三個のPEでプロビジョニングするパラメータを記載しています。"
    },
    {
      "indent": 0,
      "text": "4.1.1. Non-Service-Specific Parameters",
      "section_title": true,
      "ja": "4.1.1. 非サービス固有のパラメータ"
    },
    {
      "indent": 3,
      "text": "The multihoming function in EVPN requires the provisioning of certain parameters that are not service specific and that are shared by all the MAC-VRFs in the node using the multihoming capabilities. In our use case, these parameters are only provisioned or auto-derived in PE1 and PE2 and are listed below:",
      "ja": "EVPNでマルチホーミング機能は、特定のサービスを提供し、マルチホーミング機能を使用して、ノード内のすべてのMAC-のVRFによって共有されていない特定のパラメータのプロビジョニングを必要とします。私たちのユースケースでは、これらのパラメータにのみプロビジョニングされるか、PE1とPE2に自動由来し、以下のとおりです。"
    },
    {
      "indent": 3,
      "text": "o Ethernet Segment Identifier (ESI): Only the ESI associated with CE2 needs to be considered in our example. Single-homed CEs such as CE1 and CE3 do not require the provisioning of an ESI (the ESI will be coded as zero in the BGP Network Layer Reachability Information (NLRI)). In our example, a Link Aggregation Group (LAG) is used between CE2 and PE1-PE2 (since all-active multihoming is a requirement); therefore, the ESI can be auto-derived from the LACP information as described in [RFC7432]. Note that the ESI must be unique across all the PEs in the network; therefore, the auto-provisioning of the ESI is recommended only in case the CEs are managed by the operator. Otherwise, the ESI should be manually provisioned (Type 0, as in [RFC7432]) in order to avoid potential conflicts.",
      "ja": "Oイーサネットセグメント識別子（ESI）：CE2に関連付けられているだけESIは、私たちの例で考える必要があります。このようCE1とCE3としてシングルホームのCEは、ESIのプロビジョニングを必要としない（ESIは、BGPネットワーク層到達可能性情報（NLRI）でゼロとして符号化されます）。 （すべてのアクティブマルチホーミングが必要条件であるため）この例では、リンクアグリゲーショングループ（LAG）をCE2とPE1-PE2間で使用されています。 [RFC7432]に記載されているように、従って、ESIは、LACP情報から自動的に導出することができます。 ESIは、ネットワーク内のすべてのPE間で一意でなければならないことに注意してください。従って、ESIの自動プロビジョニングは、CEのは、オペレータによって管理されている場合にのみ推奨されます。そうでなければ、ESIは手動でプロビジョニングされるべきである（同様にタイプ0、[RFC7432]）の潜在的な競合を回避するためです。"
    },
    {
      "indent": 3,
      "text": "o ES-Import Route Target (ES-Import RT): This is the RT that will be sent by PE1 and PE2, along with the ES route. Regardless of how the ESI is provisioned in PE1 and PE2, the ES-Import RT must always be auto-derived from the 6-byte MAC address portion of the ESI value.",
      "ja": "ES-インポートルートターゲット（ES-インポートRT）O：これはESルートとともに、PE1およびPE2によって送信されるRTあります。かかわらず、ESIはPE1とPE2にプロビジョニングされるかの、ES-インポートRTは常に自動由来ESI値の6バイトのMACアドレス部分からでなければなりません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet Segment Route Distinguisher (ES RD): This is the RD to be encoded in the ES route, and it is the Ethernet Auto-Discovery (A-D) route to be sent by PE1 and PE2 for the CE2 ESI. This RD should always be auto-derived from the PE-IP address, as described in [RFC7432].",
      "ja": "Oイーサネットセグメントルート区分（ES RD）：これは、ESルートで符号化されるRDであり、そしてCE2 ESIためPE1とPE2によって送信されるイーサネット自動検出（A-D）の経路です。 [RFC7432]に記載されているように、このRDは、常に、PE-IPアドレスから自動的に導出されるべきです。"
    },
    {
      "indent": 3,
      "text": "o Multihoming type: The user must be able to provision the multihoming type to be used in the network. In our use case, the multihoming type will be set to all-active for the CE2 ESI. This piece of information is encoded in the ESI Label extended community flags and is sent by PE1 and PE2 along with the Ethernet A-D route for the CE2 ESI.",
      "ja": "マルチホーミングタイプ○：ユーザは、ネットワークで使用されるマルチホーム型プロビジョニングすることができなければなりません。私たちのユースケースでは、マルチホーミングタイプがCE2 ESIのために、すべてのアクティブに設定されます。情報のこの部分は、ESIラベル拡張コミュニティフラグで符号化され、CE2 ESIイーサネットA-Dの経路に沿ってPE1とPE2によって送信されます。"
    },
    {
      "indent": 3,
      "text": "In addition, the same LACP parameters will be configured in PE1 and PE2 for the ES so that CE2 can send frames to PE1 and PE2 as though they were forming a single system.",
      "ja": "それらは単一のシステムを構成したものとしてCE2はPE1とPE2にフレームを送信できるように加えて、同じLACPパラメータがESのPE1とPE2に構成されます。"
    },
    {
      "indent": 0,
      "text": "4.1.2. Service-Specific Parameters",
      "section_title": true,
      "ja": "4.1.2. サービス固有のパラメータ"
    },
    {
      "indent": 3,
      "text": "The following parameters must be provisioned in PE1, PE2, and PE3 per EVI service:",
      "ja": "次のパラメータはPE1、PE2でプロビジョニング、およびEVIサービスごとPE3する必要があります。"
    },
    {
      "indent": 3,
      "text": "o EVI Identifier: The global identifier per EVI that is shared by all the PEs that are part of the EVI, i.e., PE1, PE2, and PE3 will be provisioned with EVI100, 200, and 300. The EVI identifier can be associated with (or be the same value as) the EVI default Ethernet Tag (4-byte default broadcast domain identifier for the EVI). The Ethernet Tag is different from zero in the EVPN BGP routes only if the service interface type (of the source PE) is a VLAN-aware bundle.",
      "ja": "O EVI識別子：EVIの一部であるすべてのPEによって共有されるEVI当たりグローバル識別子、すなわち、PE1、PE2、PE3および200、EVI100でプロビジョニングされ、300 EVI識別子（と関連付けることができますまたはEVI用）EVIデフォルトのイーサネットタグ（4バイトのデフォルトのブロードキャストドメイン識別子）と同じ値になります。 （ソースPEの）サービス・インタフェースの種類がVLAN対応束である場合にのみ、イーサネットタグEVPN BGPルートにゼロと異なっています。"
    },
    {
      "indent": 3,
      "text": "o EVI Route Distinguisher (EVI RD): This RD is a unique value across all the MAC-VRFs in a PE. Auto-derivation of this RD might be possible depending on the service interface type being used in the EVI. The next section discusses the specifics of each service interface type.",
      "ja": "EVIルート区分（EVI RD）O：このRDは、PE内のすべてのMAC-のVRF間で一意の値です。このRDの自動導出はEVIに使用されるサービスインタフェースタイプに応じて可能であるかもしれません。次のセクションでは、各サービス・インターフェース・タイプの詳細を論じています。"
    },
    {
      "indent": 3,
      "text": "o EVI Route Target(s) (EVI RT): One or more RTs can be provisioned per MAC-VRF. The RT(s) imported and exported can be equal or different, just as the RT(s) in IP-VPNs. Auto-derivation of this RT(s) might be possible depending on the service interface type being used in the EVI. The next section discusses the specifics of each service interface type.",
      "ja": "O EVIルートターゲット（複数可）（EVI RT）：1つの以上のRTSはMAC-VRFごとにプロビジョニングすることができます。 RT（S）インポートおよびエクスポートは、単にIP-VPNの中RT（S）として、同じ又は異なっていてもよいです。このRT（S）の自動導出はEVIに使用されるサービスインタフェースタイプに応じて可能であるかもしれません。次のセクションでは、各サービス・インターフェース・タイプの詳細を論じています。"
    },
    {
      "indent": 3,
      "text": "o CE-VID and port/LAG binding to EVI identifier or Ethernet Tag: For more information, please see Section 4.2.",
      "ja": "O CE-VIDとEVI識別子またはイーサネットタグに結合するポート/ LAG：詳細については、4.2節を参照してください。"
    },
    {
      "indent": 0,
      "text": "4.2. Service-Interface-Dependent Provisioning Tasks",
      "section_title": true,
      "ja": "4.2. サービス・インタフェース依存プロビジョニングタスク"
    },
    {
      "indent": 3,
      "text": "Depending on the service interface type being used in the EVI, a given CE-VID binding provision must be specified.",
      "ja": "EVIに使用されるサービスインタフェースタイプに応じて、所与のCE-VID結合規定は指定されなければなりません。"
    },
    {
      "indent": 0,
      "text": "4.2.1. VLAN-Based Service Interface EVI",
      "section_title": true,
      "ja": "4.2.1.  VLANベースのサービス・インタフェースEVI"
    },
    {
      "indent": 3,
      "text": "In our use case, EVI100 is a VLAN-based service interface EVI.",
      "ja": "私たちのユースケースでは、EVI100は、VLANベースのサービス・インターフェース・EVIです。"
    },
    {
      "indent": 3,
      "text": "EVI100 can be a \"unique-VLAN\" service if the CE-VID being used for this service in CE1, CE2, and CE3 is identical (for example, VID 100). In that case, the VID 100 binding must be provisioned in PE1, PE2, and PE3 for EVI100 and the associated port or LAG. The MAC-VRF RD and RT can be auto-derived from the CE-VID:",
      "ja": "CE-VIDをCE1、CE2、このサービスのために使用されている場合EVI100は「固有-VLAN」サービスすることができ、およびCE3は、（例えば、VID 100）と同一です。その場合には、VID 100の結合はEVI100及び関連するポートまたはLAGためPE1、PE2、PE3とでプロビジョニングされなければなりません。 MAC-VRF RDとRTは、CE-VIDから自動導出することができます。"
    },
    {
      "indent": 3,
      "text": "o The auto-derived MAC-VRF RD will be a Type 1 RD, as recommended in [RFC7432], and it will be comprised of [PE-IP]:[zero-padded-VID]; where [PE-IP] is the IP address of the PE (a loopback address) and [zero-padded-VID] is a 2-byte value where the low-order 12 bits are the VID (VID 100 in our example) and the high-order 4 bits are zero.",
      "ja": "O [RFC7432]に推奨されるように自己由来のMAC-VRF RDは、タイプ1のRDになり、そしてそれは[PE-IP]で構成されます。[ゼロパディング-VID]。ここで、[PE-IP]がPE（ループバックアドレス）のIPアドレスであり、[ゼロパディング-VID]が下位12ビットは（この例ではVID 100）VIDである2バイトの値であり、上位4ビットはゼロです。"
    },
    {
      "indent": 3,
      "text": "o The auto-derived MAC-VRF RT will be composed of [AS]:[zero-padded-VID]; where [AS] is the Autonomous System that the PE belongs to and [zero-padded-VID] is a 2- or 4-byte value where the low-order 12 bits are the VID (VID 100 in our example) and the high-order bits are zero. Note that auto-deriving the RT implies supporting a basic any-to-any topology in the EVI and using the same import and export RT in the EVI.",
      "ja": "自己由来のMAC-VRF RTは、[AS]で構成され（O）[ゼロパディング-VID]。 [AS]はPEが属すると[ゼロパディング-VID]が下位12ビットは、VID（この例ではVID 100）と高い2または4バイトの値であることを自律システムであります-orderビットはゼロです。なお、自動導出RTはEVIにおける基本的な多対多の任意のトポロジをサポートし、EVIに同じインポートおよびエクスポートRTを使用して意味します。"
    },
    {
      "indent": 3,
      "text": "If EVI100 is not a \"unique-VLAN\" instance, each individual CE-VID must be configured in each PE, and MAC-VRF RDs and RTs cannot be auto-derived; hence, they must be provisioned by the user.",
      "ja": "EVI100は「ユニーク・VLAN」インスタンスではない場合、個々の各CE-VIDは、各PEで構成されている必要があり、かつMAC-VRFのRDとRTSは、自動導出することができません。それゆえ、彼らは、ユーザがプロビジョニングする必要があります。"
    },
    {
      "indent": 0,
      "text": "4.2.2. VLAN Bundle Service Interface EVI",
      "section_title": true,
      "ja": "4.2.2.  VLANバンドルサービスインタフェースEVI"
    },
    {
      "indent": 3,
      "text": "Assuming EVI200 is a VLAN bundle service interface EVI, and VIDs 200-250 are assigned to EVI200, the CE-VID bundle 200-250 must be provisioned on PE1, PE2, and PE3. Note that this model does not allow CE-VID translation and the CEs must use the same CE-VIDs for EVI200. No auto-derived EVI RDs or EVI RTs are possible.",
      "ja": "EVI200がVLANバンドルサービスインターフェースEVIであり、200〜250のVIDがEVI200に割り当てられていると仮定すると、CE-VID束200~250はPE1、PE2及びPE3にプロビジョニングされなければなりません。このモデルは、CE-VID変換を許可していないと、CEはEVI200に同じCE-VIDのを使用しなければならないことに注意してください。いいえ自動由来EVI RDSのかEVIのRTはできません。"
    },
    {
      "indent": 0,
      "text": "4.2.3. VLAN-Aware Bundling Service Interface EVI",
      "section_title": true,
      "ja": "4.2.3.  VLAN-Awareのバンドル・サービス・インタフェースEVI"
    },
    {
      "indent": 3,
      "text": "If EVI300 is a VLAN-aware bundling service interface EVI, CE-VID binding to EVI300 does not have to match on the three PEs (only on PE1 and PE2, since they are part of the same ES). For example, PE1 and PE2 CE-VID binding to EVI300 can be set to the range 300-310 and PE3 to 321-330. Note that each individual CE-VID will be assigned to a different broadcast domain, which will be represented by an Ethernet Tag in the control plane.",
      "ja": "EVI300は、VLAN対応のバンドルサービスインターフェースEVIがある場合は、EVI300に結合CE-VIDは、（彼らは同じESの一部なので、唯一のPE1とPE2上）3つのPEに一致する必要はありません。例えば、EVI300に結合PE1とPE2 CE-VIDが321から330までの範囲300-310およびPE3に設定することができます。各個々のCE-VIDは、制御プレーンのイーサネット・タグによって表される異なるブロードキャストドメインに割り当てられることに留意されたいです。"
    },
    {
      "indent": 3,
      "text": "Therefore, besides the CE-VID bundle range bound to EVI300 in each PE, associations between each individual CE-VID and the corresponding EVPN Ethernet Tag must be provisioned by the user. No auto-derived EVI RDs/RTs are possible.",
      "ja": "したがって、各PEにEVI300に結合したCE-VIDバンドル範囲以外に、個々の各CE-VIDと対応EVPNイーサネットタグ間の関連付けは、ユーザによって提供されなければなりません。いいえ自動由来EVIののRD / RTSはできません。"
    },
    {
      "indent": 0,
      "text": "5. BGP EVPN NLRI Usage",
      "section_title": true,
      "ja": "5. BGP EVPN NLRIの使い方"
    },
    {
      "indent": 3,
      "text": "[RFC7432] defines four different route types and four different extended communities. However, not all the PEs in an EVPN network must generate and process all the different routes and extended communities. Table 1 shows the routes that must be exported and imported in the use case described in this document. \"Export\", in this context, means that the PE must be capable of generating and exporting a given route, assuming there are no BGP policies to prevent it. In the same way, \"Import\" means the PE must be capable of importing and processing a given route, assuming the right RTs and policies. \"N/A\" means neither import nor export actions are required.",
      "ja": "[RFC7432]は四つの異なるルートタイプと四つの異なる拡張コミュニティを定義します。しかし、EVPNネットワーク内のすべてのPEが発生し、すべての異なる経路および拡張コミュニティを処理しなければなりません。表1は、本書に記載されたユースケースでエクスポート及びインポートされなければならない経路を示しています。 「エクスポート」は、この文脈では、PEは、それを防ぐために何BGPポリシーが存在しないと仮定すると、所定の経路を生成してエクスポートすることができなければならないことを意味します。同様に、「インポート」は、PEが右RTSとポリシーを想定し、インポートし、所定の経路を処理することができなければならないことを意味します。 「N / A」はどちらもインポートやエクスポートのアクションが必要とされることを意味します。"
    },
    {
      "indent": 12,
      "text": "+-----------------+---------------+---------------+\n| BGP EVPN Routes | PE1-PE2       | PE3           |\n+-----------------+---------------+---------------+\n| ES              | Export/Import | N/A           |\n| A-D per ESI     | Export/Import | Import        |\n| A-D per EVI     | Export/Import | Import        |\n| MAC             | Export/Import | Export/Import |\n| Inclusive Mcast | Export/Import | Export/Import |\n+-----------------+---------------+---------------+",
      "raw": true
    },
    {
      "indent": 12,
      "text": "Table 1: Base EVPN Routes and Export/Import Actions",
      "ja": "表1：基本EVPNルートおよびエクスポート/インポートアクション"
    },
    {
      "indent": 3,
      "text": "PE3 is required to export only MAC and Inclusive Multicast (Mcast) routes and be able to import and process A-D routes as well as MAC and Inclusive Multicast routes. If PE3 did not support importing and processing A-D routes per ESI and per EVI, fast convergence and aliasing functions (respectively) would not be possible in this use case.",
      "ja": "PE3のみMACかつ包括的なマルチキャスト（MCAST）ルートをエクスポートおよびインポートすることができ、処理A-Dの経路、ならびにMACおよび包括マルチキャストルートであることが必要です。 PE3はESI当たり及びEVIあたり-Dルートをインポートし、処理はサポートしていない場合、高速収束及びエイリアシング機能（それぞれ）は、このユースケースでは可能ではないであろう。"
    },
    {
      "indent": 0,
      "text": "6. MAC-Based Forwarding Model Use Case",
      "section_title": true,
      "ja": "6. MACベース転送モデルのユースケース"
    },
    {
      "indent": 3,
      "text": "This section describes how the BGP EVPN routes are exported and imported by the PEs in our use case as well as how traffic is forwarded assuming that PE1, PE2, and PE3 support a MAC-based forwarding model. In order to compare the control- and data-plane impact in the two forwarding models (MAC-based and MPLS-based) and different service types, we will assume that CE1, CE2, and CE3 need to exchange traffic for up to 4k CE-VIDs.",
      "ja": "このセクションでは、BGP EVPNルートはトラフィックがPE1、PE2、PE3とは、MACベースの転送モデルをサポートすることを前提に転送する方法だけでなく、私たちのユースケースでのPEでエクスポートおよびインポートする方法について説明します。 2つのフォワーディングモデル（MACベースおよびMPLSベース）および異なるサービスタイプで制御 - データ・プレーンへの影響を比較するために、我々はCE1、CE2、およびCE3はCEを最大4000個までのトラフィックを交換する必要があることを前提としています-VIDs。"
    },
    {
      "indent": 0,
      "text": "6.1. EVPN Network Startup Procedures",
      "section_title": true,
      "ja": "6.1.  EVPNネットワーク起動手順"
    },
    {
      "indent": 3,
      "text": "Before any EVI is provisioned in the network, the following procedures are required:",
      "ja": "任意のEVIは、ネットワークでプロビジョニングされる前に、以下の手順が必要です。"
    },
    {
      "indent": 3,
      "text": "o Infrastructure setup: The proper MPLS infrastructure must be set up among PE1, PE2, and PE3 so that the EVPN services can make use of Point-to-Point (P2P) and P2MP LSPs. In addition to the MPLS transport, PE1 and PE2 must be properly configured with the same LACP configuration to CE2. Details are provided in [RFC7432]. Once the LAG is properly set up, the ESI for the CE2 Ethernet Segment (for example, ESI12) can be auto-generated by PE1 and PE2 from the LACP information exchanged with CE2 (ESI Type 1), as discussed in Section 4.1. Alternatively, the ESI can also be manually provisioned on PE1 and PE2 (ESI Type 0). PE1 and PE2 will auto-configure a BGP policy that will import any ES route matching the auto-derived ES-Import RT for ESI12.",
      "ja": "Oインフラストラクチャのセットアップは：EVPNサービスは、ポイントツーポイント（P2P）とP2MP LSPの利用を行うことができるように、適切なMPLSインフラストラクチャはPE1、PE2、PE3との間で設定する必要があります。 MPLS転送に加えて、PE1とPE2は適切CE2に同じLACP設定で設定されなければなりません。詳細は[RFC7432]で提供されています。 LAGが適切に設定されると、（例えば、ESI12）CE2イーサネットセグメントのためのESIは、自動生成されたセクション4.1で議論するように、CE2（ESIタイプ1）と交換LACP情報からPE1とPE2によって行うことができます。代替的に、ESIは、手動PE1とPE2（ESIタイプ0）にプロビジョニングすることができます。 PE1とPE2はESI12の自動由来のES-インポートRTに一致するESルートをインポートしますBGPポリシーを自動設定します。"
    },
    {
      "indent": 3,
      "text": "o Ethernet Segment route exchange and Designated Forwarder (DF) election: PE1 and PE2 will advertise a BGP Ethernet Segment route for ESI12, where the ESI RD and ES-Import RT will be auto-generated as discussed in Section 4.1.1. PE1 and PE2 will import the ES routes of each other and will run the DF election algorithm for any existing EVI (if any, at this point). PE3 will simply discard the route. Note that the DF election algorithm can support service carving so that the downstream BUM traffic from the network to CE2 can be load-balanced across PE1 and PE2 on a per-service basis.",
      "ja": "Oイーサネットセグメントの経路交換と指定フォワーダ（DF）選挙：PE1及びPE2は、セクション4.1.1で説明したようにESI RDおよびES-インポートRTが自動生成されるESI12に対するBGPイーサネットセグメントルートをアドバタイズします。 PE1とPE2は、互いのESルートをインポートします（この時点では、もしあれば）既存のEVIのためのDF選出アルゴリズムを実行します。 PE3は、単にルートを破棄します。ネットワークからCE2へ下流BUMトラフィックはサービスごとにPE1とPE2間で負荷分散されたことができるように、DF選定アルゴリズムはサービスの彫刻をサポートできることに注意してください。"
    },
    {
      "indent": 3,
      "text": "At the end of this process, the network infrastructure is ready to start deploying EVPN services. PE1 and PE2 are aware of the existence of a shared Ethernet Segment, i.e., ESI12.",
      "ja": "このプロセスの終わりには、ネットワークインフラストラクチャがEVPNサービスを展開開始する準備ができています。 PE1とPE2は、共有イーサネットセグメント、即ち、ESI12の存在を認識しています。"
    },
    {
      "indent": 0,
      "text": "6.2. VLAN-Based Service Procedures",
      "section_title": true,
      "ja": "6.2.  VLANベースのサービスの手続き"
    },
    {
      "indent": 3,
      "text": "Assuming that the EVPN network must carry traffic among CE1, CE2, and CE3 for up to 4k CE-VIDs, the service provider can decide to implement VLAN-based service interface EVIs to accomplish it. In this case, each CE-VID will be individually mapped to a different EVI. While this means a total number of 4k MAC-VRFs are required per PE, the advantages of this approach are the auto-provisioning of most of the service parameters if no VLAN translation is needed (see Section 4.2.1) and great control over each individual customer broadcast domain. We assume in this section that the range of EVIs from 1 to 4k is provisioned in the network.",
      "ja": "CE-VIDのを最大4000個までのためEVPNネットワークはCE1、CE2、およびCE3の間でトラフィックを伝送しなければならないと仮定すると、サービスプロバイダは、それを達成するためにVLANベースのサービス・インターフェース・EVISを実装することを決定することができます。この場合、各CE-VIDは、それぞれ異なるEVIにマッピングされます。この手段4K MAC-のVRFの総数はPEごとに必要とされているが、このアプローチの利点には、VLAN変換が必要とされない場合、サービス・パラメータのほとんどの自動プロビジョニング（セクション4.2.1を参照）、それぞれの素晴らしい制御されています個々の顧客のブロードキャストドメイン。私たちは、1から4KへEVISの範囲をネットワークでプロビジョニングされていることを、このセクションでは想定しています。"
    },
    {
      "indent": 0,
      "text": "6.2.1. Service Startup Procedures",
      "section_title": true,
      "ja": "6.2.1. サービスの起動手順"
    },
    {
      "indent": 3,
      "text": "As soon as the EVIs are created in PE1, PE2, and PE3, the following control-plane actions are carried out:",
      "ja": "EVISはPE1、PE2、PE3と、中に作成されるとすぐに、次のコントロールプレーンのアクションが実行されます。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI (4k routes): Each PE will send one Inclusive Multicast Ethernet Tag route per EVI (up to 4k routes per PE) so that the flooding tree per EVI can be set up. Note that ingress replication or P2MP LSPs can be optionally signaled in the Provider Multicast Service Interface (PMSI) Tunnel attribute and the corresponding tree can be created.",
      "ja": "EVIあたりOフラッディングツリーのセットアップ（4Kルート）：EVIあたりフラッディングツリーを設定することができるように、各PEは（PEあたり4kのルートまで）EVIにつき1つのインクルーシブのマルチキャストイーサネットタグルートを送信します。なお、入口複製またはP2MP LSPは、必要に応じてプロバイダマルチキャスト・サービス・インターフェース（PMSI）トンネル属性と対​​応するツリーを作成することが可能にシグナリングすることができます。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (a set of routes for ESI12): A set of A-D routes with a total list of 4k RTs (one per EVI) for ESI12 will be issued from PE1 and PE2 (it has to be a set of routes so that the total number of RTs can be conveyed). As per [RFC7432], each Ethernet A-D route per ESI is differentiated from the other routes in the set by a different Route Distinguisher (ES RD). This set will also include ESI Label extended communities with the active-standby flag set to zero (all-active multihoming type) and an ESI Label different from zero (used for split-horizon functions). These routes will be imported by the three PEs, since the RTs match the locally configured EVI RTs. The A-D routes per ESI will be used for fast convergence and split-horizon functions, as discussed in [RFC7432].",
      "ja": "ESI（ESI12のルートのセット）当たりイーサネットADルートO：ESI12ため4KのRT（EVI 1つ）の全リストをADルートのセットは（それがルートの設定する必要がありPE1とPE2から発行されますようにRTの総数）を搬送することができます。 [RFC7432]に従って、ESI当たり各イーサネット（登録商標）A-D経路が異なるルート区分（ES RD）によって、セット内の他の経路と区別されます。このセットはまた、ゼロ（すべてのアクティブマルチホーミングタイプ）に設定し、アクティブ・スタンバイフラグと（スプリットホライズン機能のために使用される）がゼロとは異なるESIラベル付きESIラベル拡張コミュニティを含むであろう。 RTSはローカルに設定EVIののRTに一致するので、これらのルートは3つのPEによってインポートされるであろう。 [RFC7432]で議論するようESI当たりA-Dの経路は、高速収束およびスプリットホライズン機能のために使用されるであろう。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI (4k routes): An A-D route per EVI will be sent by PE1 and PE2 for ESI12. Each individual route includes the corresponding EVI RT and an MPLS Label to be used by PE3 for the aliasing function. These routes will be imported by the three PEs.",
      "ja": "EVIあたりOイーサネット（登録商標）A-Dルート（4K経路）：EVI当たりのA-D経路がESI12ためPE1とPE2によって送信されます。各個々の経路は、対応するEVI RT及びエイリアシング機能のためにPE3で使用するMPLSラベルを含みます。これらのルートは3つのPEによってインポートされます。"
    },
    {
      "indent": 0,
      "text": "6.2.2. Packet Walk-Through",
      "section_title": true,
      "ja": "6.2.2. パケットウォークスルー"
    },
    {
      "indent": 3,
      "text": "Once the services are set up, the traffic can start flowing. Assuming there are no MAC addresses learned yet and that MAC learning at the access is performed in the data plane in our use case, this is the process followed upon receiving frames from each CE (for example, EVI1).",
      "ja": "サービスが設定されると、トラフィックが流れ始めることができます。ないMACアドレスが存在しないと仮定すると、まだ学習してMACアクセスで学習が我々のユースケースでデータプレーンで実行されることが、このプロセスは、各CE（例えば、EVI1）からフレームを受信すると続いています。"
    },
    {
      "indent": 3,
      "text": "BUM frame example from CE1:",
      "ja": "BUM CE1からフレームの例："
    },
    {
      "indent": 3,
      "text": "a. An ARP request with CE-VID=1 is issued from source MAC CE1-MAC (MAC address coming from CE1 or from a device connected to CE1) to find the MAC address of CE3-IP.",
      "ja": "A。 CE-VID = 1のARP要求がCE3-IPのMACアドレスを見つけるために、ソースMAC CE1-MAC（CE1から、またはCE1に接続されたデバイスからのMACアドレス）から発行されています。"
    },
    {
      "indent": 3,
      "text": "b. Based on the CE-VID, the frame is identified to be forwarded in the MAC-VRF-1 (EVI1) context. A source MAC lookup is done in the MAC FIB, and the sender's CE1-IP is looked up in the proxy ARP table within the MAC-VRF-1 (EVI1) context. If CE1-MAC/CE1-IP are unknown in both tables, three actions are carried out (assuming the source MAC is accepted by PE1):",
      "ja": "B。 CE-VIDに基づいて、フレームがMAC-VRF-1（EVI1）コンテキストに転送されると同定されます。元MACルックアップはMAC FIBで行われ、送信者のCE1-IPは、MAC-VRF-1（EVI1）コンテキスト内のプロキシARPテーブルに検索されます。 CE1-MAC / CE1-IPは、両方のテーブルに不明な場合は、3つのアクションは、（MACはPE1で受け入れられているソースを仮定して）行われています。"
    },
    {
      "indent": 7,
      "text": "1.  the forwarding state is added for the CE1-MAC associated with\n    the corresponding port and CE-VID;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "2. the ARP request is snooped and the tuple CE1-MAC/CE1-IP is added to the proxy ARP table; and",
      "ja": "2. ARP要求をスヌープし、タプルCE1-MAC / CE1-IPは、プロキシARPテーブルに追加されます。そして"
    },
    {
      "indent": 7,
      "text": "3. a BGP MAC Advertisement route is triggered from PE1 containing the EVI1 RD and RT, ESI=0, Ethernet-Tag=0, and CE1-MAC/CE1-IP, along with an MPLS Label assigned to MAC-VRF-1 from the PE1 Label space. Note that depending on the implementation, the MAC FIB and proxy ARP learning processes can independently send two BGP MAC advertisements instead of one (one containing only the CE1-MAC and another one containing CE1-MAC/CE1-IP).",
      "ja": "3. BGP MAC広告ルートがからMAC-VRF-1に割り当てられたMPLSラベルと共に、EVI1 RDおよびRTを含むPE1、ESI = 0、イーサネット（登録商標）タグ= 0、およびCE1-MAC / CE1-IPからトリガされますPE1ラベルスペース。実装に応じて、MAC FIBおよびプロキシARP学習プロセスは独立して、（一つのみCE1-MACとCE1-MAC / CE1-IPを含む他のものを含む）は、2つのBGP MAC広告代わりのいずれかを送信することができることに留意されたいです。"
    },
    {
      "indent": 7,
      "text": "Since we assume a MAC forwarding model, a label per MAC-VRF is normally allocated and signaled by the three PEs for MAC Advertisement routes. Based on the RT, the route is imported by PE2 and PE3, and the forwarding state plus the ARP entry are added to their MAC-VRF-1 context. From this moment on, any ARP request from CE2 or CE3 destined to CE1-IP can be directly replied to by PE1, PE2, or PE3, and ARP flooding for CE1-IP is not needed in the core.",
      "ja": "私たちは、MACフォワーディングモデルを想定しているので、MAC-VRFごとのラベルが正常に割り当てられ、MAC広告ルートのための3つのPEによって通知されます。 RTに基づいて、経路がPE2及びPE3によってインポートされ、そして転送状態プラスARPエントリは、そのMAC-VRF-1コンテキストに追加されます。この瞬間から、CE1-IP宛のCE2やCE3から任意のARP要求は、直接コアで必要とされないCE1-IPのためにPE1、PE2、PE3か、とARPの洪水によって回答することができます。"
    },
    {
      "indent": 3,
      "text": "c. Since the ARP frame is a broadcast frame, it is forwarded by PE1 using the Inclusive Multicast Tree for EVI1 (CE-VID=1 tag should be kept if translation is required). Depending on the type of tree, the label stack may vary. For example, assuming ingress replication, the packet is replicated to PE2 and PE3 with the downstream allocated labels and the P2P LSP transport labels. No other labels are added to the stack.",
      "ja": "C。 ARPフレームがブロードキャストフレームであるので、EVI1（翻訳が必要とされる場合に維持されるべきであるCE-VID = 1個のタグ）のために包括マルチキャストツリーを用いPE1によって転送されます。木の種類に応じて、ラベルスタックは異なる場合があります。例えば、入力複製を仮定すると、パケットは、下流に割り当てられたラベルとP2P LSP輸送ラベルとPE2及びPE3に複製されます。他のラベルがスタックに追加されていません。"
    },
    {
      "indent": 3,
      "text": "d. Assuming PE1 is the DF for EVI1 on ESI12, the frame is locally replicated to CE2.",
      "ja": "D。 PE1はESI12にEVI1ためのDFであると仮定すると、フレームがローカルCE2に複製されます。"
    },
    {
      "indent": 3,
      "text": "e. The MPLS-encapsulated frame gets to PE2 and PE3. Since PE2 is non-DF for EVI1 on ESI12, and there is no other CE connected to PE2, the frame is discarded. At PE3, the frame is de-encapsulated and the CE-VID is translated, if needed, and forwarded to CE3.",
      "ja": "電子。 MPLSカプセル化フレームはPE2とPE3になります。 PE2はESI12にEVI1ための非DFであり、PE2に接続された他のCEがないので、フレームは破棄されます。 PE3では、フレームは非カプセル化され、必要に応じてCE-VIDは、翻訳され、そしてCE3に転送されます。"
    },
    {
      "indent": 3,
      "text": "Any other type of BUM frame from CE1 would follow the same procedures. BUM frames from CE3 would follow the same procedures too.",
      "ja": "CE1からBUMフレームの任意の他のタイプは、同じ手順に従うことになります。 CE3からBUMフレームも同じ手順に従います。"
    },
    {
      "indent": 3,
      "text": "BUM frame example from CE2:",
      "ja": "BUM CE2からフレームの例："
    },
    {
      "indent": 3,
      "text": "a. An ARP request with CE-VID=1 is issued from source MAC CE2-MAC to find the MAC address of CE3-IP.",
      "ja": "A。 CE-VID = 1でARP要求がCE3-IPのMACアドレスを見つけるために、送信元MAC CE2-MACから発行されます。"
    },
    {
      "indent": 3,
      "text": "b. CE2 will hash the frame and will forward it to, for example, PE2. Based on the CE-VID, the frame is identified to be forwarded in the EVI1 context. A source MAC lookup is done in the MAC FIB and the sender's CE2-IP is looked up in the proxy ARP table within the MAC-VRF-1 context. If both are unknown, three actions are carried out (assuming the source MAC is accepted by PE2):",
      "ja": "B。 CE2は、フレームをハッシュし、例えば、PE2、それを転送します。 CE-VIDに基づいて、フレームは、EVI1コンテキストに転送されると同定されます。元MACルックアップはMAC FIBで行われ、送信者のCE2-IPは、MAC-VRF-1コンテキスト内でプロキシARPテーブルに検索されます。両方が不明である場合は、3つのアクションは、（MACはPE2で受け入れられているソースを仮定して）行われています。"
    },
    {
      "indent": 7,
      "text": "1.  the forwarding state is added for the CE2-MAC associated with\n    the corresponding LAG/ESI and CE-VID;",
      "raw": true
    },
    {
      "indent": 7,
      "text": "2. the ARP request is snooped and the tuple CE2-MAC/CE2-IP is added to the proxy ARP table; and",
      "ja": "2. ARP要求をスヌープし、タプルCE2-MAC / CE2-IPは、プロキシARPテーブルに追加されます。そして"
    },
    {
      "indent": 7,
      "text": "3. a BGP MAC Advertisement route is triggered from PE2 containing the EVI1 RD and RT, ESI=12, Ethernet-Tag=0, and CE2-MAC/CE2-IP, along with an MPLS Label assigned from the PE2 Label space (one label per MAC-VRF). Again, depending on the implementation, the MAC FIB and proxy ARP learning processes can independently send two BGP MAC advertisements instead of one.",
      "ja": "3.がBGP MAC広告ルートがEVI1 RDおよびRTを含むPE2からトリガされる、ESIはPE2ラベル空間から割り当てられたMPLSラベル（1と共に、12、イーサネット（登録商標）タグ= 0、及びCE2-MAC / CE2-IPを= MAC-VRFごとのラベル）。ここでも、実装に応じて、MAC FIBおよびプロキシARP学習プロセスが独立して1つではなく、2つのBGP MAC通知を送信することができます。"
    },
    {
      "indent": 7,
      "text": "Note that since PE3 is not part of ESI12, it will install the forwarding state for CE2-MAC as long as the A-D routes for ESI12 are also active on PE3. On the contrary, PE1 is part of ESI12, therefore PE1 will not modify the forwarding state for CE2-MAC if it has previously learned CE2-MAC locally attached to ESI12. Otherwise, it will add the forwarding state for CE2-MAC associated with the local ESI12 port.",
      "ja": "PE3はESI12の一部ではないので、それは限りESI12するA-Dの経路もPE3上でアクティブであるとしてCE2-MACの転送状態をインストールすることに注意してください。それは以前にCE2-MACがローカルESI12に添付学習している場合は逆に、PE1はESI12の一部であり、したがって、PE1はCE2-MACの転送状態を変更しません。それ以外の場合は、ローカルESI12ポートに関連付けられたCE2-MACの転送状態を追加します。"
    },
    {
      "indent": 3,
      "text": "c. Assuming PE2 does not have the ARP information for CE3-IP yet, and since the ARP is a broadcast frame and PE2 is the non-DF for EVI1 on ESI12, the frame is forwarded by PE2 in the Inclusive Multicast Tree for EVI1, thus adding the ESI Label for ESI12 at the bottom of the stack. The ESI Label has been previously allocated and signaled by the A-D routes for ESI12. Note that, as per [RFC7432], if the result of the CE2 hashing is different and the frame is sent to PE1, PE1 should add the ESI Label too (PE1 is the DF for EVI1 on ESI12).",
      "ja": "C。 PE2はまだCE3-IPのためのARP情報を持っていない、とARPはブロードキャストフレームであるとPE2はESI12上EVI1ための非DFであることから、フレームがEVI1ためインクルーシブマルチキャストツリーにPE2によって転送され、これ加えると仮定すると、スタックの底にESI12用ESIラベル。 ESIラベルは、以前に割り当てられたとESI12するA-Dの経路によって合図されています。 CE2ハッシュの結果が異なり、フレームはPE1に送信された場合、PE1があまりにESIラベルを追加する必要が[RFC7432]に従って（PE1がESI12にEVI1ためのDFである）ことを、注意してください。"
    },
    {
      "indent": 3,
      "text": "d. The MPLS-encapsulated frame gets to PE1 and PE3. PE1 de-encapsulates the Inclusive Multicast Tree Label(s) and, based on the ESI Label at the bottom of the stack, it decides to not forward the frame to the ESI12. It will pop the ESI Label and will replicate it to CE1, since CE1 is not part of the ESI identified by the ESI Label. At PE3, the Inclusive Multicast Tree Label is popped and the frame forwarded to CE3. If a P2MP LSP is used as the Inclusive Multicast Tree for EVI1, PE3 will find an ESI Label after popping the P2MP LSP Label. The ESI Label will simply be popped, since CE3 is not part of ESI12.",
      "ja": "D。 MPLSカプセル化フレームはPE1とPE3になります。 PE1の包括マルチキャストツリーラベル（複数可）を脱カプセル化し、スタックの底部のESIラベルに基づいて、それはESI12にフレームを転送しないことを決定します。 CE1は、ESIラベルによって識別されるESIの一部ではないので、それは、ESIラベルをポップし、CE1にそれを複製します。 PE3では、インクルーシブマルチキャストツリーラベルがポップされたフレームは、CE3に転送します。 P2MP LSPはEVI1ためインクルーシブマルチキャストツリーとして使用されている場合は、PE3は、P2MP LSPラベルをポップした後、ESIラベルがあります。 CE3はESI12の一部ではないので、ESIラベルは、単純に、ポップされます。"
    },
    {
      "indent": 3,
      "text": "Unicast frame example from CE3 to CE1:",
      "ja": "CE3からCE1へのユニキャストフレームの例："
    },
    {
      "indent": 3,
      "text": "a. A unicast frame with CE-VID=1 is issued from source MAC CE3-MAC and destination MAC CE1-MAC (we assume PE3 has previously resolved an ARP request from CE3 to find the MAC of CE1-IP and has added CE3-MAC/CE3-IP to its proxy ARP table).",
      "ja": "A。 CE-VID = 1のユニキャストフレームがソースMAC CE3-MACと宛先MAC CE1-MACから発行された（我々はPE3が以前CE1-IPのMACを見つけるために、CE3からのARP要求を解決し、CE3-MACを追加/ていると仮定しますCE3-IPのプロキシARPテーブルへ）。"
    },
    {
      "indent": 3,
      "text": "b. Based on the CE-VID, the frame is identified to be forwarded in the EVI1 context. A source MAC lookup is done in the MAC FIB within the MAC-VRF-1 context and this time, since we assume CE3-MAC is known, no further actions are carried out as a result of the source lookup. A destination MAC lookup is performed next and the label stack associated with the MAC CE1-MAC is found (including the label associated with MAC-VRF-1 in PE1 and the P2P LSP Label to get to PE1). The unicast frame is then encapsulated and forwarded to PE1.",
      "ja": "B。 CE-VIDに基づいて、フレームは、EVI1コンテキストに転送されると同定されます。元MACルックアップが、我々はCE3-MACが知られていると仮定しているので、それ以上のアクションは、ソース検索の結果として行われていない、MAC-VRF-1のコンテキストとこの時間内にMAC FIBで行われます。宛先MACルックアップは、次の実行され、MAC CE1-MACに関連付けられたラベルスタックは、（PE1を取得するPE1におけるMAC-VRF-1とP2P LSPのラベルに関連付けられたラベルを含む）を求めます。ユニキャストフレームがカプセル化され、PE1に転送されます。"
    },
    {
      "indent": 3,
      "text": "c. At PE1, the packet is identified to be part of EVI1 and a destination MAC lookup is performed in the MAC-VRF-1 context. The labels are popped and the frame is forwarded to CE1 with CE-VID=1.",
      "ja": "C。 PE1では、パケットはEVI1の一部であると識別され、宛先MACルックアップは、MAC-VRF-1コンテキストで実行されます。ラベルがポップされ、フレームは、CE-VID = 1でCE1に転送されます。"
    },
    {
      "indent": 7,
      "text": "Unicast frames from CE1 to CE3 or from CE2 to CE3 follow the same\nprocedures described above.",
      "raw": true
    },
    {
      "indent": 3,
      "text": "Unicast frame example from CE3 to CE2:",
      "ja": "CE3からCE2へのユニキャストフレームの例："
    },
    {
      "indent": 3,
      "text": "a. A unicast frame with CE-VID=1 is issued from source MAC CE3-MAC and destination MAC CE2-MAC (we assume PE3 has previously resolved an ARP request from CE3 to find the MAC of CE2-IP).",
      "ja": "A。 CE-VID = 1のユニキャストフレームがソースMAC CE3-MACと宛先MAC CE2-MAC（我々はPE3が以前CE2-IPのMACを見つけるために、CE3からのARP要求を解決していると仮定）から発行されています。"
    },
    {
      "indent": 3,
      "text": "b. Based on the CE-VID, the frame is identified to be forwarded in the MAC-VRF-1 context. We assume CE3-MAC is known. A destination MAC lookup is performed next and PE3 finds CE2-MAC associated with PE2 on ESI12, an Ethernet Segment for which PE3 has two active A-D routes per ESI (from PE1 and PE2) and two active A-D routes for EVI1 (from PE1 and PE2). Based on a hashing function for the frame, PE3 may decide to forward the frame using the label stack associated with PE2 (label received from the MAC Advertisement route) or the label stack associated with PE1 (label received from the A-D route per EVI for EVI1). Either way, the frame is encapsulated and sent to the remote PE.",
      "ja": "B。 CE-VIDに基づいて、フレームがMAC-VRF-1コンテキストに転送されると同定されます。私たちは、CE3-MACが知られていると仮定します。宛先MACルックアップは、次の実行され、PE3はESI12、PE3はPE1とPE2から（PE1およびPE2から）ESIごとに2つのアクティブADルート及びEVI1のための2つのアクティブADルートを（持っているイーサネットセグメント上PE2に関連付けCE2-MACを発見します）。フレームのハッシュ関数に基づいて、PE3はPE2（ラベルMAC広告経路から受​​信した）またはPE1に関連付けられたラベルスタックに関連付けられたラベルスタックを用いてフレームを転送することを決定することができる（ラベルはEVI1ためEVI当たりADルートから受信しました）。いずれにせよ、フレームがカプセル化され、リモートPEに送られます。"
    },
    {
      "indent": 3,
      "text": "c. At PE2 (or PE1), the packet is identified to be part of EVI1 based on the bottom label, and a destination MAC lookup is performed. At either PE (PE2 or PE1), the FIB lookup yields a local ESI12 port to which the frame is sent.",
      "ja": "C。 PE2（またはPE1）では、パケットが底ラベルに基づいEVI1の一部であることが確認され、かつ宛先MACルックアップが行われます。 PE（PE2又はPE1）のいずれかで、FIBルックアップは、フレームが送信されたローカルESI12ポートを生じます。"
    },
    {
      "indent": 3,
      "text": "Unicast frames from CE1 to CE2 follow the same procedures.",
      "ja": "CE2へCE1からユニキャストフレームは、同じ手順に従ってください。"
    },
    {
      "indent": 0,
      "text": "6.3. VLAN Bundle Service Procedures",
      "section_title": true,
      "ja": "6.3.  VLANバンドルサービスの手順"
    },
    {
      "indent": 3,
      "text": "Instead of using VLAN-based interfaces, the operator can choose to implement VLAN bundle interfaces to carry the traffic for the 4k CE-VIDs among CE1, CE2, and CE3. If that is the case, the 4k CE-VIDs can be mapped to the same EVI (for example, EVI200) at each PE. The main advantage of this approach is the low control-plane overhead (reduced number of routes and labels) and easiness of provisioning at the expense of no control over the customer broadcast domains, i.e., a single Inclusive Multicast Tree for all the CE-VIDs and no CE-VID translation in the provider network.",
      "ja": "代わりに、VLANベースのインターフェースを使用する、オペレータはCE1、CE2、CE3との間で4K CE-VIDのためにトラフィックを伝送するためにVLANバンドルインターフェイスを実装するために選択することができます。その場合は、4K CE-のVIDは、各PEで同じEVI（例えば、EVI200）にマッピングすることができます。このアプローチの主な利点は、顧客ブロードキャストドメイン上のない制御、すなわち、すべてのCE-VIDのための単一の包括マルチキャストツリーを犠牲にして低い制御プレーンオーバーヘッド（還元経路とラベルの数）とプロビジョニングの容易さでありますそして、プロバイダーネットワークの無CE-VID翻訳。"
    },
    {
      "indent": 0,
      "text": "6.3.1. Service Startup Procedures",
      "section_title": true,
      "ja": "6.3.1. サービスの起動手順"
    },
    {
      "indent": 3,
      "text": "As soon as the EVI200 is created in PE1, PE2, and PE3, the following control-plane actions are carried out:",
      "ja": "EVI200はPE1、PE2、PE3と、中に作成されるとすぐに、次のコントロールプレーンのアクションが実行されます。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI (one route): Each PE will send one Inclusive Multicast Ethernet Tag route per EVI (hence, only one route per PE) so that the flooding tree per EVI can be set up. Note that ingress replication or P2MP LSPs can optionally be signaled in the PMSI Tunnel attribute and the corresponding tree can be created.",
      "ja": "EVIあたりOフラッディングツリーセットアップ（一方の経路）：EVIあたりフラッディングツリーを設定することができるように、各PEは（PEあたりしたがって、唯一の経路）EVIごとに包括マルチキャストイーサネットタグルートを送信します。なお、入口複製またはP2MP LSPは、必要に応じてPMSIトンネル属性に合図することができ、対応するツリーを作成することができます。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (one route for ESI12): A single A-D route for ESI12 will be issued from PE1 and PE2. This route will include a single RT (RT for EVI200), an ESI Label extended community with the active-standby flag set to zero (all-active multihoming type), and an ESI Label different from zero (used by the non-DF for split-horizon functions). This route will be imported by the three PEs, since the RT matches the locally configured EVI200 RT. The A-D routes per ESI will be used for fast convergence and split-horizon functions, as described in [RFC7432].",
      "ja": "ESIあたりOイーサネット（登録商標）A-Dルート（ESI12ための1つの経路）：ESI12ための単一のA-D経路がPE1とPE2から発行されます。この経路は、単一のRT（EVI200用RT）、ゼロ（全アクティブマルチホーミングタイプ）に設定し、アクティブ・スタンバイフラグをESIラベル拡張コミュニティ、およびのための非DFによって使用されるゼロとは異なるESIラベル（含みますスプリットホライズン機能）。 RTは、ローカルに設定さEVI200 RTに一致するので、このルートは、3つのPEによってインポートされます。 [RFC7432]に記載されているようESI当たりA-Dの経路は、高速収束およびスプリットホライズン機能のために使用されるであろう。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI (one route): An A-D route (EVI200) will be sent by PE1 and PE2 for ESI12. This route includes the EVI200 RT and an MPLS Label to be used by PE3 for the aliasing function. This route will be imported by the three PEs.",
      "ja": "O EVIあたりイーサネットA-Dの経路（経路1）：A-Dルート（EVI200）はESI12ためPE1とPE2によって送信されます。このルートはEVI200 RTとエイリアシング機能のためにPE3が使用するMPLSラベルを含んでいます。このルートは3つのPEによってインポートされます。"
    },
    {
      "indent": 0,
      "text": "6.3.2. Packet Walk-Through",
      "section_title": true,
      "ja": "6.3.2. パケットウォークスルー"
    },
    {
      "indent": 3,
      "text": "The packet walk-through for the VLAN bundle case is similar to the one described for EVI1 in the VLAN-based case except for the way the CE-VID is handled by the ingress PE and the egress PE:",
      "ja": "パケットウォークスルーVLANバンドルの場合については、CE-VIDが入力PEと出口PEによって処理される方法を除き、VLANベースの場合にEVI1について記載したものと同様です。"
    },
    {
      "indent": 3,
      "text": "o No VLAN translation is allowed and the CE-VIDs are kept untouched from CE to CE, i.e., the ingress CE-VID must be kept at the imposition PE and at the disposition PE.",
      "ja": "OいいえVLAN変換が許可され、CE-のVIDは、CEからCEまでそのまま保持され、すなわち、入口CE-VIDは、面付けPEで、かつ配置PEに保たれなければなりません。"
    },
    {
      "indent": 3,
      "text": "o The frame is identified to be forwarded in the MAC-VRF-200 context as long as its CE-VID belongs to the VLAN bundle defined in the PE1/PE2/PE3 port to CE1/CE2/CE3. Our example is a special VLAN bundle case since the entire CE-VID range is defined in the ports; therefore, any CE-VID would be part of EVI200.",
      "ja": "Oフレームがあれば、そのCE-VIDはCE1 / CE2 / CE3にPE1 / PE2 / PE3ポートで定義されたVLANバンドルに属するようにMAC-VRF-200コンテキストに転送されると同定されます。我々の例では、全体のCE-VID範囲をポートに定義されているので、特別なVLANバンドルケースです。そのため、任意のCE-VIDはEVI200の一部となります。"
    },
    {
      "indent": 3,
      "text": "Please refer to Section 6.2.2 for more information about the control-plane and forwarding-plane interaction for BUM and unicast traffic from the different CEs.",
      "ja": "BUMと異なるのCEからのユニキャストトラフィックのコントロールプレーンとフォワーディングプレーンの相互作用についての詳細は、6.2.2項を参照してください。"
    },
    {
      "indent": 0,
      "text": "6.4. VLAN-Aware Bundling Service Procedures",
      "section_title": true,
      "ja": "6.4.  VLAN-Awareのバンドルサービスの手順"
    },
    {
      "indent": 3,
      "text": "The last potential service type analyzed in this document is VLAN-aware bundling. When this type of service interface is used to carry the 4k CE-VIDs among CE1, CE2, and CE3, all the CE-VIDs will be mapped to the same EVI (for example, EVI300). The difference, compared to the VLAN bundle service type in the previous section, is that each incoming CE-VID will also be mapped to a different \"normalized\" Ethernet Tag in addition to EVI300. If no translation is required, the Ethernet Tag will match the CE-VID. Otherwise, a translation between CE-VID and Ethernet Tag will be needed at the imposition PE and at the disposition PE. The main advantage of this approach is the ability to control customer broadcast domains while providing a single EVI to the customer.",
      "ja": "この文書では、分析の最後の潜在的なサービスタイプは、VLAN対応のバンドルです。サービスインターフェースのこのタイプは4K CE-VIDのCE1、CE2およびCE3間を搬送するために使用される場合、すべてのCE-のVIDが同じEVI（例えば、EVI300）にマッピングされます。違いは、前のセクションでVLANバンドルサービスタイプに比べて、各着信CE-VIDもEVI300に加えて、異なる「正規化」イーサネットタグにマッピングされることです。何の翻訳が必要とされていない場合は、イーサネットタグは、CE-VIDと一致します。それ以外の場合は、CE-VIDとイーサネットタグの間の変換は、面付けPEでと処分のPEで必要になります。このアプローチの主な利点は、顧客への単一EVIを提供しながら、顧客のブロードキャストドメインを制御する能力です。"
    },
    {
      "indent": 0,
      "text": "6.4.1. Service Startup Procedures",
      "section_title": true,
      "ja": "6.4.1. サービスの起動手順"
    },
    {
      "indent": 3,
      "text": "As soon as the EVI300 is created in PE1, PE2, and PE3, the following control-plane actions are carried out:",
      "ja": "EVI300はPE1、PE2、PE3と、中に作成されるとすぐに、次のコントロールプレーンのアクションが実行されます。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI per Ethernet Tag (4k routes): Each PE will send one Inclusive Multicast Ethernet Tag route per EVI and per Ethernet Tag (hence, 4k routes per PE) so that the flooding tree per customer broadcast domain can be set up. Note that ingress replication or P2MP LSPs can optionally be signaled in the PMSI Tunnel attribute and the corresponding tree be created. In the described use case, since all the CE-VIDs and Ethernet Tags are defined on the three PEs, multicast tree aggregation might make sense in order to save forwarding states.",
      "ja": "イーサネットタグ当たりEVIあたりOフラッディングツリーセットアップ（4K経路）：EVIごとイーサネットタグごとに1つの包括的なマルチキャストイーサネットタグルートを送信する各PEは（従って、PE当たり4Kルート）顧客ブロードキャストドメインあたりフラッディングツリーを設定することができるようにアップ。なお、入口複製またはP2MP LSPは、必要に応じてPMSIトンネル属性に合図することができ、対応するツリーを作成すること。すべてのCE-VIDのイーサネットタグ3つのPE上で定義されているので説明ユースケースでは、マルチキャストツリーの集約はフォワーディング状態を保存するために意味をなさないかもしれません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (one route for ESI12): A single A-D route for ESI12 will be issued from PE1 and PE2. This route will include a single RT (RT for EVI300), an ESI Label extended community with the active-standby flag set to zero (all-active multihoming type), and an ESI Label different than zero (used by the non-DF for split-horizon functions). This route will be imported by the three PEs, since the RT matches the locally configured EVI300 RT. The A-D routes per ESI will be used for fast convergence and split-horizon functions, as described in [RFC7432].",
      "ja": "ESIあたりOイーサネット（登録商標）A-Dルート（ESI12ための1つの経路）：ESI12ための単一のA-D経路がPE1とPE2から発行されます。この経路は、単一のRT（EVI300用RT）、ゼロ（全アクティブマルチホーミングタイプ）に設定し、アクティブ・スタンバイフラグをESIラベル拡張コミュニティ、そしてための非DFによって使用されるゼロ（異なるESIラベルを含みますスプリットホライズン機能）。 RTは、ローカルに設定さEVI300 RTに一致するので、このルートは、3つのPEによってインポートされます。 [RFC7432]に記載されているようESI当たりA-Dの経路は、高速収束およびスプリットホライズン機能のために使用されるであろう。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI: A single A-D route (EVI300) may be sent by PE1 and PE2 for ESI12 in case no CE-VID translation is required. This route includes the EVI300 RT and an MPLS Label to be used by PE3 for the aliasing function. This route will be imported by the three PEs. Note that if CE-VID translation is required, an A-D per EVI route is required per Ethernet Tag (4k).",
      "ja": "O EVIあたりイーサネットA-Dルート：なしCE-VID変換が必要とされない場合には、単一のA-Dルート（EVI300）はESI12ためPE1とPE2によって送信されても​​よいです。このルートはEVI300 RTとエイリアシング機能のためにPE3が使用するMPLSラベルを含んでいます。このルートは3つのPEによってインポートされます。 CE-VID変換が必要な場合、EVI経路ごとA-Dは、イーサネット（登録商標）タグ（4K）ごとに必要であることに留意されたいです。"
    },
    {
      "indent": 0,
      "text": "6.4.2. Packet Walk-Through",
      "section_title": true,
      "ja": "6.4.2. パケットウォークスルー"
    },
    {
      "indent": 3,
      "text": "The packet walk-through for the VLAN-aware case is similar to the one described before. Compared to the other two cases, VLAN-aware services allow for CE-VID translation and for an N:1 CE-VID to EVI mapping. Both things are not supported at once in either of the two other service interfaces. Some differences compared to the packet walk-through described in Section 6.2.2 are as follows:",
      "ja": "VLAN対応の場合のパケットウォークスルーは、前述のものと同様です。他の2例と比較すると、VLAN認識サービスは、CE-VID翻訳のためにとNを可能に：1 CE-VID EVIへのマッピング。両方のものが一度に二つの他のサービス・インターフェースのいずれかでサポートされていません。パケットに比べていくつかの相違点は、ウォークスルー6.2.2項で説明を次のとおりです。"
    },
    {
      "indent": 3,
      "text": "o At the ingress PE, the frames are identified to be forwarded in the EVI300 context as long as their CE-VID belong to the range defined in the PE port to the CE. In addition to it, CE-VID=x is mapped to a \"normalized\" Ethernet-Tag=y at the MAC-VRF-300 (where x and y might be equal if no translation is needed). Qualified learning is now required (a different bridge table is allocated within MAC-VRF-300 for each Ethernet Tag). Potentially, the same MAC could be learned in two different Ethernet Tag bridge tables of the same MAC-VRF.",
      "ja": "入口PEでO、フレームがあれば、それらのCE-VIDがCEにPEポートで定義された範囲に属するようEVI300コンテキストに転送されると同定されています。それに加えて、CE-VIDは、= Xは（何の変換が必要とされない場合、xとyが等しいかもしれない）MAC-VRF-300で「正規化」イーサネットタグ= yにマッピングされます。修飾学習について（異なるブリッジテーブルは、各イーサネット（登録商標）タグのMAC-VRF-300内に割り当てられている）が必要です。潜在的に、同じMACが同じMAC-VRFの二つの異なるイーサネットタグブリッジテーブルに学習することができます。"
    },
    {
      "indent": 3,
      "text": "o Any new locally learned MAC on the MAC-VRF-300/Ethernet-Tag=y interface is advertised by the ingress PE in a MAC Advertisement route using the now Ethernet Tag field (Ethernet-Tag=y) so that the remote PE learns the MAC associated with the MAC-VRF-300/",
      "ja": "Oすべての新しいは、局所的にMACを学習したMAC-VRF-300 / = Yインタフェースは、リモートPEが学習するようになりましたイーサネット・タグ・フィールド（イーサネットタグ= y）を使用して、MAC広告経路に入口PEによってアドバタイズされたイーサネット（登録商標）タグMAC-VRF-300に関連付けられたMAC /"
    },
    {
      "indent": 6,
      "text": "Ethernet-Tag=y FIB. Note that the Ethernet Tag field is not used in advertisements of MACs learned on VLAN-based or VLAN-bundle service interfaces.",
      "ja": "イーサネットタグ= yのFIB。イーサネットTagフィールドは、VLANベースまたはVLAN-バンドルサービス・インターフェース上で学習MACの広告で使用されていないことに注意してください。"
    },
    {
      "indent": 3,
      "text": "o At the ingress PE, BUM frames are sent to the corresponding flooding tree for the particular Ethernet Tag they are mapped to. Each individual Ethernet Tag can have a different flooding tree within the same EVI300. For instance, Ethernet-Tag=y can use ingress replication to get to the remote PEs, whereas Ethernet-Tag=z can use a P2MP LSP.",
      "ja": "入口PEでoは、BUMフレームは、それらがマップされる特定のイーサネット（登録商標）タグに対応するフラッディングツリーに送られます。個々のイーサネット・タグは同じEVI300内の異なる洪水ツリーを持つことができます。イーサネットタグ= zがP2MP LSPを使用することができ、一方、例えば、イーサネット（登録商標）タグ= yは、遠隔のPEを取得する入力レプリケーションを使用することができます。"
    },
    {
      "indent": 3,
      "text": "o At the egress PE, Ethernet-Tag=y (for a given broadcast domain within MAC-VRF-300) can be translated to egress CE-VID=x. That is not possible for VLAN bundle interfaces. It is possible for VLAN-based interfaces, but it requires a separate MAC-VRF per CE-VID.",
      "ja": "出口PEでO、（MAC-VRF-300内の指定されたブロードキャストドメインの）イーサネットタグ= yが出力CE-VID = Xに変換することができます。つまり、VLANバンドルインターフェイスには不可能です。これは、VLANベースのインタフェースのために可能であるが、CE-VIDごとに別々のMAC-VRFを必要とします。"
    },
    {
      "indent": 0,
      "text": "7. MPLS-Based Forwarding Model Use Case",
      "section_title": true,
      "ja": "7. MPLSベースの転送モデルのユースケース"
    },
    {
      "indent": 3,
      "text": "EVPN supports an alternative forwarding model, usually referred to as the MPLS-based forwarding or disposition model, as opposed to the MAC-based forwarding or disposition model described in Section 6. Using the MPLS-based forwarding model instead of the MAC-based model might have an impact on the following:",
      "ja": "MPLSベースの転送モデルの代わりにMACベースのモデルを使用して、セクション6に記載MACベース転送または配置モデルとは対照的にEVPNは、通常、MPLSベースの転送または配置モデルと呼ばれる、別の転送モデルをサポート以下に影響を与える可能性があります："
    },
    {
      "indent": 3,
      "text": "o the number of forwarding states required; and",
      "ja": "O転送状態の数が必要。そして"
    },
    {
      "indent": 3,
      "text": "o the FIB where the forwarding states are handled (MAC FIB or MPLS Label FIB (LFIB)).",
      "ja": "転送状態が（MAC FIBまたはMPLSラベルFIB（LFIB））を処理されFIB O。"
    },
    {
      "indent": 3,
      "text": "The MPLS-based forwarding model avoids the destination MAC lookup at the egress PE MAC FIB at the expense of increasing the number of next-hop forwarding states at the egress MPLS LFIB. This also has an impact on the control plane and the label allocation model, since an MPLS-based disposition PE must send as many routes and labels as required next-hops in the egress MAC-VRF. This concept is equivalent to the forwarding models supported in IP-VPNs at the egress PE, where an IP lookup in the IP-VPN FIB may or may not be necessary depending on the available next-hop forwarding states in the LFIB.",
      "ja": "MPLSベースの転送モデルは、出口MPLS LFIBにネクストホップ転送状態の数を増やすことを犠牲にして、出口PE MAC FIBで宛先MACルックアップを回避します。 MPLSベースの配置PEが出力MAC-VRFに必要な次のホップ限り多くの経路およびラベルを送信しなければならないので、これはまた、制御プレーンとラベル割り当てモデルに影響を与えます。この概念は、IP-VPN FIBにIPルックアップがまたはLFIBで使用可能なネクストホップ転送状態に応じて必要であってもなくてもよい出口PE、でIP-VPNの中でサポートされている転送モデルと等価です。"
    },
    {
      "indent": 3,
      "text": "The following subsections highlight the impact on the control- and data-plane procedures described in Section 6 when an MPLS-based forwarding model is used.",
      "ja": "MPLSベースの転送モデルを使用する場合、以下のサブセクションはセクション6に記載制御及びデータプレーンの手順への影響を強調しています。"
    },
    {
      "indent": 3,
      "text": "Note that both forwarding models are compatible and interoperable in the same network. The implementation of either model in each PE is a local decision to the PE node.",
      "ja": "両方の転送モデルは、同じネットワーク内の互換性と相互運用性であることに留意されたいです。各PE内のモデルのいずれかの実装では、PEノードのローカル決定です。"
    },
    {
      "indent": 0,
      "text": "7.1. Impact of MPLS-Based Forwarding on the EVPN Network Startup",
      "section_title": true,
      "ja": "7.1.  EVPNネットワーク起動のMPLSベースの転送の影響"
    },
    {
      "indent": 3,
      "text": "The MPLS-based forwarding model has no impact on the procedures explained in Section 6.1.",
      "ja": "MPLSベースの転送モデルは、セクション6.1で説明した手順に影響を与えません。"
    },
    {
      "indent": 0,
      "text": "7.2. Impact of MPLS-Based Forwarding on the VLAN-Based Service Procedures",
      "ja": "7.2.  VLANベースのサービスの手続き上のMPLSベースの転送の影響"
    },
    {
      "indent": 3,
      "text": "Compared to the MAC-based forwarding model, the MPLS-based forwarding model has no impact in terms of the number of routes when all the service interfaces are based on VLAN. The differences for the use case described in this document are summarized in the following list:",
      "ja": "すべてのサービスインターフェイスをVLANに基づいている場合にMACベースの転送モデルと比較して、MPLSベースの転送モデルは、ルートの数の点で影響を与えません。このドキュメントで説明するユースケースのための相違点は、以下のリストにまとめられています。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI (4k routes per PE): There is no impact when compared to the MAC-based model.",
      "ja": "EVIあたりOフラッディングツリーセットアップ（PE当たり4K経路）は：MACベースのモデルと比較した場合には影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (one set of routes for ESI12 per PE): There is no impact compared to the MAC-based model.",
      "ja": "ESIあたりOイーサネット（登録商標）A-Dルート（PE当たりESI12のルートの1組）：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI (4k routes per PE/ESI): There is no impact compared to the MAC-based model.",
      "ja": "EVIあたりOイーサネット（登録商標）A-Dルート（PE / ESI当たり4K経路）は：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o MAC Advertisement routes: Instead of allocating and advertising the same MPLS Label for all the new MACs locally learned on the same MAC-VRF, a different label must be advertised per CE next-hop or MAC so that no MAC FIB lookup is needed at the egress PE. In general, this means that a different label (at least per CE) must be advertised, although the PE can decide to implement a label per MAC if more granularity (hence, less scalability) is required in terms of forwarding states. For example, if CE2 sends traffic from two different MACs to PE1, CE2-MAC1, and CE2-MAC2, the same MPLS Label=x can be re-used for both MAC advertisements, since they both share the same source ESI12. It is up to the PE1 implementation to use a different label per individual MAC within the same ES (even if only one label per ESI is enough).",
      "ja": "MAC広告ルートO：代わりにローカルに同じMAC-VRF、異なるラベルに学んだすべての新しいMacに同じMPLSラベルを割り当て、広告のないMAC FIB検索がで必要とされないようにCEネクストホップまたはMACごとに宣伝する必要があります出力PE。一般に、これは、PEは、より粒度が（したがって、より少ないスケーラビリティ）は転送状態の観点から必要とされる場合、MACあたりラベルを実装することを決定することができるが、異なるラベルが（少なくともCEあたり）、アドバタイズされなければならないことを意味します。例えば、それらの両方が同じソースESI12を共有しているためCE2は、PE1、CE2-MAC1、及びCE2-MAC2、= xは、両方のMAC広告のために再使用することができる同一のMPLSラベルへの2つの異なるのMACからのトラフィックを送信する場合。それは（ESIごとに1つだけのラベルが十分であっても）同じES内の個々のMACごとに異なるラベルを使用するためにPE1の実装に任されています。"
    },
    {
      "indent": 3,
      "text": "o PE1, PE2, and PE3 will not add forwarding states to the MAC FIB upon learning new local CE MAC addresses on the data plane but will rather add forwarding states to the MPLS LFIB.",
      "ja": "O PE1、PE2、PE3とは、データプレーン上で新しいローカルCE MACアドレスを学習するとMAC FIBに転送状態を追加しませんではなく、MPLS LFIBにフォワーディングステートを追加します。"
    },
    {
      "indent": 0,
      "text": "7.3. Impact of MPLS-Based Forwarding on the VLAN Bundle Service Procedures",
      "ja": "7.3.  VLANバンドルサービスの手続き上のMPLSベースの転送の影響"
    },
    {
      "indent": 3,
      "text": "Compared to the MAC-based forwarding model, the MPLS-based forwarding model has no impact in terms of number of routes when all the service interfaces are VLAN bundle type. The differences for the use case described in this document are summarized in the following list:",
      "ja": "MACベースの転送モデルと比較して、MPLSベースの転送モデルは、すべてのサービス・インターフェースは、VLANバンドルタイプである経路の数の点で影響を与えません。このドキュメントで説明するユースケースのための相違点は、以下のリストにまとめられています。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI (one route): There is no impact compared to the MAC-based model.",
      "ja": "EVI（一方の経路）あたりOフラッディングツリーセットアップは：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (one route for ESI12 per PE): There is no impact compared to the MAC-based model.",
      "ja": "ESIあたりOイーサネット（登録商標）A-Dルート（PE当たりESI12ための1つのルート）：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI (one route per PE/ESI): There is no impact compared to the MAC-based model since no VLAN translation is required.",
      "ja": "EVI（PE / ESIごとにルート）当たりイーサネットA-Dルート○：VLAN変換を必要としないので、影響はMACベースのモデルと比較してありません。"
    },
    {
      "indent": 3,
      "text": "o MAC Advertisement routes: Instead of allocating and advertising the same MPLS Label for all the new MACs locally learned on the same MAC-VRF, a different label must be advertised per CE next-hop or MAC so that no MAC FIB lookup is needed at the egress PE. In general, this means that a different label (at least per CE) must be advertised, although the PE can decide to implement a label per MAC if more granularity (hence, less scalability) is required in terms of forwarding states. It is up to the PE1 implementation to use a different label per individual MAC within the same ES (even if only one label per ESI is enough).",
      "ja": "MAC広告ルートO：代わりにローカルに同じMAC-VRF、異なるラベルに学んだすべての新しいMacに同じMPLSラベルを割り当て、広告のないMAC FIB検索がで必要とされないようにCEネクストホップまたはMACごとに宣伝する必要があります出力PE。一般に、これは、PEは、より粒度が（したがって、より少ないスケーラビリティ）は転送状態の観点から必要とされる場合、MACあたりラベルを実装することを決定することができるが、異なるラベルが（少なくともCEあたり）、アドバタイズされなければならないことを意味します。それは（ESIごとに1つだけのラベルが十分であっても）同じES内の個々のMACごとに異なるラベルを使用するためにPE1の実装に任されています。"
    },
    {
      "indent": 3,
      "text": "o PE1, PE2, and PE3 will not add forwarding states to the MAC FIB upon learning new local CE MAC addresses on the data plane, but will rather add forwarding states to the MPLS LFIB.",
      "ja": "O PE1、PE2、PE3とは、データプレーン上で新しいローカルCE MACアドレスを学習するとMAC FIBに転送状態を追加しませんが、むしろMPLS LFIBにフォワーディングステートを追加します。"
    },
    {
      "indent": 0,
      "text": "7.4. Impact of MPLS-Based Forwarding on the VLAN-Aware Service Procedures",
      "ja": "7.4.  VLAN認識サービスの手続き上のMPLSベースの転送の影響"
    },
    {
      "indent": 3,
      "text": "Compared to the MAC-based forwarding model, the MPLS-based forwarding model has no impact in terms of the number of A-D routes when all the service interfaces are of the VLAN-aware bundle type. The differences for the use case described in this document are summarized in the following list:",
      "ja": "すべてのサービスインターフェイスはVLAN対応バンドルタイプのものである場合にMACベースの転送モデルと比較して、MPLSベースの転送モデルは-Dルートの数の点で影響を与えません。このドキュメントで説明するユースケースのための相違点は、以下のリストにまとめられています。"
    },
    {
      "indent": 3,
      "text": "o Flooding tree setup per EVI (4k routes per PE): There is no impact compared to the MAC-based model.",
      "ja": "EVIあたりOフラッディングツリーセットアップ（PE当たり4K経路）は：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per ESI (one route for ESI12 per PE): There is no impact compared to the MAC-based model.",
      "ja": "ESIあたりOイーサネット（登録商標）A-Dルート（PE当たりESI12ための1つのルート）：MACベースのモデルと比較して何ら影響がありません。"
    },
    {
      "indent": 3,
      "text": "o Ethernet A-D routes per EVI (1 route per ESI or 4k routes per PE/ ESI): PE1 and PE2 may send one route per ESI if no CE-VID translation is needed. However, 4k routes are normally sent for EVI300, one per <ESI, Ethernet Tag ID> tuple. This allows the egress PE to find out all the forwarding information in the MPLS LFIB and even support Ethernet Tag to CE-VID translation at the egress.",
      "ja": "EVIあたりイーサネットA-Dルート（ESIあたり1つの経路又はPE / ESI当たり4Kルート）○：CE-VID変換が必要とされない場合にPE1とPE2はESIごとに経路を送信することができます。しかし、4K経路は、通常、EVI300ため、タプル<ESI、イーサネットタグID>に1つずつ送信されます。これは、出力PEは、MPLS LFIB内のすべての転送情報を見つけるとさえ出口でのCE-VID翻訳にEthernetタグをサポートすることができます。"
    },
    {
      "indent": 3,
      "text": "o MAC Advertisement routes: Instead of allocating and advertising the same MPLS Label for all the new MACs locally learned on the same MAC-VRF, a different label must be advertised per CE next-hop or MAC so that no MAC FIB lookup is needed at the egress PE. In general, this means that a different label (at least per CE) must be advertised, although the PE can decide to implement a label per MAC if more granularity (hence, less scalability) is required in terms of forwarding states. It is up to the PE1 implementation to use a different label per individual MAC within the same ES. Note that the Ethernet Tag will be set to a non-zero value for the MAC Advertisement routes. The same MAC address can be announced with a different Ethernet Tag value. This will make the advertising PE install two different forwarding states in the MPLS LFIB.",
      "ja": "MAC広告ルートO：代わりにローカルに同じMAC-VRF、異なるラベルに学んだすべての新しいMacに同じMPLSラベルを割り当て、広告のないMAC FIB検索がで必要とされないようにCEネクストホップまたはMACごとに宣伝する必要があります出力PE。一般に、これは、PEは、より粒度が（したがって、より少ないスケーラビリティ）は転送状態の観点から必要とされる場合、MACあたりラベルを実装することを決定することができるが、異なるラベルが（少なくともCEあたり）、アドバタイズされなければならないことを意味します。これは、同じES内の個々のMACごとに異なるラベルを使用するためにPE1の実装に任されています。イーサネットタグはMAC広告経路のためにゼロ以外の値に設定されることに注意してください。同じMACアドレスが異なるイーサネットタグ値を発表したことができます。これは、広告PEは、MPLS LFIBに2種類の転送状態をインストールするようになります。"
    },
    {
      "indent": 3,
      "text": "o PE1, PE2, and PE3 will not add forwarding states to the MAC FIB upon learning new local CE MAC addresses on the data plane but will rather add forwarding states to the MPLS LFIB.",
      "ja": "O PE1、PE2、PE3とは、データプレーン上で新しいローカルCE MACアドレスを学習するとMAC FIBに転送状態を追加しませんではなく、MPLS LFIBにフォワーディングステートを追加します。"
    },
    {
      "indent": 0,
      "text": "8. Comparison between MAC-Based and MPLS-Based Egress Forwarding Models",
      "section_title": true,
      "ja": "MACベースおよびMPLSベースの出口転送モデル間の比較8."
    },
    {
      "indent": 3,
      "text": "Both forwarding models are possible in a network deployment, and each one has its own trade-offs.",
      "ja": "どちらの転送モデルは、ネットワークの展開に可能であり、それぞれが独自のトレードオフがあります。"
    },
    {
      "indent": 3,
      "text": "Both forwarding models can save A-D routes per EVI when VLAN-aware bundling services are deployed and no CE-VID translation is required. While this saves a significant amount of routes, customers normally require CE-VID translation; hence, we assume an A-D per EVI route per <ESI, Ethernet Tag> is needed.",
      "ja": "VLAN対応のバンドルサービスが展開されており、何のCE-VID翻訳が必要とされていない場合の両方の転送モデルはEVIあたり-Dのルートを保存することができます。これはルートのかなりの量を節約しながら、顧客は通常、CE-VID変換を必要とします。したがって、我々は<ESI、イーサネットタグ>が必要とされているあたりEVIルートごとのA-Dを想定しています。"
    },
    {
      "indent": 3,
      "text": "The MAC-based model saves a significant amount of MPLS Labels compared to the MPLS-based forwarding model. All the MACs and A-D routes for the same EVI can signal the same MPLS Label, saving labels from the local PE space. A MAC FIB lookup at the egress PE is required in order to do so.",
      "ja": "MACベースのモデルは、MPLSベースの転送モデルと比較してMPLSラベルのかなりの量を節約します。同じEVIのためのすべてのMACおよびA-Dの経路は、ローカルPE空間からラベルを保存し、同一のMPLSラベルに信号を送ることができます。出力PEのMAC FIBルックアップがそうするために必要とされます。"
    },
    {
      "indent": 3,
      "text": "The MPLS-based forwarding model can save forwarding states at the egress PEs if labels per next-hop CE (as opposed to per MAC) are implemented. No egress MAC lookup is required. Also, a different label per next-hop CE per MAC-VRF is consumed, as opposed to a single label per MAC-VRF.",
      "ja": "（MACあたりとは対照的に）次ホップCEごとにラベルが実装されている場合、MPLSベースの転送モデルは、出力のPEに転送状態を保存することができます。いいえ出力MACルックアップは必要ありません。 MAC-VRFごとに単一のラベルとは対照的に、また、MAC-VRFごとのネクストホップCEごとに異なるラベルが、消費されます。"
    },
    {
      "indent": 3,
      "text": "Table 2 summarizes the resource implementation details of both models.",
      "ja": "表2は、両方のモデルのリソースの実装の詳細をまとめたもの。"
    },
    {
      "indent": 3,
      "text": "+-----------------------------+-----------------+------------------+\n| Resources                   | MAC-Based Model | MPLS-Based Model |\n+-----------------------------+-----------------+------------------+\n| MPLS Labels Consumed        | 1 per MAC-VRF   | 1 per CE/EVI     |\n| Egress PE Forwarding States | 1 per MAC       | 1 per Next-Hop   |\n| Egress PE Lookups           | 2 (MPLS+MAC)    | 1 (MPLS)         |\n+-----------------------------+-----------------+------------------+",
      "raw": true
    },
    {
      "indent": 3,
      "text": "Table 2: Resource Comparison between MAC-Based and MPLS-Based Models",
      "ja": "表2：MACベースおよびMPLSベースのモデルの間でリソースの比較"
    },
    {
      "indent": 3,
      "text": "The egress forwarding model is an implementation local to the egress PE and is independent of the model supported on the rest of the PEs; i.e., in our use case, PE1, PE2, and PE3 could have either egress forwarding model without any dependencies.",
      "ja": "出口転送モデルは、出口PEに実装ローカルであり、PEの残りの部分上に支持されたモデルとは無関係です。すなわち、私たちのユースケースでは、PE1は、PE2、PE3とは、すべての依存関係のない出口転送モデルのいずれかを持つことができます。"
    },
    {
      "indent": 0,
      "text": "9. Traffic Flow Optimization",
      "section_title": true,
      "ja": "9.トラフィックフローの最適化"
    },
    {
      "indent": 3,
      "text": "In addition to the procedures described across Sections 3 through 8, EVPN [RFC7432] procedures allow for optimized traffic handling in order to minimize unnecessary flooding across the entire infrastructure. Optimization is provided through specific ARP termination and the ability to block unknown unicast flooding. Additionally, EVPN procedures allow for intelligent, close to the source, inter-subnet forwarding and solves the commonly known suboptimal routing problem. Besides the traffic efficiency, ingress-based inter-subnet forwarding also optimizes packet forwarding rules and implementation at the egress nodes as well. Details of these procedures are outlined in Sections 9.1 and 9.2.",
      "ja": "8を介してセクション3を横切って記載された手順に加えて、EVPN [RFC7432]の手順は、インフラストラクチャ全体を横切って不要なフラッディングを最小限に抑えるために最適化されたトラフィック処理を可能にします。最適化は、特定のARP終了および未知のユニキャストフラッディングをブロックする機能を介して提供されます。また、EVPN手順は、インテリジェント、ソースに近い、サブネット間の転送を可能にし、一般的に知られている準最適ルーティングの問題を解決します。トラフィック効率のほか、入口ベースのサブネット間の転送は、パケットの転送ルールと同様に、出口ノードにおける実装を最適化します。これらの手順の詳細は、セクション9.1および9.2に概説されています。"
    },
    {
      "indent": 0,
      "text": "9.1. Control-Plane Procedures",
      "section_title": true,
      "ja": "9.1. コントロールプレーン手順"
    },
    {
      "indent": 0,
      "text": "9.1.1. MAC Learning Options",
      "section_title": true,
      "ja": "9.1.1.  MAC学習オプション"
    },
    {
      "indent": 3,
      "text": "The fundamental premise of [RFC7432] is the notion of a different approach to MAC address learning compared to traditional IEEE 802.1 bridge learning methods; specifically, EVPN differentiates between data and control-plane-driven learning mechanisms.",
      "ja": "[RFC7432]の基本的な前提は、従来のIEEE 802.1ブリッジの学習方法に比べ学習MACアドレスへの異なるアプローチの概念です。具体的には、EVPNは、データおよびコントロールプレーン駆動型学習機構を区別する。"
    },
    {
      "indent": 3,
      "text": "Data-driven learning implies that there is no separate communication channel used to advertise and propagate MAC addresses. Rather, MAC addresses are learned through IEEE-defined bridge learning procedures as well as by snooping on DHCP and ARP requests. As different MAC addresses show up on different ports, the Layer 2 (L2) FIB is populated with the appropriate MAC addresses.",
      "ja": "データ駆動型学習は宣伝とMACアドレスを伝播するために使用される別個の通信チャネルが存在しないことを意味します。むしろ、MACアドレスは、IEEE定義のブリッジ学習の手続を経てだけでなく、DHCPおよびARP要求にスヌーピングによって学習されています。異なるMACアドレスが異なるポートに表示されるように、レイヤ2（L2）FIBは、適切なMACアドレスが取り込まれます。"
    },
    {
      "indent": 3,
      "text": "Control-plane-driven learning implies a communication channel that could be either a control-plane protocol or a management-plane mechanism. In the context of EVPN, two different learning procedures are defined: local and remote procedures.",
      "ja": "コントロールプレーン駆動型学習は、制御プレーンプロトコル又は管理プレーン機構のいずれかとすることができる通信チャネルを意味しています。 EVPNの文脈では、2つの異なる学習手順が定義されているローカルおよびリモート・プロシージャを。"
    },
    {
      "indent": 3,
      "text": "o Local learning defines the procedures used for learning the MAC addresses of network elements locally connected to a MAC-VRF. Local learning could be implemented through all three learning procedures: control plane, management plane, and data plane. However, the expectation is that for most of the use cases, local learning through the data plane should be sufficient.",
      "ja": "O局所学習は、ローカルMAC-VRFに接続されたネットワーク要素のMACアドレスを学習するために使用される手順を定義します。コントロールプレーン、管理プレーン、およびデータプレーン：現地学習は、3つのすべての学習の手続きを経て実施することができます。しかし、期待はユースケースのほとんどのために、データプレーン介してローカル学習が十分でなければならないということです。"
    },
    {
      "indent": 3,
      "text": "o Remote learning defines the procedures used for learning MAC addresses of network elements remotely connected to a MAC-VRF, i.e., far-end PEs. Remote learning procedures defined in [RFC7432] advocate using only control-plane learning, BGP specifically. Through the use of BGP EVPN NLRIs, the remote PE has the capability of advertising all the MAC addresses present in its local FIB.",
      "ja": "Oリモート学習リモートMAC-VRFに接続されたネットワーク要素、すなわち、遠端PEのMACアドレスを学習するために使用される手順を定義します。具体的にのみ制御プレーン学習、BGPを使用して、[RFC7432]提唱者で定義された遠隔学習手順。 BGP EVPNたNLRIを使用することにより、リモートPEは、そのローカルFIBに存在するすべてのMACアドレスを広告する能力を有します。"
    },
    {
      "indent": 0,
      "text": "9.1.2. Proxy ARP/ND",
      "section_title": true,
      "ja": "9.1.2. プロキシARP / ND"
    },
    {
      "indent": 3,
      "text": "In EVPN, MAC addresses are advertised via the MAC/IP Advertisement route, as discussed in [RFC7432]. Optionally, an IP address can be advertised along with the MAC address advertisement. However, there are certain rules put in place in terms of IP address usage: if the MAC/IP Route contains an IP address, this particular IP address correlates directly with the advertised MAC address. Such advertisement allows us to build a proxy ARP / Neighbor Discovery (ND) table populated with the IP<->MAC bindings received from all the remote nodes.",
      "ja": "[RFC7432]で議論するようEVPNでは、MACアドレスは、MAC / IP広告経路を介して通知されます。必要に応じて、IPアドレスは、MACアドレスの広告と一緒に宣伝することができます。ただし、IPアドレスの使用量の面内の所定の位置に入れ一定のルールがあります：MAC / IPルートは、IPアドレスが含まれている場合、この特定のIPアドレスがアドバタイズされたMACアドレスと直接相関します。 < - >すべてのリモート・ノードから受信したMACバインディングこのような広告は、私たちはIPで占めプロキシARP /近隣探索（ND）のテーブルを構築することができます。"
    },
    {
      "indent": 3,
      "text": "Furthermore, based on these bindings, a local MAC-VRF can now provide proxy ARP/ND functionality for all ARP requests and ND solicitations directed to the IP address pool learned through BGP. Therefore, the amount of unnecessary L2 flooding (ARP/ND requests/solicitations in this case) can be further reduced by the introduction of proxy ARP/ND functionality across all EVI MAC-VRFs.",
      "ja": "さらに、これらのバインディングに基づいて、ローカルMAC-VRFは現在、BGPを介して学習IPアドレスプールに向け、すべてのARP要求およびNDの勧誘のためのプロキシARP / NDの機能を提供することができます。したがって、不要なL2フラッディング（ARP / ND要求/この場合、勧誘）の量は、さらにすべてのEVI MAC-のVRFを横切るプロキシARP / NDの機能を導入することによって低減することができます。"
    },
    {
      "indent": 0,
      "text": "9.1.3. Unknown Unicast Flooding Suppression",
      "section_title": true,
      "ja": "9.1.3. 不明なユニキャストフラッディング抑制"
    },
    {
      "indent": 3,
      "text": "Given that all locally learned MAC addresses are advertised through BGP to all remote PEs, suppressing flooding of any unknown unicast traffic towards the remote PEs is a feasible network optimization.",
      "ja": "すべてローカルに学習されたMACアドレスがすべてのリモートPEにBGPを通じて宣伝されていることを考えると、リモートのPEに対する任意の未知のユニキャストトラフィックのフラッディングを抑制することが可能なネットワークの最適化です。"
    },
    {
      "indent": 3,
      "text": "The assumption in the use case is made that any network device that appears on a remote MAC-VRF will somehow signal its presence to the network. This signaling can be done through, for example, gratuitous",
      "ja": "ユースケースでの想定は、リモートMAC-VRFに表示されるすべてのネットワークデバイスが何らかの形でネットワークにその存在を通知しますと判断されます。このシグナリングは、例えば、を介して行うことができ、無償"
    },
    {
      "indent": 3,
      "text": "ARPs. Once the remote PE acknowledges the presence of the node in the MAC-VRF, it will do two things: install its MAC address in its local FIB and advertise this MAC address to all other BGP speakers via EVPN NLRI. Therefore, we can assume that any active MAC address is propagated and learned through the entire EVI. Given that MAC addresses become prepopulated -- once nodes are alive on the network -- there is no need to flood any unknown unicast towards the remote PEs. If the owner of a given destination MAC is active, the BGP route will be present in the local RIB and FIB, assuming that the BGP import policies are successfully applied; otherwise, the owner of such destination MAC is not present on the network.",
      "ja": "ARP。リモートPEは、MAC-VRF内のノードの存在を認識したら、それは2つのことを行います。そのローカルFIBにそのMACアドレスをインストールし、EVPN NLRIを経由して他のすべてのBGPスピーカーに、このMACアドレスをアドバタイズします。したがって、我々は、任意のアクティブなMACアドレスが全体EVIを介して伝播し、学習することを想定することができます。ノードはネットワーク上の生きてたら -   -  MACアドレスがあらかじめ入力になっていることを考えると、リモートのPEに向けてどんな未知のユニキャストをフラッディングする必要はありません。特定の宛先の所有者MACがアクティブである場合、BGPルートがBGPインポートポリシーが正常に適用されると仮定すると、ローカルRIBおよびFIB中に存在するであろう。そうでなければ、そのような宛先MACの所有者は、ネットワーク上に存在しません。"
    },
    {
      "indent": 3,
      "text": "It is worth noting that unknown unicast flooding must not be suppressed unless (at least) one of the following two statements is given: a) control- or management-plane learning is performed throughout the entire EVI for all the MACs or b) all the EVI-attached devices signal their presence when they come up (Gratuitous ARP (GARP) packets or similar).",
      "ja": "全て）A）コントロール - 又は管理プレーン学習が全てMac用全体EVIを通して行わまたはbれる：次の2つのステートメントのいずれかが与えられる（少なくとも）しない限り、未知のユニキャストフラッディングが抑制されてはならないことは注目に値します彼らが出てくるときEVI-接続されたデバイスは、（無償ARP（GARP）パケットまたは類似の）自分の存在を知らせます。"
    },
    {
      "indent": 0,
      "text": "9.1.4. Optimization of Inter-Subnet Forwarding",
      "section_title": true,
      "ja": "9.1.4. サブネット間転送の最適化"
    },
    {
      "indent": 3,
      "text": "In a scenario in which both L2 and L3 services are needed over the same physical topology, some interaction between EVPN and IP-VPN is required. A common way of stitching the two service planes is through the use of an Integrated Routing and Bridging (IRB) interface, which allows for traffic to be either routed or bridged depending on its destination MAC address. If the destination MAC address is the one from the IRB interface, traffic needs to be passed through a routing module and potentially be either routed to a remote PE or forwarded to a local subnet. If the destination MAC address is not the one from the IRB interface, the MAC-VRF follows standard bridging procedures.",
      "ja": "L2及びL3の両方のサービスが同一の物理トポロジ上に必要とされるシナリオでは、EVPNおよびIP-VPN間の何らかの相互作用が必要です。 2つのサービス・プレーンを縫合する一般的な方法は、トラフィックをルーティングまたはその宛先MACアドレスに応じて架橋することのいずれかを可能にする統合されたルーティングおよびブリッジング（IRB）インタフェースの使用によるものです。宛先MACアドレスがIRB界面からの1つである場合は、トラフィックがルーティングモジュールを通過すると、潜在的にいずれかのリモートPEにルーティングまたはローカルサブネットに転送する必要があります。宛先MACアドレスがIRBのインターフェースから1でない場合は、MAC-VRFは、標準的なブリッジングの手順に従います。"
    },
    {
      "indent": 3,
      "text": "A typical example of EVPN inter-subnet forwarding would be a scenario in which multiple IP subnets are part of a single or multiple EVIs, and they all belong to a single IP-VPN. In such topologies, it is desired that inter-subnet traffic can be efficiently routed without any tromboning effects in the network. Due to the overlapping physical and service topology in such scenarios, all inter-subnet connectivity will be locally routed through the IRB interface.",
      "ja": "EVPNサブネット間転送の典型的な例は、複数のIPサブネットが単一または複数のEVISの一部であり、それら全てが単一のIP-VPNに属するシナリオであろう。このようなトポロジーでは、サブネット間トラフィックを効率的にネットワーク内の任意のトロンボーン効果なしにルーティングすることができることが望ましいです。このようなシナリオで重複物理的およびサービストポロジに、すべてのサブネット間の接続は、ローカルIRBインタフェースを介してルーティングされます。"
    },
    {
      "indent": 3,
      "text": "In addition to optimizing the traffic patterns in the network, local inter-subnet forwarding also greatly optimizes the amount of processing needed to cross the subnets. Through EVPN MAC advertisements, the local PE learns the real destination MAC address associated with the remote IP address and the inter-subnet forwarding can happen locally. When the packet is received at the egress PE, it is directly mapped to an egress MAC-VRF and bypasses any egress IP-VPN processing.",
      "ja": "ネットワーク内のトラフィックパターンを最適化することに加えて、ローカルサブネット間の転送も大幅サブネットを横断するのに必要な処理量を最適化します。 EVPN MAC広告を介して、ローカルPEは、リモートIPアドレスとサブネット間の転送が局所的に発生する可能性に関連した実際の宛先MACアドレスを学習します。パケットが出口PEで受信されると、それが直接出口MAC-VRFにマッピングされ、任意の出口IP-VPNの処理をバイパスしています。"
    },
    {
      "indent": 3,
      "text": "Please refer to [EVPN-INTERSUBNET] for more information about the IP inter-subnet forwarding procedures in EVPN.",
      "ja": "EVPNでのIPサブネット間の転送手順の詳細については、[EVPN-INTERSUBNET]を参照してください。"
    },
    {
      "indent": 0,
      "text": "9.2. Packet Walk-Through Examples",
      "section_title": true,
      "ja": "9.2. パケット例ウォークスルー"
    },
    {
      "indent": 3,
      "text": "Assuming that the services are set up according to Figure 1 in Section 3, the following flow optimization processes will take place in terms of creating, receiving, and forwarding packets across the network.",
      "ja": "サービスが第3の図1に従って設定されていると仮定すると、次のフローの最適化プロセスは、作成受信し、ネットワークを介してパケットを転送するという点で行われます。"
    },
    {
      "indent": 0,
      "text": "9.2.1. Proxy ARP Example for CE2-to-CE3 Traffic",
      "section_title": true,
      "ja": "9.2.1.  CE2ツーCE3トラフィックのプロキシARPの例"
    },
    {
      "indent": 3,
      "text": "Using Figure 1 in Section 3, consider EVI400 residing on PE1, PE2, and PE3 connecting CE2 and CE3 networks. Also, consider that PE1 and PE2 are part of the all-active multihoming ES for CE2, and that PE2 is elected designated forwarder for EVI400. We assume that all the PEs implement the proxy ARP functionality in the MAC-VRF-400 context.",
      "ja": "第3に、図1を用いて、CE2及びCE3ネットワークを接続するPE1、PE2及びPE3上に存在EVI400を考えます。また、PE1とPE2はCE2のためのすべてのアクティブマルチホーミングESの一部であることを考えると、PE2が選出されていることをEVI400ためフォワーダを指定。我々は、すべてのPEがMAC-VRF-400コンテキストでプロキシARP機能を実装することを前提としています。"
    },
    {
      "indent": 3,
      "text": "In this scenario, PE3 will not only advertise the MAC addresses through the EVPN MAC Advertisement route but also IP addresses of individual hosts (i.e., /32 prefixes) behind CE3. Upon receiving the EVPN routes, PE1 and PE2 will install the MAC addresses in the MAC-VRF-400 FIB and, based on the associated received IP addresses, PE1 and PE2 can now build a proxy ARP table within the context of MAC-VRF-400.",
      "ja": "このシナリオでは、PE3は、MACはCE3後ろEVPN MAC広告経路だけでなく、個々のホストのIPアドレス（すなわち、/ 32プレフィックス）を介してアドレスアドバタイズしないであろう。 EVPNルートを受信すると、PE1及びPE2は、MAC-VRF-400 FIBにMACアドレスをインストールすると、関連する受信したIPアドレスに基づいて、PE1とPE2は現在MAC-VRF-のコンテキスト内のプロキシARPテーブルを構築することができ400。"
    },
    {
      "indent": 3,
      "text": "From the forwarding perspective, when a node behind CE2 sends a frame destined to a node behind CE3, it will first send an ARP request to, for example, PE2 (based on the result of the CE2 hashing). Assuming that PE2 has populated its proxy ARP table for all active nodes behind the CE3, and that the IP address in the ARP message matches the entry in the table, PE2 will respond to the ARP request with the actual MAC address on behalf of the node behind CE3.",
      "ja": "CE2後ろノードはCE3後ろノード宛のフレームを送信する転送の観点から、それが最初にARP要求を送信します、例えば、PE2は（CE2ハッシュの結果に基づいて）。 PE2はCE3の背後にあるすべてのアクティブノードのためのプロキシARPテーブルを埋めたと仮定すると、およびARPメッセージ内のIPアドレスがテーブル内のエントリと一致していることを、PE2は、ノードの代わりに実際のMACアドレスでARP要求に応答しますCE3の背後にあります。"
    },
    {
      "indent": 3,
      "text": "Once the nodes behind CE2 learn the actual MAC address of the nodes behind CE3, all the MAC-to-MAC communications between the two networks will be unicast.",
      "ja": "CE2の背後にあるノードがCE3の背後にあるノードの実際のMACアドレスを学習すると、2つのネットワーク間のすべてのMACとMAC通信は、ユニキャストとなります。"
    },
    {
      "indent": 0,
      "text": "9.2.2. Flood Suppression Example for CE1-to-CE3 Traffic",
      "section_title": true,
      "ja": "9.2.2.  CE1ツーCE3トラフィックの洪水抑制の例"
    },
    {
      "indent": 3,
      "text": "Using Figure 1 in Section 3, consider EVI500 residing on PE1 and PE3 connecting CE1 and CE3 networks. Consider that both PE1 and PE3 have disabled unknown unicast flooding for this specific EVI context. Once the network devices behind CE3 come online, they will learn their MAC addresses and create local FIB entries for these devices. Note that local FIB entries could also be created through either a control or management plane between PE and CE as well. Consequently, PE3 will automatically create EVPN Type 2 MAC Advertisement routes and advertise all locally learned MAC addresses. The routes will also include the corresponding MPLS Label.",
      "ja": "第3に、図1を用いて、PE1及びPE3がCE1及びCE3ネットワーク接続上に存在するEVI500を考えます。 PE1とPE3の両方が、この特定のEVIコンテキストに対して無効に未知のユニキャストフラッディングを持っていることを考えてみましょう。 CE3の背後にあるネットワークデバイスがオンラインになったら、彼らはMACアドレスを学習し、これらのデバイスのローカルFIBエントリを作成します。ローカルFIBエントリも同様にPEとCEの間の制御又は管理プレーンのいずれかを介して作成することができることに留意されたいです。その結果、PE3は自動的EVPNタイプ2 MAC広告ルートを作成し、すべてのローカルに学習されたMACアドレスをアドバタイズします。ルートはまた、対応するMPLSラベルが含まれます。"
    },
    {
      "indent": 3,
      "text": "Given that PE1 automatically learns and installs all MAC addresses behind CE3, its MAC-VRF FIB will already be prepopulated with the respective next-hops and label assignments associated with the MAC addresses behind CE3. As such, as soon as the traffic sent by CE1 to nodes behind CE3 is received into the context of EVI500, PE1 will push the MPLS Label(s) onto the original Ethernet frame and send the packet to the MPLS network. As usual, once PE3 receives this packet, and depending on the forwarding model, PE3 will either do a next-hop lookup in the EVI500 context or just forward the traffic directly to the CE3. In the case that PE1 MAC-VRF-500 does not have a MAC entry for a specific destination that CE1 is trying to reach, PE1 will drop the frame since unknown unicast flooding is disabled.",
      "ja": "PE1が自動的CE3の背後にあるすべてのMACアドレスを学習し、インストールすることを考えると、そのMAC-VRF FIBはすでにCE3の背後にあるMACアドレスに関連付けられたそれぞれのネクストホップおよびラベルの割り当てが事前に入力されます。このように、できるだけ早くCE3後ろノードにCE1によって送信されたトラフィックはEVI500のコンテキストに受信されるように、PE1は、元のイーサネットフレームにMPLSラベル（複数可）をプッシュし、MPLSネットワークにパケットを送ります。 PE3はこのパケットを受信し、転送モデルに応じて、一度いつものように、PE3はEVI500コンテキストでネクストホップのルックアップを行いますいずれか、または単にCE3に直接トラフィックを転送します。不明なユニキャストフラッディングが無効になっているので、PE1 MAC-VRF-500は、CE1が到達しようとしている特定の宛先のMACエントリを持っていないこと場合、PE1は、フレームをドロップします。"
    },
    {
      "indent": 3,
      "text": "Based on the assumption that all the MAC entries behind the CEs are prepopulated through gratuitous ARP and/or DHCP requests, if one specific MAC entry is not present in the MAC-VRF-500 FIB on PE1, the owner of that MAC is not alive on the network behind the CE3; hence, the traffic can be dropped at PE1 instead of flooding and consuming network bandwidth.",
      "ja": "ある特定のMACエントリはPE1上のMAC-VRF-500 FIBに存在しない場合のCEの背後にあるすべてのMACエントリは、無償ARPおよび/またはDHCP要求によって事前に設定されているという仮定に基づいて、そのMACの所有者が生きているではありませんCE3の背後にあるネットワーク上の。したがって、トラフィックが氾濫し、ネットワーク帯域幅を消費するのではなく、PE1でドロップすることができます。"
    },
    {
      "indent": 0,
      "text": "9.2.3. Optimization of Inter-subnet Forwarding Example for CE3-to-CE2 Traffic",
      "ja": "9.2.3.  CE3ツーCE2トラフィックのサブネット間の転送例の最適化"
    },
    {
      "indent": 3,
      "text": "Using Figure 1 in Section 3, consider that there is an IP-VPN 666 context residing on PE1, PE2, and PE3, which connects CE1, CE2, and CE3 into a single IP-VPN domain. Also consider that there are two EVIs present on the PEs, EVI600 and EVI60. Each IP subnet is associated with a different MAC-VRF context. Thus, there is a single subnet (subnet 600) between CE1 and CE3 that is established through EVI600. Similarly, there is another subnet (subnet 60) between CE2 and CE3 that is established through EVI60. Since both subnets are part of the same IP-VPN, there is a mapping of each EVI (or individual subnet) to a local IRB interface on the three PEs.",
      "ja": "第3に、図1を用いて、単一のIP-VPNドメインにCE1、CE2及びCE3を接続するPE1、PE2、PE3と、上に存在するIP-VPN 666のコンテキストが存在することを考えます。またのPE、EVI600とEVI60に存在する2 EVISがあることを考えます。各IPサブネットが異なるMAC-VRFコンテキストに関連付けられています。したがって、EVI600を介して確立されCE1とCE3との間の単一のサブネット（サブネット600）があります。同様に、EVI60を介して確立されCE2及びCE3との間の他のサブネット（サブネット60）があります。両方のサブネットが同一のIP-VPNの一部であるため、3個のPEのローカルIRBインターフェイスに各EVI（または個々のサブネット）のマッピングがあります。"
    },
    {
      "indent": 3,
      "text": "If a node behind CE2 wants to communicate with a node on the same subnet seating behind CE3, the communication flow will follow the standard EVPN procedures, i.e., FIB lookup within the PE1 (or PE2) after adding the corresponding EVPN label to the MPLS Label stack (downstream label allocation from PE3 for EVI60).",
      "ja": "CE2の背後にあるノードがCE3の背後にある同じサブネットの座席上のノードと通信したい場合は、通信フローは、MPLSラベルに対応するEVPNラベルを追加した後、すなわち、PE1（またはPE2）内のFIB検索を標準EVPN手順に従いますスタック（EVI60ためPE3から下流ラベル割り当て）。"
    },
    {
      "indent": 3,
      "text": "When it comes to crossing the subnet boundaries, the ingress PE implements local inter-subnet forwarding. For example, when a node behind CE2 (EVI60) sends a packet to a node behind CE1 (EVI600), the destination IP address will be in the subnet 600, but the destination MAC address will be the address of the source node's default gateway, which in this case will be an IRB interface on PE1 (connecting EVI60 to IP-VPN 666). Once PE1 sees the traffic destined to its own MAC address, it will route the packet to EVI600, i.e., it will change the source MAC address to the one of the IRB interface in EVI600 and change the destination MAC address to the address belonging to the node behind CE1, which is already populated in the MAC-VRF-600 FIB, either through data- or control-plane learning.",
      "ja": "それはサブネット境界を横切ることになると、イングレスPEはローカルサブネット間転送を実装しています。 CE2（EVI60）の背後にあるノードは、CE1（EVI600）の背後にあるノードにパケットを送信する場合、例えば、宛先IPアドレス、サブネット600になりますが、宛先MACアドレスは、ソースノードのデフォルトゲートウェイのアドレスになりますこの場合、これは（IP-VPN 666へEVI60を接続する）PE1にIRBインターフェイスであろう。 PE1は、自身のMACアドレス宛てのトラフィックを見ていると、それはルートEVI600へのパケットは、すなわち、それはEVI600にIRBのインターフェイスのいずれかに送信元MACアドレスを変更するに属するアドレスに送信先にMACアドレスを変更しますします既にいずれかのDATA-又はコントロールプレーンの学習により、MAC-VRF-600のFIBに移入されCE1、背後にあるノード。"
    },
    {
      "indent": 3,
      "text": "An important optimization to be noted is the local inter-subnet forwarding in lieu of IP-VPN routing. If the node from subnet 60 (behind CE2) is sending a packet to the remote end-node on subnet 600 (behind CE3), the mechanism in place still honors the local inter-subnet (inter-EVI) forwarding.",
      "ja": "注意すべき重要な最適化は、IP-VPNルーティングの代わりにローカルサブネット間の転送です。サブネット60（CE2後ろ）からノード（CE3後ろ）サブネット600上のリモートエンドノードにパケットを送信している場合は、代わりに、機構は、依然としてローカルサブネット間（インターEVI）の転送を表彰します。"
    },
    {
      "indent": 3,
      "text": "In our use case, therefore, when the node from subnet 60 behind CE2 sends traffic to the node on subnet 600 behind CE3, the destination MAC address is the PE1 MAC-VRF-60 IRB MAC address. However, once the traffic locally crosses EVIs to EVI600 (via the IRB interface on PE1), the source MAC address is changed to that of the IRB interface and the destination MAC address is changed to the one advertised by PE3 via EVPN and already installed in MAC-VRF-600. The rest of the forwarding through PE1 is using the MAC-VRF-600 forwarding context and label space.",
      "ja": "CE2の背後にあるサブネット60からノードがCE3の背後にあるサブネット600上のノードにトラフィックを送信するときに、私たちのユースケースでは、そのため、宛先MACアドレスはPE1 MAC-VRF-60 IRB MACアドレスです。トラフィックがローカル（PE1にIRBインターフェースを介して）EVI600にEVISを横切るしかし、一旦、送信元MACアドレスがIRBインターフェースと宛先MACアドレスに変更されEVPN介しPE3によってアドバタイズに変更し、既にインストールされていますMAC-VRF-600。 PE1による転送の残りの部分は、MAC-VRF-600フォワーディングコンテキストとラベルスペースを使用しています。"
    },
    {
      "indent": 3,
      "text": "Another very relevant optimization is due to the fact that traffic between PEs is forwarded through EVPN rather than through IP-VPN. In the example described above for traffic from EVI60 on CE2 to EVI600 on CE3, there is no need for IP-VPN processing on the egress PE3. Traffic is forwarded either to the EVI600 context in PE3 for further MAC lookup and next-hop processing or directly to the node behind CE3, depending on the egress forwarding model being used.",
      "ja": "別の非常に関連した最適化は、PE間のトラフィックがEVPNを通じてではなく、IP-VPNを介して転送されるという事実によるものです。 CE2にEVI60からCE3にEVI600へのトラフィックのための上述した例では、出力PE3上のIP-VPNの処理は不要です。トラフィックが使用されている出口転送モデルに応じて、さらにMACルックアップとネクストホップの処理のために直接CE3後ろノードにPE3にEVI600コンテキストのいずれかに転送されます。"
    },
    {
      "indent": 0,
      "text": "10. Security Considerations",
      "section_title": true,
      "ja": "10.セキュリティの考慮事項"
    },
    {
      "indent": 3,
      "text": "Please refer to the \"Security Considerations\" section in [RFC7432]. The standards produced by the SIDR Working Group address secure route origin authentication (e.g., RFCs 6480 through 6493) and route advertisement security (e.g., RFCs 8205 through 8211). They protect the integrity and authenticity of IP address advertisements and ASN/ IP prefix bindings. This document and [RFC7432] use BGP to convey other info (e.g., MAC addresses); thus, the protections offered by the SIDR WG RFCs are not applicable in this context.",
      "ja": "[RFC7432]の「セキュリティの考慮事項」を参照してください。 SIDRワーキンググループによって作成基準は、安全なルート発信元認証（例えば、RFCの6493を通じて6480）と経路広告セキュリティ（例えば、RFCの8211を通じて8205）に対処します。彼らは、IPアドレスの広告およびASN / IPプレフィックスバインディングの整合性と信頼性を保護します。このドキュメントと[RFC7432]は、他の情報（例えば、MACアドレス）を伝えるためにBGPを使用します。このように、SIDR WGのRFCで提供する保護は、このコンテキストでは適用されません。"
    },
    {
      "indent": 0,
      "text": "11. IANA Considerations",
      "section_title": true,
      "ja": "11. IANAの考慮事項"
    },
    {
      "indent": 3,
      "text": "This document has no IANA actions.",
      "ja": "このドキュメントには、IANAのアクションを持っていません。"
    },
    {
      "indent": 0,
      "text": "12. References",
      "section_title": true,
      "ja": "12.参考文献"
    },
    {
      "indent": 0,
      "text": "12.1. Normative References",
      "section_title": true,
      "ja": "12.1. 引用規格"
    },
    {
      "indent": 3,
      "text": "[RFC7209] Sajassi, A., Aggarwal, R., Uttaro, J., Bitar, N., Henderickx, W., and A. Isaac, \"Requirements for Ethernet VPN (EVPN)\", RFC 7209, DOI 10.17487/RFC7209, May 2014, <https://www.rfc-editor.org/info/rfc7209>.",
      "ja": "[RFC7209] Sajassi、A.、アガルワル、R.、Uttaro、J.、ビタール、N.、Henderickx、W.、およびA.アイザック、 \"イーサネットVPN（EVPN）のための要件\"、RFC 7209、DOI 10.17487 / RFC7209 、2014年5月、<https://www.rfc-editor.org/info/rfc7209>。"
    },
    {
      "indent": 3,
      "text": "[RFC7432] Sajassi, A., Ed., Aggarwal, R., Bitar, N., Isaac, A., Uttaro, J., Drake, J., and W. Henderickx, \"BGP MPLS-Based Ethernet VPN\", RFC 7432, DOI 10.17487/RFC7432, February 2015, <https://www.rfc-editor.org/info/rfc7432>.",
      "ja": "[RFC7432] Sajassi、A.編、アガルワル、R.、ビタール、N.、アイザック、A.、Uttaro、J.、ドレイク、J.、およびW. Henderickx、 \"BGP MPLSベースのイーサネットVPN\"、 RFC 7432、DOI 10.17487 / RFC7432、2015年2月、<https://www.rfc-editor.org/info/rfc7432>。"
    },
    {
      "indent": 0,
      "text": "12.2. Informative References",
      "section_title": true,
      "ja": "12.2. 参考文献"
    },
    {
      "indent": 3,
      "text": "[RFC4761] Kompella, K., Ed. and Y. Rekhter, Ed., \"Virtual Private LAN Service (VPLS) Using BGP for Auto-Discovery and Signaling\", RFC 4761, DOI 10.17487/RFC4761, January 2007, <https://www.rfc-editor.org/info/rfc4761>.",
      "ja": "[RFC4761] Kompella、K.、エド。そして、Y. Rekhter、エド。、 \"仮想プライベートLANサービス（VPLS）自動検出およびシグナリングのためにBGPを使用する\"、RFC 4761、DOI 10.17487 / RFC4761、2007年1月、<https://www.rfc-editor.org/情報/ rfc4761>。"
    },
    {
      "indent": 3,
      "text": "[RFC4762] Lasserre, M., Ed. and V. Kompella, Ed., \"Virtual Private LAN Service (VPLS) Using Label Distribution Protocol (LDP) Signaling\", RFC 4762, DOI 10.17487/RFC4762, January 2007, <https://www.rfc-editor.org/info/rfc4762>.",
      "ja": "[RFC4762] Lasserre、M.、エド。そして、V. Kompella、エド。、 \"仮想プライベートLANサービス（VPLS）ラベル配布プロトコル（LDP）シグナリングの使用\"、RFC 4762を、DOI 10.17487 / RFC4762、2007年1月、<https://www.rfc-editor.org/情報/ rfc4762>。"
    },
    {
      "indent": 3,
      "text": "[RFC6074] Rosen, E., Davie, B., Radoaca, V., and W. Luo, \"Provisioning, Auto-Discovery, and Signaling in Layer 2 Virtual Private Networks (L2VPNs)\", RFC 6074, DOI 10.17487/RFC6074, January 2011, <https://www.rfc-editor.org/info/rfc6074>.",
      "ja": "[RFC6074]ローゼン、E.、デイビー、B.、Radoaca、V.、およびW.羅、 \"プロビジョニング、自動検出、およびレイヤ2個の仮想プライベートネットワーク（のL2VPNの）シグナリング\"、RFC 6074、DOI 10.17487 / RFC6074 、2011年1月、<https://www.rfc-editor.org/info/rfc6074>。"
    },
    {
      "indent": 3,
      "text": "[EVPN-INTERSUBNET] Sajassi, A., Salam, S., Thoria, S., Drake, J., Rabadan, J., and L. Yong, \"Integrated Routing and Bridging in EVPN\", Work in Progress, draft-ietf-bess-evpn-inter-subnet-forwarding-03, February 2017.",
      "ja": "[EVPN-INTERSUBNET] Sajassi、A.、サラム、S.、トリア、S.、ドレイク、J.、Rabadan、J.、およびL.龍、 \"統合ルーティングとEVPNにブリッジ\"、進行中で働いて、draft- IETF-ベス・evpn-サブネット間フォワーディング-03、2017年2月。"
    },
    {
      "indent": 0,
      "text": "Acknowledgments",
      "ja": "謝辞"
    },
    {
      "indent": 3,
      "text": "The authors want to thank Giles Heron for his detailed review of the document. We also thank Stefan Plug and Eric Wunan for their comments.",
      "ja": "作者は、ドキュメントの彼の詳細なレビューのためのジャイルズ・ヘロンに感謝したいと思います。我々はまた、彼らのコメントのためのステファン・プラグ・アンド・エリックWunanに感謝します。"
    },
    {
      "indent": 0,
      "text": "Contributors",
      "ja": "協力者"
    },
    {
      "indent": 3,
      "text": "The following people contributed substantially to the content of this document and should be considered coauthors:",
      "ja": "次の人は、この文書の内容に大きく貢献し、共著者とみなされるべきです。"
    },
    {
      "indent": 3,
      "text": "Florin Balus Keyur Patel Aldrin Isaac Truman Boyes",
      "ja": "フローリンBalus Keyurパテルオルドリンアイザック・トルーマンボイズ"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Jorge Rabadan (editor) Nokia 777 E. Middlefield Road Mountain View, CA 94043 United States America",
      "ja": "ホルヘRabadan（エディタ）ノキア777 E.ミドルロード、マウンテンビュー、CA 94043アメリカ合衆国"
    },
    {
      "indent": 3,
      "text": "Email: jorge.rabadan@nokia.com",
      "ja": "メール：jorge.rabadan@nokia.com"
    },
    {
      "indent": 3,
      "text": "Senad Palislamovic Nokia",
      "ja": "Senad Palislamovicノキア"
    },
    {
      "indent": 3,
      "text": "Email: senad.palislamovic@nokia.com",
      "ja": "メール：senad.palislamovic@nokia.com"
    },
    {
      "indent": 3,
      "text": "Wim Henderickx Nokia Copernicuslaan 50 2018 Antwerp Belgium",
      "ja": "ヴィム・ヘンデリックノキアCopernicuslaan 50 2018アントワープベルギー"
    },
    {
      "indent": 3,
      "text": "Email: wim.henderickx@nokia.com",
      "ja": "メール：wim.henderickx@nokia.com"
    },
    {
      "indent": 3,
      "text": "Ali Sajassi Cisco",
      "ja": "アリSajassiシスコ"
    },
    {
      "indent": 3,
      "text": "Email: sajassi@cisco.com",
      "ja": "メール：sajassi@cisco.com"
    },
    {
      "indent": 3,
      "text": "James Uttaro AT&T",
      "ja": "ジェームズUttaro AT＆T"
    },
    {
      "indent": 3,
      "text": "Email: uttaro@att.com",
      "ja": "メール：uttaro@att.com"
    }
  ]
}