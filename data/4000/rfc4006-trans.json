{
  "title": {
    "text": "RFC 4006 - Diameter Credit-Control Application",
    "ja": "RFC 4006 - Diameterクレジット管理アプリケーション"
  },
  "number": 4006,
  "created_at": "2019-10-18 20:20:17.372490+09:00",
  "updated_by": "",
  "contents": [
    {
      "indent": 0,
      "text": "Network Working Group                                          H. Hakala\nRequest for Comments: 4006                                    L. Mattila\nCategory: Standards Track                                       Ericsson\n                                                           J-P. Koskinen\n                                                                M. Stura\n                                                             J. Loughney\n                                                                   Nokia\n                                                             August 2005",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 17,
      "text": "Diameter Credit-Control Application",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "Status of This Memo",
      "ja": "このメモのステータス"
    },
    {
      "indent": 3,
      "text": "This document specifies an Internet standards track protocol for the Internet community, and requests discussion and suggestions for improvements. Please refer to the current edition of the \"Internet Official Protocol Standards\" (STD 1) for the standardization state and status of this protocol. Distribution of this memo is unlimited.",
      "ja": "このドキュメントでは、インターネットコミュニティ向けのインターネット標準追跡プロトコルを指定し、改善のための議論と提案を求めています。 このプロトコルの標準化状態とステータスについては、「Internet Official Protocol Standards」（STD 1）の最新版を参照してください。 このメモの配布は無制限です。"
    },
    {
      "indent": 0,
      "text": "Copyright Notice",
      "ja": "著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (2005).",
      "ja": "著作権（C）インターネット協会（2005）。"
    },
    {
      "indent": 0,
      "text": "Abstract",
      "ja": "抽象"
    },
    {
      "indent": 3,
      "text": "This document specifies a Diameter application that can be used to implement real-time credit-control for a variety of end user services such as network access, Session Initiation Protocol (SIP) services, messaging services, and download services.",
      "ja": "このドキュメントでは、ネットワークアクセス、セッション開始プロトコル（SIP）サービス、メッセージングサービス、ダウンロードサービスなどのさまざまなエンドユーザーサービスのリアルタイムクレジット管理の実装に使用できるDiameterアプリケーションを指定します。"
    },
    {
      "indent": 0,
      "text": "Table of Contents",
      "ja": "目次"
    },
    {
      "indent": 3,
      "text": "1.  Introduction.................................................   4\n    1.1.   Requirements Language.................................   5\n    1.2.   Terminology...........................................   5\n    1.3.   Advertising Application Support.......................   7\n2.  Architecture Models..........................................   7\n3.  Credit-Control Messages......................................   9\n    3.1.   Credit-Control-Request (CCR) Command..................   9\n    3.2.   Credit-Control-Answer (CCA) Command...................  11\n4.  Credit-Control Application Overview..........................  11\n    4.1.   Service-Specific Rating Input and Interoperability....  13\n5.  Session Based Credit-Control.................................  15\n    5.1.   General Principles....................................  15\n    5.2.   First Interrogation...................................  21\n    5.3.   Intermediate Interrogation............................  27\n    5.4.   Final Interrogation...................................  29",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "    5.5.   Server-Initiated Credit Re-Authorization..............  30\n    5.6.   Graceful Service Termination..........................  32\n    5.7.   Failure Procedures....................................  38\n6.  One Time Event...............................................  41\n    6.1.   Service Price Enquiry.................................  42\n    6.2.   Balance Check.........................................  42\n    6.3.   Direct Debiting.......................................  43\n    6.4.   Refund................................................  44\n    6.5.   Failure Procedure.....................................  44\n7.  Credit-Control Application State Machine.....................  46\n8.  Credit-Control AVPs..........................................  55\n    8.1.   CC-Correlation-Id AVP.................................  58\n    8.2.   CC-Request-Number AVP.................................  58\n    8.3.   CC-Request-Type AVP...................................  58\n    8.4.   CC-Session-Failover AVP...............................  59\n    8.5.   CC-Sub-Session-Id AVP.................................  59\n    8.6.   Check-Balance-Result AVP..............................  60\n    8.7.   Cost-Information AVP..................................  60\n    8.8.   Unit-Value AVP........................................  61\n    8.9.   Exponent AVP..........................................  61\n    8.10.  Value-Digits AVP......................................  61\n    8.11.  Currency-Code AVP.....................................  62\n    8.12.  Cost-Unit AVP.........................................  62\n    8.13.  Credit-Control AVP....................................  62\n    8.14.  Credit-Control-Failure-Handling AVP...................  62\n    8.15.  Direct-Debiting-Failure-Handling AVP..................  63\n    8.16.  Multiple-Services-Credit-Control AVP..................  64\n    8.17.  Granted-Service-Unit AVP..............................  65\n    8.18.  Requested-Service-Unit AVP............................  66\n    8.19.  Used-Service-Unit AVP.................................  66\n    8.20.  Tariff-Time-Change AVP................................  67\n    8.21.  CC-Time AVP...........................................  67\n    8.22.  CC-Money AVP..........................................  67\n    8.23.  CC-Total-Octets AVP...................................  68\n    8.24.  CC-Input-Octets AVP...................................  68\n    8.25.  CC-Output-Octets AVP..................................  68\n    8.26.  CC-Service-Specific-Units AVP.........................  68\n    8.27.  Tariff-Change-Usage AVP...............................  68\n    8.28.  Service-Identifier AVP................................  69\n    8.29.  Rating-Group AVP......................................  69\n    8.30.  G-S-U-Pool-Reference AVP..............................  69\n    8.31.  G-S-U-Pool-Identifier AVP.............................  70\n    8.32.  CC-Unit-Type AVP......................................  70\n    8.33.  Validity-Time AVP.....................................  70\n    8.34.  Final-Unit-Indication AVP.............................  71\n    8.35.  Final-Unit-Action AVP.................................  72\n    8.36.  Restriction-Filter-Rule AVP...........................  72\n    8.37.  Redirect-Server AVP...................................  73",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "    8.38.  Redirect-Address-Type AVP.............................  73\n    8.39.  Redirect-Server-Address AVP...........................  74\n    8.40.  Multiple-Services-Indicator AVP.......................  74\n    8.41.  Requested-Action AVP..................................  74\n    8.42.  Service-Context-Id AVP................................  75\n    8.43.  Service-Parameter-Info AVP............................  76\n    8.44.  Service-Parameter-Type AVP............................  76\n    8.45.  Service-Parameter-Value AVP...........................  77\n    8.46.  Subscription-Id AVP...................................  77\n    8.47.  Subscription-Id-Type AVP..............................  77\n    8.48.  Subscription-Id-Data AVP..............................  78\n    8.49.  User-Equipment-Info AVP...............................  78\n    8.50.  User-Equipment-Info-Type AVP..........................  78\n    8.50.  User-Equipment-Info-Value AVP.........................  79\n9.  Result Code AVP Values.......................................  79\n    9.1.   Transient Failures....................................  79\n    9.2.   Permanent Failures....................................  80\n10. AVP Occurrence Table.........................................  80\n    10.1.  Credit-Control AVP Table..............................  81\n    10.2.  Re-Auth-Request/Answer AVP Table......................  82\n11. RADIUS/Diameter Credit-Control Interworking Model............  82\n12. IANA Considerations..........................................  85\n    12.1.  Application Identifier................................  86\n    12.2.  Command Codes.........................................  86\n    12.3.  AVP Codes.............................................  86\n    12.4.  Result-Code AVP Values................................  86\n    12.5.  CC-Request-Type AVP...................................  86\n    12.6.  CC-Session-Failover AVP...............................  86\n    12.7.  CC-Unit-Type AVP......................................  87\n    12.8.  Check-Balance-Result AVP..............................  87\n    12.9.  Credit-Control AVP....................................  87\n    12.10. Credit-Control-Failure-Handling AVP...................  87\n    12.11. Direct-Debiting-Failure-Handling AVP..................  87\n    12.12. Final-Unit-Action AVP.................................  87\n    12.13. Multiple-Services-Indicator AVP.......................  87\n    12.14. Redirect-Address-Type AVP.............................  88\n    12.15. Requested-Action AVP..................................  88\n    12.16. Subscription-Id-Type AVP..............................  88\n    12.17. Tariff-Change-Usage AVP...............................  88\n    12.18. User-Equipment-Info-Type AVP..........................  88\n13. Credit-Control Application Related Parameters................  88\n14. Security Considerations......................................  89\n    14.1.  Direct Connection with Redirects......................  90\n15. References...................................................  91\n    15.1.  Normative References..................................  91\n    15.2.  Informative References................................  92\n16. Acknowledgements.............................................  93\nAppendix A Credit-Control Sequences..............................  94",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "    A.1.   Flow I................................................  94\n    A.2.   Flow II...............................................  96\n    A.3.   Flow III..............................................  98\n    A.4.   Flow IV...............................................  99\n    A.5.   Flow V................................................ 100\n    A.6.   Flow VI............................................... 102\n    A.7.   Flow VII.............................................. 103\n    A.8.   Flow VIII............................................. 105\n    A.9.   Flow IX............................................... 107\nAuthors' Addresses............................................... 112\nFull Copyright Statement......................................... 114",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "1. Introduction",
      "section_title": true,
      "ja": "1.はじめに"
    },
    {
      "indent": 3,
      "text": "This document specifies a Diameter application that can be used to implement real-time credit-control for a variety of end user services such as network access, Session Initiation Protocol (SIP) services, messaging services, and download services. It provides a general solution to real-time cost and credit-control.",
      "ja": "このドキュメントでは、ネットワークアクセス、セッション開始プロトコル（SIP）サービス、メッセージングサービス、ダウンロードサービスなどのさまざまなエンドユーザーサービスのリアルタイムクレジット管理の実装に使用できるDiameterアプリケーションを指定します。 リアルタイムのコストと信用管理に対する一般的なソリューションを提供します。"
    },
    {
      "indent": 3,
      "text": "The prepaid model has been shown to be very successful, for instance, in GSM networks, where network operators offering prepaid services have experienced a substantial growth of their customer base and revenues. Prepaid services are now cropping up in many other wireless and wire line based networks.",
      "ja": "プリペイドモデルは、たとえばGSMネットワークで非常に成功していることが示されています。GSMネットワークでは、プリペイドサービスを提供するネットワークオペレーターが顧客ベースと収益の大幅な成長を経験しています。 現在、他の多くの無線および有線ベースのネットワークでプリペイドサービスが登場しています。"
    },
    {
      "indent": 3,
      "text": "In next generation wireless networks, additional functionality is required beyond that specified in the Diameter base protocol. For example, the 3GPP Charging and Billing requirements [3GPPCHARG] state that an application must be able to rate service information in real-time. In addition, it is necessary to check that the end user's account provides coverage for the requested service prior to initiation of that service. When an account is exhausted or expired, the user must be denied the ability to compile additional chargeable events.",
      "ja": "次世代のワイヤレスネットワークでは、Diameterベースプロトコルで指定されている機能を超える追加機能が必要です。 たとえば、3GPP課金と請求の要件[3GPPCHARG]は、アプリケーションがサービス情報をリアルタイムで評価できる必要があることを示しています。 また、要求されたサービスを開始する前に、エンドユーザーのアカウントが要求されたサービスのカバレッジを提供していることを確認する必要があります。 アカウントが使い果たされるか期限切れになると、ユーザーは追加の有料イベントをコンパイルする能力を拒否される必要があります。"
    },
    {
      "indent": 3,
      "text": "A mechanism has to be provided to allow the user to be informed of the charges to be levied for a requested service. In addition, there are services such as gaming and advertising that may credit as well as debit a user account.",
      "ja": "要求されたサービスに対して徴収される料金をユーザーに通知できるようにするメカニズムを提供する必要があります。 さらに、ゲームや広告などのサービスには、ユーザーアカウントの借方だけでなく借方記入もできるものがあります。"
    },
    {
      "indent": 3,
      "text": "The other Diameter applications provide service specific authorization, and they do not provide credit authorization for prepaid users. The credit authorization shall be generic and applicable to all the service environments required to support prepaid services.",
      "ja": "他のDiameterアプリケーションは、サービス固有の認可を提供しますが、プリペイドユーザーにはクレジット認可を提供しません。 クレジット認証は一般的なものであり、プリペイドサービスをサポートするために必要なすべてのサービス環境に適用されます。"
    },
    {
      "indent": 3,
      "text": "To fulfill these requirements, it is necessary to facilitate credit-control communication between the network element providing the service (e.g., Network Access Server, SIP Proxy, and Application Server) and a credit-control server.",
      "ja": "これらの要件を満たすには、サービスを提供するネットワーク要素（ネットワークアクセスサーバー、SIPプロキシ、アプリケーションサーバーなど）とクレジット管理サーバー間のクレジット管理通信を促進する必要があります。"
    },
    {
      "indent": 3,
      "text": "The scope of this specification is the credit authorization. Service specific authorization and authentication is out of the scope.",
      "ja": "この仕様の範囲はクレジット認証です。 サービス固有の承認と認証は範囲外です。"
    },
    {
      "indent": 0,
      "text": "1.1. Requirements Language",
      "section_title": true,
      "ja": "1.1。 要件言語"
    },
    {
      "indent": 3,
      "text": "In this document, the key words \"MAY\", \"MUST, \"MUST NOT\", \"OPTIONAL\", \"RECOMMENDED\", \"SHOULD\", and \"SHOULD NOT\", are to be interpreted as described in [KEYWORDS].",
      "ja": "このドキュメントでは、キーワード「MAY」、「MUST、「MUST NOT」、「OPTIONAL」、「RECOMMENDED」、「SHOULD」、および「SHOULD NOT」は、[KEYWORDS]で説明されているように解釈されます。"
    },
    {
      "indent": 0,
      "text": "1.2. Terminology",
      "section_title": true,
      "ja": "1.2。 用語"
    },
    {
      "indent": 3,
      "text": "AAA",
      "ja": "AAA"
    },
    {
      "indent": 3,
      "text": "Authentication, Authorization, and Accounting",
      "ja": "認証、承認、および会計"
    },
    {
      "indent": 3,
      "text": "AA answer",
      "ja": "AA回答"
    },
    {
      "indent": 3,
      "text": "AA answer generically refers to a service specific authorization and authentication answer. AA answer commands are defined in service specific authorization applications, e.g., [NASREQ] and [DIAMMIP].",
      "ja": "AA回答は、一般的にサービス固有の承認および認証の回答を指します。 AA応答コマンドは、サービス固有の承認アプリケーション（[NASREQ]や[DIAMMIP]など）で定義されています。"
    },
    {
      "indent": 3,
      "text": "AA request",
      "ja": "AAリクエスト"
    },
    {
      "indent": 3,
      "text": "AA request generically refers to a service specific authorization and authentication request. AA request commands are defined in service specific authorization applications e.g., [NASREQ] and [DIAMMIP].",
      "ja": "AA要求は、一般的にサービス固有の許可および認証要求を指します。 AA要求コマンドは、サービス固有の承認アプリケーション（[NASREQ]や[DIAMMIP]など）で定義されています。"
    },
    {
      "indent": 3,
      "text": "Credit-control",
      "ja": "信用管理"
    },
    {
      "indent": 3,
      "text": "Credit-control is a mechanism that directly interacts in real-time with an account and controls or monitors the charges related to the service usage. Credit-control is a process of checking whether credit is available, credit-reservation, deduction of credit from the end user account when service is completed and refunding of reserved credit that is not used.",
      "ja": "クレジット管理は、アカウントとリアルタイムで直接やり取りし、サービスの使用に関連する料金を管理または監視するメカニズムです。 与信管理は、与信が利用可能かどうか、与信予約、サービスの完了時にエンドユーザーアカウントからの控除、および使用されていない予約済みクレジットの返金を確認するプロセスです。"
    },
    {
      "indent": 3,
      "text": "Diameter Credit-control Server",
      "ja": "Diameterクレジット管理サーバー"
    },
    {
      "indent": 3,
      "text": "A Diameter credit-control server acts as a prepaid server, performing real-time rating and credit-control. It is located in the home domain and is accessed by service elements or Diameter AAA servers in real-time for purpose of price determination and credit-control before the service event is delivered to the end-user. It may also interact with business support systems.",
      "ja": "Diameterクレジット制御サーバーはプリペイドサーバーとして機能し、リアルタイムの評価とクレジット制御を実行します。 これはホームドメインに配置され、サービスイベントがエンドユーザーに配信される前に、価格決定とクレジット管理の目的で、サービス要素またはDiameter AAAサーバーによってリアルタイムでアクセスされます。 また、ビジネスサポートシステムと対話することもあります。"
    },
    {
      "indent": 3,
      "text": "Diameter Credit-control Client",
      "ja": "Diameterクレジットコントロールクライアント"
    },
    {
      "indent": 3,
      "text": "A Diameter credit-control client is an entity that interacts with a credit-control server. It monitors the usage of the granted quota according to instructions returned by credit-control server.",
      "ja": "Diameterクレジット制御クライアントは、クレジット制御サーバーと対話するエンティティです。 与信管理サーバーから返された指示に従って、割り当てられたクォータの使用状況を監視します。"
    },
    {
      "indent": 3,
      "text": "Interrogation",
      "ja": "尋問"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client uses interrogation to initiate a session based credit-control process. During the credit-control process, it is used to report the used quota and request a new one. An interrogation maps to a request/answer transaction.",
      "ja": "Diameterクレジット制御クライアントは、問い合わせを使用して、セッションベースのクレジット制御プロセスを開始します。 与信管理プロセス中に、使用済みクォータを報告し、新しいクォータを要求するために使用されます。 質問は、リクエスト/アンサートランザクションにマッピングされます。"
    },
    {
      "indent": 3,
      "text": "One-time event",
      "ja": "ワンタイムイベント"
    },
    {
      "indent": 3,
      "text": "Basically, a request/answer transaction of type event.",
      "ja": "基本的に、イベントタイプの要求/応答トランザクション。"
    },
    {
      "indent": 3,
      "text": "Rating",
      "ja": "格付け"
    },
    {
      "indent": 3,
      "text": "The act of determining the cost of the service event.",
      "ja": "サービスイベントのコストを決定する行為。"
    },
    {
      "indent": 3,
      "text": "Service",
      "ja": "サービス"
    },
    {
      "indent": 3,
      "text": "A type of task performed by a service element for an end user.",
      "ja": "エンドユーザーに対してサービス要素によって実行されるタスクのタイプ。"
    },
    {
      "indent": 3,
      "text": "Service Element",
      "ja": "サービス要素"
    },
    {
      "indent": 3,
      "text": "A network element that provides a service to the end users. The Service Element may include the Diameter credit-control client, or another entity (e.g., RADIUS AAA server) that can act as a Credit-control client on behalf of the Service Element. In the latter case, the interface between the Service Element and the Diameter credit-control client is outside the scope of this specification. Examples of the Service Elements include Network Access Server (NAS), SIP Proxy, and Application Servers such as messaging server, content server, and gaming server.",
      "ja": "エンドユーザーにサービスを提供するネットワーク要素。 サービス要素には、Diameterクレジット管理クライアント、またはサービス要素の代わりにクレジット管理クライアントとして機能できる別のエンティティ（RADIUS AAAサーバーなど）を含めることができます。 後者の場合、サービス要素とDiameterクレジット制御クライアント間のインターフェイスは、この仕様の範囲外です。 サービス要素の例には、ネットワークアクセスサーバー（NAS）、SIPプロキシ、およびメッセージングサーバー、コンテンツサーバー、ゲームサーバーなどのアプリケーションサーバーが含まれます。"
    },
    {
      "indent": 3,
      "text": "Service Event",
      "ja": "サービスイベント"
    },
    {
      "indent": 3,
      "text": "An event relating to a service provided to the end user.",
      "ja": "エンドユーザーに提供されるサービスに関連するイベント。"
    },
    {
      "indent": 3,
      "text": "Session based credit-control",
      "ja": "セッションベースの与信管理"
    },
    {
      "indent": 3,
      "text": "A credit-control process that makes use of several interrogations: the first, a possible intermediate, and the final. The first interrogation is used to reserve money from the user's account and to initiate the process. The intermediate interrogations may be needed to request new quota while the service is being rendered. The final interrogation is used to exit the process. The credit-control server is required to maintain session state for session-based credit-control.",
      "ja": "いくつかの尋問を利用する与信管理プロセス：最初、可能な中間、および最終。 最初の尋問は、ユーザーのアカウントからお金を予約し、プロセスを開始するために使用されます。 サービスのレンダリング中に新しいクォータを要求するには、中間の問い合わせが必要になる場合があります。 最後の質問は、プロセスを終了するために使用されます。 セッションベースのクレジット管理のセッション状態を維持するには、クレジット管理サーバーが必要です。"
    },
    {
      "indent": 0,
      "text": "1.3. Advertising Application Support",
      "section_title": true,
      "ja": "1.3。 広告アプリケーションのサポート"
    },
    {
      "indent": 3,
      "text": "Diameter nodes conforming to this specification MUST advertise support by including the value of 4 in the Auth-Application-Id of the Capabilities-Exchange-Request and Capabilities-Exchange-Answer command [DIAMBASE].",
      "ja": "この仕様に準拠するDiameterノードは、Capabilities-Exchange-RequestおよびCapabilities-Exchange-Answerコマンド[DIAMBASE]のAuth-Application-Idに4の値を含めることにより、サポートをアドバタイズする必要があります。"
    },
    {
      "indent": 0,
      "text": "2. Architecture Models",
      "section_title": true,
      "ja": "2.アーキテクチャモデル"
    },
    {
      "indent": 3,
      "text": "The current accounting models specified in the Radius Accounting [RFC2866] and Diameter base [DIAMBASE] are not sufficient for real-time credit-control, where credit-worthiness is to be determined prior to service initiation. Also, the existing Diameter authorization applications, [NASREQ] and [DIAMMIP], only provide service authorization, but do not provide credit authorization for prepaid users. In order to support real-time credit-control, a new type of server is needed in the AAA infrastructure: Diameter credit-control server. The Diameter credit-control server is the entity responsible for credit authorization for prepaid subscribers.",
      "ja": "Radius Accounting [RFC2866]およびDiameter base [DIAMBASE]で指定された現在のアカウンティングモデルは、サービス開始前に信用力を判断するリアルタイムの信用管理には不十分です。 また、既存のDiameter認証アプリケーション[NASREQ]および[DIAMMIP]は、サービス認証のみを提供しますが、プリペイドユーザーにはクレジット認証を提供しません。 リアルタイムのクレジット管理をサポートするには、AAAインフラストラクチャに新しいタイプのサーバー、Diameterクレジット管理サーバーが必要です。 Diameterクレジット制御サーバーは、プリペイドサブスクライバーのクレジット認証を担当するエンティティです。"
    },
    {
      "indent": 3,
      "text": "A service element may authenticate and authorize the end user with the AAA server by using AAA protocols; e.g., RADIUS or a Diameter base protocol with a possible Diameter application.",
      "ja": "サービス要素は、AAAプロトコルを使用して、AAAサーバーでエンドユーザーを認証および承認できます。 例：RADIUSまたはDiameterアプリケーションが可能なDiameterベースプロトコル。"
    },
    {
      "indent": 3,
      "text": "Accounting protocols such as RADIUS accounting and the Diameter base accounting protocol can be used to provide accounting data to the accounting server after service is initiated, and to provide possible interim reports until service completion. However, for real-time credit-control, these authorization and accounting models are not sufficient.",
      "ja": "RADIUSアカウンティングやDiameterベースアカウンティングプロトコルなどのアカウンティングプロトコルを使用して、サービスの開始後にアカウンティングサーバーにアカウンティングデータを提供し、サービスが完了するまでの中間レポートを提供できます。 ただし、リアルタイムの与信管理では、これらの承認および会計モデルでは不十分です。"
    },
    {
      "indent": 3,
      "text": "When real-time credit-control is required, the credit-control client contacts the credit-control server with information about a possible service event. The credit-control process is performed to determine potential charges and to verify whether the end user's account balance is sufficient to cover the cost of the service being rendered.",
      "ja": "リアルタイムのクレジット管理が必要な場合、クレジット管理クライアントは、可能なサービスイベントに関する情報をクレジット管理サーバーに送信します。 クレジット管理プロセスは、潜在的な料金を決定し、エンドユーザーのアカウント残高が提供されるサービスのコストをカバーするのに十分かどうかを確認するために実行されます。"
    },
    {
      "indent": 3,
      "text": "Figure 1 illustrates the typical credit-control architecture, which consists of a Service Element with an embedded Diameter credit-control client, a Diameter credit-control server, and an AAA server. A Business Support System is usually deployed; it includes at least the billing functionality. The credit-control server and AAA server in this architecture model are logical entities. The real configuration can combine them into a single host. The credit-control protocol is the Diameter base protocol with the Diameter credit-control application.",
      "ja": "図1は、Diameterクレジット管理クライアント、Diameterクレジット管理サーバー、およびAAAサーバーが組み込まれたサービス要素で構成される一般的なクレジット管理アーキテクチャを示しています。 通常、ビジネスサポートシステムが展開されます。 少なくとも請求機能が含まれています。 このアーキテクチャモデルのクレジット管理サーバーとAAAサーバーは論理エンティティです。 実際の構成では、これらを単一のホストに結合できます。 クレジット制御プロトコルは、Diameterクレジット制御アプリケーションを備えたDiameterベースプロトコルです。"
    },
    {
      "indent": 3,
      "text": "When an end user requests services such as SIP or messaging, the request is typically forwarded to a service element (e.g., SIP Proxy) in the user's home domain. In some cases it might be possible that the service element in the visited domain can offer services to the end user; however, a commercial agreement must exist between the visited domain and the home domain. Network access is an example of a service offered in the visited domain where the NAS, through an AAA infrastructure, authenticates and authorizes the user with the user's home network.",
      "ja": "エンドユーザーがSIPやメッセージングなどのサービスを要求すると、通常、要求はユーザーのホームドメインのサービス要素（SIPプロキシなど）に転送されます。 場合によっては、訪問先ドメインのサービス要素がエンドユーザーにサービスを提供できる可能性があります。 ただし、訪問先ドメインとホームドメインの間に商業契約が存在する必要があります。 ネットワークアクセスは、NASがAAAインフラストラクチャを介して、ユーザーのホームネットワークでユーザーを認証および承認する、訪問先ドメインで提供されるサービスの例です。"
    },
    {
      "indent": 3,
      "text": "                Service Element   AAA and CC\n+----------+      +---------+     Protocols+-----------+  +--------+\n|  End     |<---->|+-------+|<------------>|    AAA    |  |Business|\n|  User    |   +->|| CC    ||              |   Server  |->|Support |\n|          |   |  || Client||<-----+       |           |  |System  |\n+----------+   |  |+-------+|      |       +-----------+  |        |\n               |  +---------+      |             ^        +--------+\n+----------+   |                   | CC Protocol |             ^\n|  End     |<--+                   |       +-----v----+        |\n|  User    |                       +------>|Credit-   |        |\n+----------+                Credit-Control |Control   |--------+\n                            Protocol       |Server    |\n                                           +----------+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 14,
      "text": "Figure 1: Typical credit-control architecture",
      "ja": "図1：典型的な与信管理アーキテクチャ"
    },
    {
      "indent": 3,
      "text": "There can be multiple credit-control servers in the system for redundancy and load balancing. The system can also contain separate rating server(s), and accounts can be located in a centralized database. To ensure that the end user's account is not debited or credited multiple times for the same service event, only one place in the credit-control system should perform duplicate detection. System internal interfaces can exist to relay messages between servers and an account manager. However, the detailed architecture of the credit-control system and its interfaces are implementation specific and are out of scope of this specification.",
      "ja": "冗長性と負荷分散のために、システム内に複数のクレジット管理サーバーが存在する場合があります。 システムには個別の評価サーバーを含めることもでき、アカウントは集中型データベースに配置できます。 同じサービスイベントでエンドユーザーのアカウントが複数回引き落とされたり、クレジットされたりしないようにするには、クレジット管理システムの1か所のみで重複検出を実行する必要があります。 サーバーとアカウントマネージャー間でメッセージを中継するためのシステム内部インターフェイスが存在する場合があります。 ただし、クレジット管理システムとそのインターフェイスの詳細なアーキテクチャは実装固有であり、この仕様の範囲外です。"
    },
    {
      "indent": 3,
      "text": "Protocol transparent Diameter relays can exist between the credit-control client and credit-control server. Also, Diameter Redirect agents that refer credit-control clients to credit-control servers and allow them to communicate directly can exist. These agents transparently support the Diameter credit-control application. The different roles of Diameter Agents are defined in Diameter base [DIAMBASE], section 2.8.",
      "ja": "プロトコル制御のDiameterリレーは、クレジット管理クライアントとクレジット管理サーバーの間に存在できます。 また、与信管理クライアントを与信管理サーバーに照会し、直接通信できるようにするDiameter Redirectエージェントが存在する場合があります。 これらのエージェントは、Diameterクレジット管理アプリケーションを透過的にサポートします。 Diameterエージェントのさまざまな役割は、Diameterベース[DIAMBASE]、セクション2.8で定義されています。"
    },
    {
      "indent": 3,
      "text": "If Diameter credit-control proxies exist between the credit-control client and the credit-control server, they MUST advertise the Diameter credit-control application support.",
      "ja": "Diameterクレジット制御プロキシがクレジット制御クライアントとクレジット制御サーバーの間に存在する場合、Diameterクレジット制御アプリケーションサポートをアドバタイズする必要があります。"
    },
    {
      "indent": 0,
      "text": "3. Credit-Control Messages",
      "section_title": true,
      "ja": "3.クレジット管理メッセージ"
    },
    {
      "indent": 3,
      "text": "This section defines new Diameter message Command-Code values that MUST be supported by all Diameter implementations that conform to this specification. The Command Codes are as follows:",
      "ja": "このセクションでは、この仕様に準拠するすべてのDiameter実装でサポートする必要がある新しいDiameterメッセージコマンドコード値を定義します。 コマンドコードは次のとおりです。"
    },
    {
      "indent": 3,
      "text": "Command-Name                  Abbrev.    Code     Reference\n-----------------------------------------------------------\nCredit-Control-Request        CCR        272      3.1\nCredit-Control-Answer         CCA        272      3.2",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "Diameter Base [DIAMBASE] defines in the section 3.2 the Command Code ABNF specification. These formats are observed in Credit-Control messages.",
      "ja": "Diameter Base [DIAMBASE]は、セクション3.2でコマンドコードABNF仕様を定義します。 これらの形式は、Credit-Controlメッセージで観察されます。"
    },
    {
      "indent": 0,
      "text": "3.1. Credit-Control-Request (CCR) Command",
      "section_title": true,
      "ja": "3.1。 Credit-Control-Request（CCR）コマンド"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Request message (CCR) is indicated by the command-code field being set to 272 and the 'R' bit being set in the Command Flags field. It is used between the Diameter credit-control client and the credit-control server to request credit authorization for a given service.",
      "ja": "Credit-Control-Requestメッセージ（CCR）は、コマンドコードフィールドが272に設定され、「R」ビットがコマンドフラグフィールドに設定されていることで示されます。 Diameterクレジット制御クライアントとクレジット制御サーバーの間で使用され、特定のサービスのクレジット認証を要求します。"
    },
    {
      "indent": 3,
      "text": "The Auth-Application-Id MUST be set to the value 4, indicating the Diameter credit-control application.",
      "ja": "Auth-Application-Idは、Diameterクレジット制御アプリケーションを示す値4に設定する必要があります。"
    },
    {
      "indent": 3,
      "text": "Message Format",
      "ja": "メッセージフォーマット"
    },
    {
      "indent": 6,
      "text": "<Credit-Control-Request> ::= < Diameter Header: 272, REQ, PXY >\n                             < Session-Id >\n                             { Origin-Host }\n                             { Origin-Realm }\n                             { Destination-Realm }\n                             { Auth-Application-Id }\n                             { Service-Context-Id }\n                             { CC-Request-Type }\n                             { CC-Request-Number }\n                             [ Destination-Host ]\n                             [ User-Name ]\n                             [ CC-Sub-Session-Id ]\n                             [ Acct-Multi-Session-Id ]\n                             [ Origin-State-Id ]\n                             [ Event-Timestamp ]\n                            *[ Subscription-Id ]\n                             [ Service-Identifier ]\n                             [ Termination-Cause ]\n                             [ Requested-Service-Unit ]\n                             [ Requested-Action ]\n                            *[ Used-Service-Unit ]\n                             [ Multiple-Services-Indicator ]\n                            *[ Multiple-Services-Credit-Control ]\n                            *[ Service-Parameter-Info ]\n                             [ CC-Correlation-Id ]\n                             [ User-Equipment-Info ]\n                            *[ Proxy-Info ]\n                            *[ Route-Record ]\n                            *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "3.2. Credit-Control-Answer (CCA) Command",
      "section_title": true,
      "ja": "3.2。 Credit-Control-Answer（CCA）コマンド"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Answer message (CCA) is indicated by the command-code field being set to 272 and the 'R' bit being cleared in the Command Flags field. It is used between the credit-control server and the Diameter credit-control client to acknowledge a Credit-Control-Request command.",
      "ja": "Credit-Control-Answerメッセージ（CCA）は、コマンドコードフィールドが272に設定され、コマンドフラグフィールドの「R」ビットがクリアされることで示されます。 Credit-Control-Requestコマンドを確認するために、クレジット制御サーバーとDiameterクレジット制御クライアントの間で使用されます。"
    },
    {
      "indent": 3,
      "text": "Message Format",
      "ja": "メッセージフォーマット"
    },
    {
      "indent": 6,
      "text": "<Credit-Control-Answer> ::= < Diameter Header: 272, PXY >\n                            < Session-Id >\n                            { Result-Code }\n                            { Origin-Host }\n                            { Origin-Realm }\n                            { Auth-Application-Id }\n                            { CC-Request-Type }\n                            { CC-Request-Number }\n                            [ User-Name ]\n                            [ CC-Session-Failover ]\n                            [ CC-Sub-Session-Id ]\n                            [ Acct-Multi-Session-Id ]\n                            [ Origin-State-Id ]\n                            [ Event-Timestamp ]\n                            [ Granted-Service-Unit ]\n                           *[ Multiple-Services-Credit-Control ]\n                            [ Cost-Information]\n                            [ Final-Unit-Indication ]\n                            [ Check-Balance-Result ]\n                            [ Credit-Control-Failure-Handling ]\n                            [ Direct-Debiting-Failure-Handling ]\n                            [ Validity-Time]\n                           *[ Redirect-Host]\n                            [ Redirect-Host-Usage ]\n                            [ Redirect-Max-Cache-Time ]\n                           *[ Proxy-Info ]\n                           *[ Route-Record ]\n                           *[ Failed-AVP ]\n                           *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "4. Credit-Control Application Overview",
      "section_title": true,
      "ja": "4.クレジット管理アプリケーションの概要"
    },
    {
      "indent": 3,
      "text": "The credit authorization process takes place before and during service delivery to the end user and generally requires the user's authentication and authorization before any request is sent to the credit-control server. The credit-control application defined in this specification supports two different credit authorization models: credit authorization with money reservation and credit authorization with direct debiting. In both models, the credit-control client requests credit authorization from the credit-control server prior to allowing any service to be delivered to the end user.",
      "ja": "クレジット認証プロセスは、エンドユーザーへのサービス提供の前および最中に行われ、通常、要求がクレジット制御サーバーに送信される前にユーザーの認証と承認が必要です。 この仕様で定義されている与信管理アプリケーションは、2つの異なる与信承認モデルをサポートしています。すなわち、金銭予約による与信承認と、口座引き落としによる与信承認です。 どちらのモデルでも、クレジット管理クライアントは、エンドユーザーへのサービスの提供を許可する前に、クレジット管理サーバーにクレジット認証を要求します。"
    },
    {
      "indent": 3,
      "text": "In the first model, the credit-control server rates the request, reserves a suitable amount of money from the user's account, and returns the corresponding amount of credit resources. Note that credit resources may not imply actual monetary credit; credit resources may be granted to the credit control client in the form of units (e.g., data volume or time) to be metered.",
      "ja": "最初のモデルでは、クレジット管理サーバーがリクエストを評価し、ユーザーのアカウントから適切な金額を予約し、対応するクレジットリソースの量を返します。 クレジットリソースは実際の金銭的信用を意味しない場合があることに注意してください。 クレジットリソースは、測定対象の単位（データボリュームや時間など）の形でクレジットコントロールクライアントに付与される場合があります。"
    },
    {
      "indent": 3,
      "text": "Upon receipt of a successful credit authorization answer with a certain amount of credit resources, the credit-control client allows service delivery to the end user and starts monitoring the usage of the granted resources. When the credit resources granted to the user have been consumed or the service has been successfully delivered or terminated, the credit-control client reports back to the server the used amount. The credit-control server deducts the used amount from the end user's account; it may perform rating and make a new credit reservation if the service delivery is continuing. This process is accomplished with session based credit-control that includes the first interrogation, possible intermediate interrogations, and the final interrogation. For session based credit-control, both the credit control client and the credit-control server are required to maintain credit-control session state. Session based credit-control is described in more detail, with more variations, in section 5.",
      "ja": "一定量のクレジットリソースを使用してクレジット認証の回答が成功すると、クレジット制御クライアントはエンドユーザーへのサービス配信を許可し、許可されたリソースの使用状況の監視を開始します。ユーザーに付与されたクレジットリソースが消費されるか、サービスが正常に配信または終了されると、クレジット管理クライアントは使用量をサーバーに報告します。クレジット管理サーバーは、エンドユーザーのアカウントから使用量を差し引きます。サービス提供が継続している場合、格付けを実行し、新しいクレジット予約を行う場合があります。このプロセスは、最初の尋問、可能な中間尋問、および最終尋問を含むセッションベースのクレジット管理で達成されます。セッションベースのクレジット管理の場合、クレジット管理セッションの状態を維持するには、クレジット管理クライアントとクレジット管理サーバーの両方が必要です。セッションベースの与信管理については、セクション5でさらに詳細に説明します。"
    },
    {
      "indent": 3,
      "text": "In contrast, credit authorization with direct debiting is a single transaction process wherein the credit-control server directly deducts a suitable amount of money from the user's account as soon as the credit authorization request is received. Upon receipt of a successful credit authorization answer, the credit-control client allows service delivery to the end user. This process is accomplished with the one-time event. Session state is not maintained.",
      "ja": "対照的に、口座引き落としによるクレジット認証は、単一のトランザクションプロセスであり、クレジット認証リクエストが受信されるとすぐに、クレジット管理サーバーがユーザーのアカウントから適切な金額を直接差し引きます。 クレジット認証の回答が成功すると、クレジット管理クライアントはエンドユーザーへのサービス配信を許可します。 このプロセスは、1回限りのイベントで実行されます。 セッション状態は維持されません。"
    },
    {
      "indent": 3,
      "text": "In a multi-service environment, an end user can issue an additional service request (e.g., data service) during an ongoing service (e.g., voice call) toward the same account. Alternatively, during an active multimedia session, an additional media type is added to the session, causing a new simultaneous request toward same account. Consequently, this needs to be considered when credit resources are granted to the services.",
      "ja": "マルチサービス環境では、エンドユーザーは、同じアカウントに対して進行中のサービス（音声通話など）中に追加のサービス要求（データサービスなど）を発行できます。 または、アクティブなマルチメディアセッション中に、追加のメディアタイプがセッションに追加され、同じアカウントに対する新しい同時リクエストが発生します。 したがって、クレジットリソースがサービスに付与される場合、これを考慮する必要があります。"
    },
    {
      "indent": 3,
      "text": "The credit-control application also supports operations such as service price enquiry, user's balance check, and refund of credit on the user's account. These operations are accomplished with the one-time event. Session state is not maintained.",
      "ja": "与信管理アプリケーションは、サービス価格の照会、ユーザーの残高チェック、ユーザーのアカウントのクレジットの払い戻しなどの操作もサポートします。 これらの操作は、1回限りのイベントで実行されます。 セッション状態は維持されません。"
    },
    {
      "indent": 3,
      "text": "A flexible credit-control application specific failure handling is defined in which the home service provider can model the credit-control client behavior according to its own credit risk management policy.",
      "ja": "柔軟なクレジット管理アプリケーション固有の障害処理が定義されており、ホームサービスプロバイダーは、独自のクレジットリスク管理ポリシーに従って、クレジット管理クライアントの動作をモデル化できます。"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Failure-Handling AVP and the Direct-Debiting-Failure-Handling AVP are defined to determine what is done if the sending of credit-control messages to the credit-control server has been temporarily prevented. The usage of the Credit-Control-Failure-Handling AVP and the Direct-Debiting-Failure-Handling AVP allows flexibility, as failure handling for the credit-control session and one time event direct debiting may be different.",
      "ja": "Credit-Control-Failure-Handling AVPとDirect-Debiting-Failure-Handling AVPは、Credit-ControlサーバーへのCredit-Controlメッセージの送信が一時的に防止されている場合の処理を決定するために定義されています。 Credit-Control-Failure-Handling AVPとDirect-Debiting-Failure-Handling AVPを使用すると、クレジット制御セッションと1回限りのイベントの直接引き落としの障害処理が異なるため、柔軟性が得られます。"
    },
    {
      "indent": 0,
      "text": "4.1. Service-Specific Rating Input and Interoperability",
      "section_title": true,
      "ja": "4.1。 サービス固有の評価入力と相互運用性"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control application defines the framework for credit-control; it provides generic credit-control mechanisms supporting multiple service applications. The credit-control application, therefore, does not define AVPs that could be used as input in the rating process. Listing the possible services that could use this Diameter application is out of scope for this generic mechanism.",
      "ja": "Diameterクレジット管理アプリケーションは、クレジット管理のフレームワークを定義します。 複数のサービスアプリケーションをサポートする一般的なクレジット管理メカニズムを提供します。 したがって、与信管理アプリケーションは、格付けプロセスの入力として使用できるAVPを定義しません。 このDiameterアプリケーションを使用できるサービスのリストは、この汎用メカニズムの範囲外です。"
    },
    {
      "indent": 3,
      "text": "It is reasonable to expect that a service level agreement will exist between providers of the credit-control client and the credit-control server covering the charging, services offered, roaming agreements, agreed rating input (i.e., AVPs), and so on.",
      "ja": "課金、提供されるサービス、ローミング契約、合意されたレーティング入力（AVP）などをカバーする、信用管理クライアントと信用管理サーバーのプロバイダー間にサービスレベル契約が存在することを期待するのは合理的です。"
    },
    {
      "indent": 3,
      "text": "Therefore, it is assumed that a Diameter credit-control server will provide service only for Diameter credit-control clients that have agreed beforehand as to the content of credit-control messages. Naturally, it is possible that any arbitrary Diameter credit-control client can interchange credit-control messages with any Diameter credit-control server, but with a higher likelihood that unsupported services/AVPs could be present in the credit-control message, causing the server to reject the request with an appropriate result-code.",
      "ja": "したがって、Diameterクレジット制御サーバーは、クレジット制御メッセージの内容に関して事前に合意したDiameterクレジット制御クライアントにのみサービスを提供するものと想定されます。 当然、任意のDiameterクレジット管理クライアントが任意のDiameterクレジット管理サーバーとクレジット管理メッセージを交換できる可能性がありますが、サポートされていないサービス/ AVPがクレジット管理メッセージに存在する可能性が高く、サーバーを引き起こします 適切な結果コードでリクエストを拒否します。"
    },
    {
      "indent": 0,
      "text": "4.1.1. Specifying Rating Input AVPs",
      "section_title": true,
      "ja": "4.1.1。 評価入力AVPの指定"
    },
    {
      "indent": 3,
      "text": "There are two ways to provide rating input to the credit-control server: either by using AVPs or by including them in the Service-Parameter-Info AVP. The general principles for sending rating parameters are as follows:",
      "ja": "信用管理サーバーに格付けの入力を提供するには、AVPを使用するか、Service-Parameter-Info AVPに含めることの2つの方法があります。 評価パラメーターを送信するための一般原則は次のとおりです。"
    },
    {
      "indent": 3,
      "text": "1a. The service SHOULD re-use existing AVPs if it can use AVPs defined in existing Diameter applications (e.g., NASREQ for network access services). Re-use of existing AVPs is strongly recommended in [DIAMBASE].",
      "ja": "1a。 サービスは、既存のDiameterアプリケーションで定義されたAVPを使用できる場合、既存のAVPを再使用する必要があります（ネットワークアクセスサービスのNASREQなど）。 [DIAMBASE]では、既存のAVPの再利用を強くお勧めします。"
    },
    {
      "indent": 3,
      "text": "For AVPs of type Enumerated, the service may require a new value to be defined. Allocation of new AVP values is done as specified in [DIAMBASE], section 1.2.",
      "ja": "列挙型のAVPの場合、サービスは新しい値を定義する必要がある場合があります。 新しいAVP値の割り当ては、[DIAMBASE]、セクション1.2で指定されているとおりに行われます。"
    },
    {
      "indent": 3,
      "text": "1b. New AVPs can be defined if the existing AVPs do not provide sufficient rating information. In this case, the procedures defined in [DIAMBASE] for creating new AVPs MUST be followed.",
      "ja": "1b。 既存のAVPが十分な評価情報を提供しない場合、新しいAVPを定義できます。 この場合、新しいAVPを作成するために[DIAMBASE]で定義された手順に従わなければなりません。"
    },
    {
      "indent": 3,
      "text": "1c. For services specific only to one vendor's implementation, a Vendor-Specific AVP code for Private use can be used. Where a Vendor-Specific AVP is implemented by more than one vendor, allocation of global AVPs is encouraged instead; refer to [DIAMBASE].",
      "ja": "1c。 1つのベンダーの実装のみに固有のサービスの場合、プライベート使用のためのベンダー固有のAVPコードを使用できます。 ベンダー固有のAVPが複数のベンダーによって実装されている場合、代わりにグローバルAVPの割り当てが推奨されます。 [DIAMBASE]を参照してください。"
    },
    {
      "indent": 3,
      "text": "2. The Service-Parameter-Info AVP MAY be used as a container to pass legacy rating information in its original encoded form (e.g., ASN.1 BER). This method can be used to avoid unnecessary conversions from an existing data format to an AVP format. In this case, the rating input is embedded in the Service-Parameter-Info AVP as defined in section 8.43.",
      "ja": "2. Service-Parameter-Info AVPは、元のエンコードされた形式（ASN.1 BERなど）でレガシーレーティング情報を渡すためのコンテナとして使用できます（MAY）。 このメソッドは、既存のデータ形式からAVP形式への不要な変換を回避するために使用できます。 この場合、セクション8.43で定義されているように、評価入力はService-Parameter-Info AVPに埋め込まれます。"
    },
    {
      "indent": 3,
      "text": "New service applications SHOULD favor the use of explicitly defined AVPs as described in items 1a and 1b, to simplify interoperability.",
      "ja": "新しいサービスアプリケーションは、相互運用性を簡素化するために、項目1aおよび1bで説明されているように明示的に定義されたAVPの使用を支持すべきです。"
    },
    {
      "indent": 0,
      "text": "4.1.2. Service-Specific Documentation",
      "section_title": true,
      "ja": "4.1.2。 サービス固有のドキュメント"
    },
    {
      "indent": 3,
      "text": "The service specific rating input AVPs, the contents of the Service-Parameter-Info AVP or Service-Context-Id AVP (defined in section 8.42) are not within the scope of this document. To facilitate interoperability, it is RECOMMENDED that the rating input and the values of the Service-Context-Id be coordinated via an informational RFC or other permanent and readily available reference. The specification of another cooperative standardization body (e.g., 3GPP, OMA, and 3GPP2) SHOULD be used. However, private services may be deployed that are subject to agreements between providers of the credit-control server and client. In this case, vendor specific AVPs can be used.",
      "ja": "サービス固有の評価入力AVP、Service-Parameter-Info AVPまたはService-Context-Id AVP（セクション8.42で定義）の内容は、このドキュメントの範囲外です。 相互運用性を促進するには、情報入力RFCまたはその他の永続的で容易に利用可能な参照を介して、評価入力とService-Context-Idの値を調整することをお勧めします。 別の協力的な標準化団体（3GPP、OMA、3GPP2など）の仕様を使用する必要があります（SHOULD）。 ただし、信用管理サーバーとクライアントのプロバイダー間で合意が必要なプライベートサービスが展開される場合があります。 この場合、ベンダー固有のAVPを使用できます。"
    },
    {
      "indent": 3,
      "text": "This specification, together with the above service specific documents, governs the credit-control message. Service specific documents define which existing AVPs or new AVPs are used as input to the rating process (i.e., those that do not define new credit-control applications), and thus have to be included in the Credit-Control-Request command by a Diameter credit-control client supporting a given service as *[AVP]. Should Service-Parameter-Info be used, then the service specific document MUST specify the exact content of this grouped AVP.",
      "ja": "この仕様は、上記のサービス固有のドキュメントとともに、クレジット管理メッセージを管理します。 サービス固有のドキュメントは、格付けプロセスへの入力として使用される既存のAVPまたは新しいAVP（つまり、新しい与信管理アプリケーションを定義しないもの）を定義するため、DiameterによってCredit-Control-Requestコマンドに含める必要があります * [AVP]として特定のサービスをサポートするクレジット管理クライアント。 Service-Parameter-Infoを使用する場合、サービス固有のドキュメントは、このグループ化されたAVPの正確なコンテンツを指定する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Service-Context-Id AVP MUST be included at the command level of a Credit-Control Request to identify the service specific document that applies to the request. The specific service or rating group the request relates to is uniquely identified by the combination of Service-Context-Id and Service-Identifier or Rating-Group.",
      "ja": "Service-Context-Id AVPは、要求に適用されるサービス固有のドキュメントを識別するために、Credit-Control Requestのコマンドレベルで含める必要があります。 要求が関連する特定のサービスまたは評価グループは、Service-Context-IdとService-IdentifierまたはRating-Groupの組み合わせによって一意に識別されます。"
    },
    {
      "indent": 0,
      "text": "4.1.3. Handling of Unsupported/Incorrect Rating Input",
      "section_title": true,
      "ja": "4.1.3。 サポートされていない/不適切な評価入力の処理"
    },
    {
      "indent": 3,
      "text": "Diameter credit-control implementations are required to support the Mandatory rating AVPs defined in service specific documentation of the services they support, according to the 'M' bit rules in [DIAMBASE].",
      "ja": "[DIAMBASE]の「M」ビット規則に従って、サポートするサービスのサービス固有のドキュメントで定義された必須の評価AVPをサポートするには、Diameterクレジットコントロールの実装が必要です。"
    },
    {
      "indent": 3,
      "text": "If a rating input required for the rating process is incorrect in the Credit-control request, or if the credit-control server does not support the requested service context (identified by the Service-Context-Id AVP at command level), the Credit-control answer MUST contain the error code DIAMETER_RATING_FAILED. A CCA message with this error MUST contain one or more Failed-AVP AVPs containing the missing and/or unsupported AVPs that caused the failure. A Diameter credit-control client that receives the error code DIAMETER_RATING_FAILED in response to a request MUST NOT send similar requests in the future.",
      "ja": "評価プロセスに必要な評価入力がクレジット管理リクエストで正しくない場合、またはクレジット管理サーバーがリクエストされたサービスコンテキスト（コマンドレベルでService-Context-Id AVPによって識別される）をサポートしていない場合、 制御応答には、エラーコードDIAMETER_RATING_FAILEDを含める必要があります。 このエラーを含むCCAメッセージには、失敗の原因となった欠落またはサポートされていないAVPを含む1つ以上のFailed-AVP AVPを含める必要があります。 要求に対する応答でエラーコードDIAMETER_RATING_FAILEDを受信するDiameterクレジット制御クライアントは、将来同様の要求を送信してはなりません。"
    },
    {
      "indent": 0,
      "text": "4.1.4. RADIUS Vendor-Specific Rating Attributes",
      "section_title": true,
      "ja": "4.1.4。 RADIUSベンダー固有の評価属性"
    },
    {
      "indent": 3,
      "text": "When service specific documents include RADIUS vendor specific attributes that could be used as input in the rating process, the rules described in [NASREQ] for formatting the Diameter AVP MUST be followed.",
      "ja": "サービス固有のドキュメントに、評価プロセスでの入力として使用できるRADIUSベンダー固有の属性が含まれる場合、Diameter AVPのフォーマットについて[NASREQ]で説明されている規則に従う必要があります。"
    },
    {
      "indent": 3,
      "text": "For example, if the AVP code used is the vendor attribute type code, the Vendor-Specific flag MUST be set to 1 and the Vendor-ID MUST be set to the IANA Vendor identification value. The Diameter AVP data field contains only the attribute value of the RADIUS attribute.",
      "ja": "たとえば、使用されるAVPコードがベンダー属性タイプコードである場合、ベンダー固有フラグは1に設定されなければならず、ベンダーIDはIANAベンダー識別値に設定されなければなりません。 Diameter AVPデータフィールドには、RADIUS属性の属性値のみが含まれます。"
    },
    {
      "indent": 0,
      "text": "5. Session Based Credit-Control",
      "section_title": true,
      "ja": "5.セッションベースの信用管理"
    },
    {
      "indent": 0,
      "text": "5.1. General Principles",
      "section_title": true,
      "ja": "5.1。 一般原理"
    },
    {
      "indent": 3,
      "text": "For a session-based credit-control, several interrogations are needed: the first, intermediate (optional) and the final interrogations. This is illustrated in Figures 2 and 3.",
      "ja": "セッションベースの与信管理では、最初の質問、中間の質問（オプション）、最後の質問のいくつかの質問が必要です。 これを図2および3に示します。"
    },
    {
      "indent": 3,
      "text": "If the credit-control client performs credit-reservation before granting service to the end user, it MUST use several interrogations toward the credit-control server (i.e., session based credit- control). In this case, the credit-control server MUST maintain the credit-control session state.",
      "ja": "与信管理クライアントがエンドユーザーにサービスを許可する前に与信予約を実行する場合、与信管理サーバーに対していくつかの問い合わせを使用する必要があります（セッションベースの与信管理）。 この場合、クレジット管理サーバーはクレジット管理セッション状態を維持しなければなりません。"
    },
    {
      "indent": 3,
      "text": "Each credit-control session MUST have a globally unique Session-Id as defined in [DIAMBASE], which MUST NOT be changed during the lifetime of a credit-control session.",
      "ja": "各与信管理セッションは、[DIAMBASE]で定義されたグローバルに一意のSession-Idを持たなければならず、与信管理セッションの存続期間中に変更してはなりません。"
    },
    {
      "indent": 3,
      "text": "Certain applications require multiple credit-control sub-sessions. These applications would send messages with a constant Session-Id AVP, but with a different CC-Sub-Session-Id AVP. If several credit sub-sessions will be used, all sub-sessions MUST be closed separately before the main session is closed so that units per sub-session may be reported. The absence of this AVP implies that no sub-sessions are in use.",
      "ja": "特定のアプリケーションでは、複数のクレジット管理サブセッションが必要です。 これらのアプリケーションは、一定のSession-Id AVPでメッセージを送信しますが、CC-Sub-Session-Id AVPは異なります。 複数のクレジットサブセッションを使用する場合、サブセッションごとのユニットが報告されるように、メインセッションを閉じる前にすべてのサブセッションを個別に閉じる必要があります。 このAVPがないことは、サブセッションが使用されていないことを意味します。"
    },
    {
      "indent": 3,
      "text": "Note that the service element might send a service specific re-authorization message to the AAA server due to expiration of the authorization-lifetime during an ongoing credit-control session. However, the service specific re-authorization does not influence the credit authorization that is ongoing between the credit-control client and credit-control server, as credit authorization is controlled by the burning rate of the granted quota.",
      "ja": "進行中のクレジット制御セッション中の許可ライフタイムの期限切れが原因で、サービス要素がサービス固有の再許可メッセージをAAAサーバーに送信する場合があることに注意してください。 ただし、クレジット承認は付与されたクォータの書き込み速度によって制御されるため、サービス固有の再承認は、クレジット管理クライアントとクレジット管理サーバー間で進行中のクレジット承認に影響しません。"
    },
    {
      "indent": 3,
      "text": "If service specific re-authorization fails, the user will be disconnected, and the credit-control client MUST send a final interrogation to the credit-control server.",
      "ja": "サービス固有の再承認が失敗した場合、ユーザーは切断され、クレジット管理クライアントは最終的な質問をクレジット管理サーバーに送信する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control server may seek to control the validity time of the granted quota and/or the production of intermediate interrogations. Thus, it MAY include the Validity-Time AVP in the answer message to the credit-control client. Upon expiration of the Validity-Time, the credit-control client MUST generate a credit-control update request and report the used quota to the credit-control server. It is up to the credit-control server to determine the value of the Validity-Time to be used for consumption of the granted service units. If the Validity-Time is used, its value SHOULD be given as input to set the session supervision timer Tcc (the session supervision timer MAY be set to two times the value of the Validity-Time, as defined in section 13). Since credit-control update requests are also produced at the expiry of granted service units and/or for mid-session service events, the omission of Validity-Time does not mean that intermediate interrogation for the purpose of credit-control is not performed.",
      "ja": "Diameterクレジット制御サーバーは、付与された割り当ての有効期間および/または中間尋問の生成を制御しようとする場合があります。したがって、信用管理クライアントへの応答メッセージに有効期間AVPを含めることができます。有効期間の満了時に、クレジット管理クライアントはクレジット管理更新要求を生成し、使用されたクォータをクレジット管理サーバーに報告しなければなりません。許可されたサービスユニットの消費に使用される有効期間の値を決定するのは、信用管理サーバー次第です。 Validity-Timeが使用される場合、その値はセッション監視タイマーTccを設定するための入力として与えられるべきです（セクション13で定義されているように、セッション監視タイマーはValidity-Timeの値の2倍に設定される場合があります）。与信管理更新要求は、付与されたサービスユニットの有効期限および/またはセッション中のサービスイベントに対しても生成されるため、Validity-Timeの省略は、与信管理のための中間尋問が実行されないことを意味しません。"
    },
    {
      "indent": 0,
      "text": "5.1.1. Basic Tariff-Time Change Support",
      "section_title": true,
      "ja": "5.1.1。 基本的な関税変更サポート"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control server and client MAY optionally support a tariff change mechanism. The Diameter credit-control server may include a Tariff-Time-Change AVP in the answer message. Note that the granted units should be allocated based on the worst-case scenario in case of forthcoming tariff change, so that the overall reported used units would never exceed the credit reservation.",
      "ja": "Diameterクレジット制御サーバーとクライアントは、オプションで料金変更メカニズムをサポートする場合があります。 Diameterクレジット制御サーバーは、応答メッセージにTariff-Time-Change AVPを含めることができます。 報告される使用済みユニット全体がクレジット予約を超えないように、付与されるユニットは、間近の関税変更の場合に最悪のシナリオに基づいて割り当てられることに注意してください。"
    },
    {
      "indent": 3,
      "text": "When the Diameter credit-control client reports the used units and a tariff change has occurred during the reporting period, the Diameter credit-control client MUST separately itemize the units used before and after the tariff change. If the client is unable to distinguish whether units straddling the tariff change were used before or after the tariff change, the credit-control client MUST itemize those units in a third category.",
      "ja": "Diameterクレジット管理クライアントが使用済みユニットを報告し、レポート期間中に料金の変更が発生した場合、Diameterクレジット管理クライアントは、料金変更の前後に使用されるユニットを個別に項目化する必要があります。 クライアントが関税変更にまたがるユニットが関税変更の前または後に使用されたかどうかを区別できない場合、与信管理クライアントはそれらのユニットを第3のカテゴリーに分類しなければなりません。"
    },
    {
      "indent": 3,
      "text": "If a client does not support the tariff change mechanism and it receives a CCA message carrying the Tariff-Time-Change AVP, it MUST terminate the credit-control session, giving a reason of DIAMETER_BAD_ANSWER in the Termination-Cause AVP.",
      "ja": "クライアントがタリフ変更メカニズムをサポートせず、タリフ時間変更AVPを伝送するCCAメッセージを受信する場合、クレジット制御セッションを終了し、Termination-Cause AVPでDIAMETER_BAD_ANSWERの理由を提供する必要があります。"
    },
    {
      "indent": 3,
      "text": "For time based services, the quota is continuously consumed at the regular rate of 60 seconds per minute. At the time when credit resources are allocated, the server already knows how many units will be consumed before the tariff time change and how many units will be consumed afterward. Similarly, the server can determine the units consumed at the before rate and the units consumed at the rate afterward in the event that the end-user closes the session before the consumption of the allotted quota. There is no need for additional traffic between client and server in the case of tariff time changes for continuous time based service. Therefore, the tariff change mechanism is not used for such services. For time-based services in which the quota is NOT continuously consumed at a regular rate, the tariff change mechanism described for volume and event units MAY be used.",
      "ja": "時間ベースのサービスの場合、クォータは1分あたり60秒の通常のレートで継続的に消費されます。 クレジットリソースが割り当てられた時点で、サーバーは、関税時間が変更される前に消費されるユニット数と、その後消費されるユニット数を既に知っています。 同様に、エンドユーザーが割り当てられたクォータを消費する前にセッションを閉じた場合、サーバーは前のレートで消費されたユニットと、後のレートで消費されたユニットを決定できます。 継続的な時間ベースのサービスの関税時間の変更の場合、クライアントとサーバー間の追加のトラフィックは必要ありません。 したがって、このようなサービスには関税変更メカニズムは使用されません。 クォータが通常のレートで継続的に消費されない時間ベースのサービスでは、ボリュームおよびイベントユニットについて説明した料金変更メカニズムを使用できます。"
    },
    {
      "indent": 0,
      "text": "5.1.2. Credit-Control for Multiple Services within a (sub-)Session",
      "section_title": true,
      "ja": "5.1.2。 （サブ）セッション内の複数のサービスの与信管理"
    },
    {
      "indent": 3,
      "text": "When multiple services are used within the same user session and each service or group of services is subject to different cost, it is necessary to perform credit-control for each service independently. Making use of credit-control sub-sessions to achieve independent credit-control will result in increased signaling load and usage of resources in both the credit-control client and the credit-control server. For instance, during one network access session the end user may use several http-services subject to different access cost. The network access specific attributes such as the quality of service (QoS) are common to all the services carried within the access bearer, but the cost of the bearer may vary depending on its content.",
      "ja": "同じユーザーセッション内で複数のサービスが使用され、各サービスまたはサービスグループが異なるコストの対象となる場合、各サービスのクレジットコントロールを個別に実行する必要があります。 独立した与信管理を実現するために与信管理サブセッションを利用すると、与信管理クライアントと与信管理サーバーの両方でシグナリング負荷とリソース使用量が増加します。 たとえば、1つのネットワークアクセスセッション中に、エンドユーザーは異なるアクセスコストの対象となる複数のhttpサービスを使用できます。 サービス品質（QoS）などのネットワークアクセス固有の属性は、アクセスベアラー内で運ばれるすべてのサービスに共通ですが、ベアラーのコストはコンテンツによって異なります。"
    },
    {
      "indent": 3,
      "text": "To support these scenarios optimally, the credit-control application enables independent credit-control of multiple services in a single credit-control (sub-)session. This is achieved by including the optional Multiple-Services-Credit-Control AVP in Credit-Control-Request/Answer messages. It is possible to request and allocate resources as a credit pool shared between multiple services. The services can be grouped into rating groups in order to achieve even further aggregation of credit allocation. It is also possible to request and allocate quotas on a per service basis. Where quotas are allocated to a pool by means of the Multiple-Services-Credit-Control AVP, the quotas remain independent objects that can be re-authorized independently at any time. Quotas can also be given independent result codes, validity times, and Final-Unit-Indications.",
      "ja": "これらのシナリオを最適にサポートするために、クレジット管理アプリケーションは、単一のクレジット管理（サブ）セッションで複数のサービスの独立したクレジット管理を可能にします。 これは、Credit-Control-Request / AnswerメッセージにオプションのMultiple-Services-Credit-Control AVPを含めることで実現されます。 複数のサービス間で共有されるクレジットプールとしてリソースを要求および割り当てることができます。 信用配分をさらに集約するために、サービスを格付けグループにグループ化できます。 サービスごとにクォータを要求して割り当てることもできます。 Multiple-Services-Credit-Control AVPを使用してクォータがプールに割り当てられる場合、クォータはいつでも独立して再認証できる独立したオブジェクトのままです。 割り当てには、独立した結果コード、有効期間、および最終単位の指示を与えることもできます。"
    },
    {
      "indent": 3,
      "text": "A Rating-Group gathers a set of services, identified by a Service-Identifier, and subject to the same cost and rating type (e.g., $0.1/minute). It is assumed that the service element is provided with Rating-Groups, Service-Identifiers, and their associated parameters that define what has to be metered by means outside the scope of this specification. (Examples of parameters associated to Service-Identifiers are IP 5-tuple and HTTP URL.) Service-Identifiers enable authorization on a per-service based credit as well as itemized reporting of service usage. It is up to the credit-control server whether to authorize credit for one or more services or for the whole rating-group. However, the client SHOULD always report used units at the finest supported level of granularity. Where quota is allocated to a rating-group, all the services belonging to that group draw from the allotted quota. The following is a graphical representation of the relationship between service-identifiers, rating-groups, credit pools, and credit-control (sub-)session.",
      "ja": "評価グループは、サービス識別子によって識別され、同じコストと評価タイプ（例：$ 0.1 /分）の対象となる一連のサービスを収集します。サービス要素には、この仕様の範囲外の手段で計測する必要があるものを定義する、評価グループ、サービス識別子、およびそれらに関連するパラメーターが提供されると想定されています。 （Service-Identifiersに関連付けられているパラメーターの例は、IP 5タプルとHTTP URLです。）Service-Identifiersは、サービスごとのクレジットと、サービスの使用状況のレポートの承認を可能にします。 1つ以上のサービスまたは評価グループ全体のクレジットを承認するかどうかは、クレジット管理サーバー次第です。ただし、クライアントは、使用されているユニットをサポートされている最高レベルの粒度で常に報告する必要があります。割り当てが評価グループに割り当てられている場合、そのグループに属するすべてのサービスは割り当てられた割り当てから引き出されます。以下は、サービス識別子、格付けグループ、クレジットプール、およびクレジット管理（サブ）セッション間の関係のグラフィカルな表現です。"
    },
    {
      "indent": 3,
      "text": "                       DCC (Sub-)Session\n                               |\n      +------------+-----------+-------------+--------------- +\n      |            |           |             |                |\nService-Id a Service-Id b Service-Id c Service-Id d.....Service-Id z\n     \\        /                 \\         /                /\n      \\      /                   \\       /                /\n       \\    /                  Rating-Group 1.......Rating-Group n\n        \\  /                         |                    |\n       Quota       ---------------Quota                 Quota\n         |        /                                       |\n         |       /                                        |\n      Credit-Pool                                    Credit-Pool",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "If independent credit-control of multiple services is used, the validity-time and final-unit-indication SHOULD be present either in the Multiple-Services-Credit-Control AVP(s) or at command level as single AVPs. However, the Result-Code AVP MAY be present both on the command level and within the Multiple-Services-Credit-Control AVP. If the Result-Code on the command level indicates a value other than SUCCESS, then the Result-Code on command level takes precedence over any included in the Multiple-Services-Credit-Control AVP.",
      "ja": "複数のサービスの独立したクレジット管理が使用される場合、有効期間と最終ユニット表示は、複数のサービスクレジット制御AVPに、または単一のAVPとしてコマンドレベルで存在する必要があります。 ただし、結果コードAVPは、コマンドレベルとMultiple-Services-Credit-Control AVPの両方に存在する場合があります。 コマンドレベルの結果コードがSUCCESS以外の値を示す場合、コマンドレベルの結果コードは、Multiple-Services-Credit-Control AVPに含まれているものよりも優先されます。"
    },
    {
      "indent": 3,
      "text": "The credit-control client MUST indicate support for independent credit-control of multiple services within a (sub-)session by including the Multiple-Services-Indicator AVP in the first interrogation. A credit-control server not supporting this feature MUST treat the Multiple-Services-Indicator AVP and any received Multiple-Services-Credit-Control AVPs as invalid AVPs.",
      "ja": "信用管理クライアントは、最初の質問にMultiple-Services-Indicator AVPを含めることにより、（サブ）セッション内の複数のサービスの独立した信用管理のサポートを示さなければなりません。 この機能をサポートしないクレジット管理サーバーは、Multiple-Services-Indicator AVPおよび受信したMultiple-Services-Credit-Control AVPを無効なAVPとして処理する必要があります。"
    },
    {
      "indent": 3,
      "text": "If the client indicated support for independent credit-control of multiple services, a credit-control server that wishes to use the feature MUST return the granted units within the Multiple-Services-Credit-Control AVP associated to the corresponding service-identifier and/or rating-group.",
      "ja": "クライアントが複数のサービスの独立したクレジット管理のサポートを示した場合、機能を使用したいクレジット管理サーバーは、対応するサービス識別子および/またはに関連付けられたマルチサービスクレジット管理AVP内の許可されたユニットを返さなければなりません 評価グループ。"
    },
    {
      "indent": 3,
      "text": "To avoid a situation where several parallel (and typically also small) credit reservations must be made on the same account (i.e., credit fragmentation), and also to avoid unnecessary load on the credit-control server, it is possible to provide service units as a pool that applies to multiple services or rating groups. This is achieved by providing the service units in the form of a quota for a particular service or rating group in the Multiple-Services-Credit-Control AVP, and also by including a reference to a credit pool for that unit type.",
      "ja": "同じアカウントで複数の並列（および通常は小規模）のクレジット予約が必要になる状況（つまり、クレジットの断片化）を回避し、クレジット制御サーバーへの不必要な負荷を回避するために、 複数のサービスまたは評価グループに適用されるプール。 これは、Multiple-Services-Credit-Control AVPの特定のサービスまたはレーティンググループのクォータの形でサービスユニットを提供すること、およびそのユニットタイプのクレジットプールへの参照を含めることによって実現されます。"
    },
    {
      "indent": 3,
      "text": "The reference includes a multiplier derived from the rating parameter, which translates from service units of a specific type to the abstract service units in the pool. For instance, if the rating parameter for service 1 is $1/MB and the rating parameter for service 2 is $0.5/MB, the multipliers could be 10 and 5 for services 1 and 2, respectively.",
      "ja": "参照には、特定のタイプのサービスユニットからプール内の抽象サービスユニットに変換するレーティングパラメーターから派生した乗数が含まれます。 たとえば、サービス1の評価パラメーターが$ 1 / MBで、サービス2の評価パラメーターが$ 0.5 / MBの場合、サービス1および2の乗数はそれぞれ10および5になります。"
    },
    {
      "indent": 3,
      "text": "If S is the total service units within the pool, M1, M2, ..., Mn are the multipliers provided for services 1, 2, ..., n, and C1, C2, ..., Cn are the used resources within the session, then the pool credit is exhausted and re-authorization MUST be sought when:",
      "ja": "Sがプール内の合計サービスユニットの場合、M1、M2、...、Mnはサービス1、2、...、nに提供される乗数であり、C1、C2、...、Cnは使用されるリソースです。 セッション内では、プールのクレジットが使い果たされ、次の場合に再認証を要求する必要があります。"
    },
    {
      "indent": 9,
      "text": "C1*M1 + C2*M2 + ... + Cn*Mn >= S",
      "ja": "C1 * M1 + C2 * M2 + ... + Cn * Mn> = S"
    },
    {
      "indent": 3,
      "text": "The total credit in the pool, S, is calculated from the quotas, which are currently allocated to the pool as follows:",
      "ja": "プールの合計クレジットSは、現在次のようにプールに割り当てられているクォータから計算されます。"
    },
    {
      "indent": 9,
      "text": "S = Q1*M1 + Q2*M2 + ... + Qn*Mn",
      "ja": "S = Q1 * M1 + Q2 * M2 + ... + Qn * Mn"
    },
    {
      "indent": 3,
      "text": "If services or rating groups are added to or removed from the pool, then the total credit is adjusted appropriately. Note that when the total credit is adjusted because services or rating groups are removed from the pool, the value that need to be removed is the consumed one (i.e., Cx*Mx).",
      "ja": "サービスまたは評価グループがプールに追加またはプールから削除される場合、合計クレジットは適切に調整されます。 サービスまたは評価グループがプールから削除されたために合計クレジットが調整される場合、削除する必要がある値は消費された値（つまり、Cx * Mx）であることに注意してください。"
    },
    {
      "indent": 3,
      "text": "Re-authorizations for an individual service or rating group may be sought at any time; for example, if a 'non-pooled' quota is used up or the Validity-Time expires.",
      "ja": "個々のサービスまたは評価グループの再承認はいつでも求められる場合があります。 たとえば、「プールされていない」クォータが使い果たされた場合、または有効期限が切れた場合。"
    },
    {
      "indent": 3,
      "text": "Where multiple G-S-U-Pool-Reference AVPs (section 8.30) with the same G-S-U-Pool-Identifier are provided within a Multiple-Services-Credit-Control AVP (section 8.16) along with the Granted-Service-Unit AVP, then these MUST have different CC-Unit-Type values, and they all draw from the credit pool separately. For instance, if one multiplier for time (M1t) and one multiplier for volume (M1v) are given, then the used resources from the pool is the sum C1t*M1t + C1v*M1v, where C1t is the time unit and C1v is the volume unit.",
      "ja": "同じGSU-Pool-Identifierを持つ複数のGSU-Pool-Reference AVP（セクション8.30）が、Granted-Service-Unit AVPとともにMultiple-Services-Credit-Control AVP（セクション8.16）内で提供される場合、これらは 異なるCC-Unit-Type値であり、それらはすべてクレジットプールから個別に取得します。 たとえば、時間（M1t）に1つの乗数とボリューム（M1v）に1つの乗数が指定されている場合、プールから使用されるリソースはC1t * M1t + C1v * M1vの合計です。ここで、C1tは時間単位、C1vは ボリューム単位。"
    },
    {
      "indent": 3,
      "text": "Where service units are provided within a Multiple-Services-Credit-Control AVP without a corresponding G-S-U-Pool-Reference AVP, then these are handled independently from any credit pool and from any other services or rating groups within the session.",
      "ja": "対応するG-S-U-Pool-Reference AVPのないMultiple-Services-Credit-Control AVP内でサービスユニットが提供されている場合、これらはセッション内のクレジットプールや他のサービスまたはレーティンググループから独立して処理されます。"
    },
    {
      "indent": 3,
      "text": "The credit pool concept is an optimal tool to avoid the over-reservation effect of the basic single quota tariff time change mechanism (the mechanism described in section 5.1.1). Therefore, Diameter credit-control clients and servers implementing the independent credit-control of multiple services SHOULD leverage the credit pool concept when supporting the tariff time change. The Diameter credit-control server SHOULD include both the Tariff-Time-Change and Tariff-Change-Usage AVPs in two quota allocations in the answer message (i.e., two instances of the Multiple-Services-Credit-Control AVP). One of the granted units is allocated to be used before the potential tariff change, while the second granted units are for use after a tariff change. Both granted unit quotas MUST contain the same Service-Identifier and/or Rating-Group. This dual quota mechanism ensures that the overall reported used units would never exceed the credit reservation. The Diameter credit-control client reports both the used units before and after the tariff change in a single instance of the Multiple-Services-Credit-Control AVP.",
      "ja": "クレジットプールの概念は、基本的な単一割り当て関税時間変更メカニズム（セクション5.1.1で説明されているメカニズム）の予約過剰の影響を回避するための最適なツールです。したがって、複数のサービスの独立したクレジット管理を実装するDiameterクレジット管理クライアントとサーバーは、関税時間の変更をサポートする際にクレジットプールの概念を活用すべきである[SHOULD]。 Diameterクレジット制御サーバーは、応答メッセージの2つのクォータ割り当てにTariff-Time-ChangeおよびTariff-Change-Usage AVPの両方を含める必要があります（つまり、Multiple-Services-Credit-Control AVPの2つのインスタンス）。許可されたユニットの1つは、潜在的な関税変更前に使用されるように割り当てられ、2番目に許可されたユニットは、関税変更後に使用されます。両方の許可されたユニットクォータには、同じService-Identifierおよび/またはRating-Groupを含める必要があります。このデュアルクォータメカニズムにより、報告される使用済みユニット全体がクレジット予約を超えることはありません。 Diameterクレジット制御クライアントは、Multiple-Services-Credit-Control AVPの単一インスタンスでの関税変更前後の使用済みユニットの両方を報告します。"
    },
    {
      "indent": 3,
      "text": "The failure handling for credit-control sessions is defined in section 5.7 and reflected in the basic credit-control state machine in section 7. Credit-control clients and servers implementing the independent credit-control of multiple services in a (sub-)session functionality MUST ensure failure handling and general behavior fully consistent with the above mentioned sections, while maintaining the ability to handle parallel ongoing credit re-authorization within a (sub-)session. Therefore, it is RECOMMENDED that Diameter credit-control clients maintain a PendingU message queue and restart the Tx timer (section 13) every time a CCR message with the value UPDATE_REQUEST is sent while they are in PendingU state. When answers to all pending messages are received, the state machine moves to OPEN state, and Tx is stopped. Naturally, the action performed when a problem for the session is detected according to section 5.7 affects all the ongoing services (e.g., failover to a backup server if possible affect all the CCR messages with the value UPDATE_REQUEST in the PendingU queue).",
      "ja": "クレジットコントロールセッションの障害処理はセクション5.7で定義され、セクション7の基本的なクレジットコントロールステートマシンに反映されます。（サブ）セッション機能で複数のサービスの独立したクレジットコントロールを実装するクレジットコントロールクライアントおよびサーバー（サブ）セッション内で並行して進行中のクレジットの再承認を処理する能力を維持しながら、障害処理と上記のセクションと完全に一貫した一般的な動作を確保する必要があります。したがって、PendingU状態にある間に値がUPDATE_REQUESTのCCRメッセージが送信されるたびに、Diameterクレジット制御クライアントがPendingUメッセージキューを維持し、Txタイマー（セクション13）を再起動することが推奨されます。保留中のすべてのメッセージに対する応答が受信されると、ステートマシンはOPEN状態に移行し、Txは停止します。当然、セクション5.7に従ってセッションの問題が検出されたときに実行されるアクションは、進行中のすべてのサービスに影響します（たとえば、バックアップサーバーへのフェールオーバーは、可能であれば、PendingUキューの値UPDATE_REQUESTを持つすべてのCCRメッセージに影響します）。"
    },
    {
      "indent": 3,
      "text": "Since the client may send CCR messages with the value UPDATE_REQUEST while in PendingU (i.e., without waiting for an answer to ongoing credit re-authorization), the time space between these requests may be very short, and the server may not have received the previous request(s) yet. Therefore, in this situation the server may receive out of sequence requests and SHOULD NOT consider this an error condition. A proper answer is to be returned to each of those requests.",
      "ja": "クライアントはPendingUの間に値UPDATE_REQUESTでCCRメッセージを送信する可能性があるため（つまり、進行中のクレジットの再承認に対する応答を待たずに）、これらの要求間の時間間隔は非常に短く、サーバーは前の まだリクエストがあります。 したがって、この状況では、サーバーはシーケンス外の要求を受信する可能性があり、これをエラー状態と見なすべきではありません。 適切な答えは、それらの要求のそれぞれに返されることです。"
    },
    {
      "indent": 0,
      "text": "5.2. First Interrogation",
      "section_title": true,
      "ja": "5.2。 最初の尋問"
    },
    {
      "indent": 3,
      "text": "When session based credit-control is required (e.g., the authentication server indicated a prepaid user), the first interrogation MUST be sent before the Diameter credit-control client allows any service event to the end user. The CC-Request-Type is set to the value INITIAL_REQUEST in the request message.",
      "ja": "セッションベースのクレジット制御が必要な場合（たとえば、認証サーバーがプリペイドユーザーを示した場合）、Diameterクレジット制御クライアントがエンドユーザーへのサービスイベントを許可する前に、最初の問い合わせを送信する必要があります。 CC-Request-Typeは、要求メッセージで値INITIAL_REQUESTに設定されます。"
    },
    {
      "indent": 3,
      "text": "If the Diameter credit-control client knows the cost of the service event (e.g., a content server delivering ringing tones may know their cost) the monetary amount to be charged is included in the Requested-Service-Unit AVP. If the Diameter credit-control client does not know the cost of the service event, the Requested-Service-Unit AVP MAY contain the number of requested service events. Where the Multiple-Services-Credit-Control AVP is used, it MUST contain the Requested-Service-Unit AVP to indicate that the quota for the associated service/rating-group is requested. In the case of multiple services, the Service-Identifier AVP or the Rating-Group AVP within the Multiple-Services-Credit-Control AVP always indicates the service concerned. Additional service event information to be rated",
      "ja": "Diameterクレジット制御クライアントがサービスイベントのコストを知っている場合（たとえば、着信音を配信するコンテンツサーバーがそのコストを知っている場合）、請求される金額はRequested-Service-Unit AVPに含まれます。 Diameterクレジット制御クライアントがサービスイベントのコストを知らない場合、Requested-Service-Unit AVPにはリクエストされたサービスイベントの数が含まれる場合があります。 Multiple-Services-Credit-Control AVPが使用される場合、関連サービス/レーティンググループのクォータが要求されていることを示すために、Requested-Service-Unit AVPを含める必要があります。 複数のサービスの場合、Multiple-Services-Credit-Control AVP内のService-Identifier AVPまたはRating-Group AVPは、常に関連するサービスを示します。 評価される追加のサービスイベント情報"
    },
    {
      "indent": 3,
      "text": "MAY be sent as service specific AVPs or MAY be sent within the Service-Parameter-Info AVP at command level. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "サービス固有のAVPとして送信することも、コマンドレベルでService-Parameter-Info AVP内で送信することもできます。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The Event-Timestamp AVP SHOULD be included in the request and contains the time when the service event is requested in the service element. The Subscription-Id AVP SHOULD be included to identify the end user in the credit-control server. The credit-control client MAY include the User-Equipment-Info AVP so that the credit-control server has some indication of the type and capabilities of the end user access device. How the credit-control server uses this information is outside the scope of this document.",
      "ja": "Event-Timestamp AVPはリクエストに含める必要があり（SHOULD）、サービス要素でサービスイベントがリクエストされた時刻が含まれます。 Subscription-Id AVPは、クレジットコントロールサーバーのエンドユーザーを識別するために含める必要があります。 クレジット管理クライアントがUser-Equipment-Info AVPを含めて、クレジット管理サーバーがエンドユーザーアクセスデバイスの種類と機能を示すことができます（MAY）。 与信管理サーバーがこの情報を使用する方法は、このドキュメントの範囲外です。"
    },
    {
      "indent": 3,
      "text": "The credit-control server SHOULD rate the service event and make a credit-reservation from the end user's account that covers the cost of the service event. If the type of the Requested-Service-Unit AVP is money, no rating is needed, but the corresponding monetary amount is reserved from the end user's account.",
      "ja": "クレジット管理サーバーは、サービスイベントを評価し、サービスイベントの費用をカバーするエンドユーザーのアカウントからクレジット予約を行う必要があります。 Requested-Service-Unit AVPのタイプがお金の場合、評価は必要ありませんが、対応する金額はエンドユーザーのアカウントから予約されます。"
    },
    {
      "indent": 3,
      "text": "The credit-control server returns the Granted-Service-Unit AVP in the Answer message to the Diameter credit-control client. The Granted-Service-Unit AVP contains the amount of service units that the Diameter credit-control client can provide to the end user until a new Credit-Control-Request MUST be sent to the credit-control server. If several unit types are sent in the Answer message, the credit-control client MUST handle each unit type separately. The type of the Granted-Service-Unit AVP can be time, volume, service specific, or money, depending on the type of service event. The unit type(s) SHOULD NOT be changed within an ongoing credit-control session.",
      "ja": "信用管理サーバーは、Diameter信用管理クライアントへの応答メッセージでGranted-Service-Unit AVPを返します。 Granted-Service-Unit AVPには、新しいCredit-Control-Requestがクレジット制御サーバーに送信されるまで、Diameterクレジット制御クライアントがエンドユーザーに提供できるサービスユニットの量が含まれます。 複数のユニットタイプがアンサーメッセージで送信される場合、クレジット制御クライアントは各ユニットタイプを個別に処理する必要があります。 Granted-Service-Unit AVPのタイプは、サービスイベントのタイプに応じて、時間、ボリューム、サービス固有、またはお金になります。 ユニットタイプは、進行中の与信管理セッション内で変更しないでください。"
    },
    {
      "indent": 3,
      "text": "There MUST be a maximum of one instance of the same unit type in one Answer message. However, if multiple quotas are conveyed to the credit-control client in the Multiple-Services-Credit-Control AVPs, it is possible to carry two instances of the same unit type associated to a service-identifier/rating-group. This is typically the case when a tariff time change is expected and the credit-control server wants to make a distinction between the granted quota before and after tariff change.",
      "ja": "1つのアンサーメッセージには、同じユニットタイプの最大1つのインスタンスがなければなりません。 ただし、Multiple-Services-Credit-Control AVPで複数のクォータがクレジット制御クライアントに伝達される場合、サービス識別子/レーティンググループに関連付けられた同じユニットタイプの2つのインスタンスを運ぶことができます。 これは通常、関税時間の変更が予想され、与信管理サーバーが関税変更の前後で許可されたクォータを区別したい場合です。"
    },
    {
      "indent": 3,
      "text": "If the credit-control server determines that no further control is needed for the service, it MAY include the result code indicating that the credit-control is not applicable (e.g., if the service is free of charge). This result code at command level implies that the credit-control session is to be terminated.",
      "ja": "与信管理サーバーが、サービスにこれ以上の管理が必要ないと判断した場合、与信管理が適用できないことを示す結果コードを含めることができます（たとえば、サービスが無料の場合）。 コマンドレベルのこの結果コードは、クレジット管理セッションが終了することを意味します。"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Answer message MAY also include the Final-Unit-Indication AVP to indicate that the answer message contains the final units for the service. After the end user has consumed these units, the Diameter credit-control-client MUST behave as described in section 5.6.",
      "ja": "Credit-Control-Answerメッセージには、応答メッセージにサービスの最終ユニットが含まれていることを示すFinal-Unit-Indication AVPも含めることができます。 エンドユーザーがこれらのユニットを消費した後、Diameter credit-control-clientはセクション5.6で説明されているように動作する必要があります。"
    },
    {
      "indent": 3,
      "text": "This document defines two different approaches to perform the first interrogation to be used in different network architectures. The first approach uses credit-control messages after the user's authorization and authentication takes place. The second approach uses service specific authorization messages to perform the first interrogation during the user's authorization/authentication phase, and credit-control messages for the intermediate and final interrogations. If an implementation of the credit-control client supports both the methods, determining which method to use SHOULD be configurable.",
      "ja": "このドキュメントでは、異なるネットワークアーキテクチャで使用される最初の質問を実行する2つの異なるアプローチを定義します。 最初のアプローチは、ユーザーの承認と認証が行われた後、クレジット制御メッセージを使用します。 2番目のアプローチでは、サービス固有の認証メッセージを使用して、ユーザーの認証/認証フェーズで最初の問い合わせを実行し、中間および最終問い合わせのクレジット制御メッセージを実行します。 信用管理クライアントの実装が両方の方法をサポートしている場合、使用する方法を決定する必要があります（SHOULD）。"
    },
    {
      "indent": 3,
      "text": "In service environments such as the Network Access Server (NAS), it is desired to perform the first interrogation as part of the authorization/authentication process for the sake of protocol efficiency. Further credit authorizations after the first interrogation are performed with credit-control commands defined in this specification. Implementations of credit-control clients operating in the mentioned environments SHOULD support this method. If the credit-control server and AAA server are separate physical entities, the service element sends the request messages to the AAA server, which then issues an appropriate request or proxies the received request forward to the credit-control server.",
      "ja": "ネットワークアクセスサーバー（NAS）などのサービス環境では、プロトコルの効率化のために、承認/認証プロセスの一部として最初の問い合わせを実行することが望まれます。 この仕様で定義されているクレジット制御コマンドを使用して、最初の問い合わせ後の追加のクレジット認証が実行されます。 前述の環境で動作するクレジット管理クライアントの実装は、この方法をサポートする必要があります。 クレジット管理サーバーとAAAサーバーが別個の物理エンティティである場合、サービス要素はリクエストメッセージをAAAサーバーに送信し、AAAサーバーは適切なリクエストを発行するか、受信したリクエストをクレジット管理サーバーに転送します。"
    },
    {
      "indent": 3,
      "text": "In other service environments, such as the 3GPP network and some SIP scenarios, there is a substantial decoupling between registration/access to the network and the actual service request (i.e., the authentication/authorization is executed once at registration/access to the network and is not executed for every service event requested by the subscriber). In these environments, it is more appropriate to perform the first interrogation after the user has been authenticated and authorized. The first, the intermediate, and the final interrogations are executed with credit-control commands defined in this specification.",
      "ja": "3GPPネットワークや一部のSIPシナリオなどの他のサービス環境では、ネットワークへの登録/アクセスと実際のサービス要求との間に実質的な分離があります（つまり、ネットワークへの登録/アクセス時に認証/承認が1回実行され、 サブスクライバーによって要求されたすべてのサービスイベントに対して実行されるわけではありません）。 これらの環境では、ユーザーが認証および承認された後に最初の質問を実行する方が適切です。 最初、中間、および最終の問い合わせは、この仕様で定義されているクレジット制御コマンドを使用して実行されます。"
    },
    {
      "indent": 3,
      "text": "Other IETF standards or standards developed by other standardization bodies may define the most suitable method in their architectures.",
      "ja": "他のIETF標準または他の標準化団体によって開発された標準は、そのアーキテクチャで最も適切な方法を定義する場合があります。"
    },
    {
      "indent": 0,
      "text": "5.2.1. First Interrogation after Authorization and Authentication",
      "section_title": true,
      "ja": "5.2.1。 承認および認証後の最初の尋問"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client in the service element may get information from the authorization server as to whether credit-control is required, based on its knowledge of the end user. If credit-control is required the credit-control server needs to be contacted prior to initiating service delivery to the end user. The accounting protocol and the credit-control protocol can be used in parallel. The authorization server may also determine whether the parallel accounting stream is required.",
      "ja": "サービス要素のDiameterクレジット管理クライアントは、エンドユーザーの知識に基づいて、クレジット管理が必要かどうかに関する情報を認可サーバーから取得できます。 クレジット管理が必要な場合は、エンドユーザーへのサービス提供を開始する前に、クレジット管理サーバーに連絡する必要があります。 アカウンティングプロトコルとクレジット制御プロトコルを並行して使用できます。 許可サーバーは、並列アカウンティングストリームが必要かどうかも判断できます。"
    },
    {
      "indent": 3,
      "text": "The following diagram illustrates the case where both protocols are used in parallel and the service element sends credit-control messages directly to the credit-control server. More credit-control sequence examples are given in Annex A.",
      "ja": "次の図は、両方のプロトコルが同時に使用され、サービス要素がクレジット制御メッセージをクレジット制御サーバーに直接送信する場合を示しています。 より多くの与信管理シーケンスの例は、付録Aに記載されています。"
    },
    {
      "indent": 3,
      "text": "                                        Diameter\nEnd User        Service Element        AAA Server         CC Server\n                  (CC Client)\n   | Registration      | AA request/answer(accounting,cc or both)|\n   |<----------------->|<------------------>|                    |\n   |        :          |                    |                    |\n   |        :          |                    |                    |\n   | Service Request   |                    |                    |\n   |------------------>|                    |                    |\n   |                   | CCR(Initial,Credit-Control AVPs)        |\n   |                  +|---------------------------------------->|\n   |         CC stream||                    |  CCA(Granted-Units)|\n   |                  +|<----------------------------------------|\n   | Service Delivery  |                    |                    |\n   |<----------------->| ACR(start,Accounting AVPs)              |\n   |         :         |------------------->|+                   |\n   |         :         |                ACA || Accounting stream |\n   |                   |<-------------------|+                   |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |                   | CCR(Update,Used-Units)                  |\n   |                   |---------------------------------------->|\n   |                   |                    |  CCA(Granted-Units)|\n   |                   |<----------------------------------------|\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   | End of Service    |                    |                    |\n   |------------------>| CCR(Termination, Used-Units)            |\n   |                   |---------------------------------------->|\n   |                   |                    |               CCA  |\n   |                   |<----------------------------------------|\n   |                   | ACR(stop)          |                    |\n   |                   |------------------->|                    |\n   |                   |                ACA |                    |\n   |                   |<-------------------|                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Figure 2: Protocol example with first interrogation after user's authorization/authentication",
      "ja": "図2：ユーザーの承認/認証後の最初の問い合わせを伴うプロトコルの例"
    },
    {
      "indent": 0,
      "text": "5.2.2. Authorization Messages for First Interrogation",
      "section_title": true,
      "ja": "5.2.2。 最初の質問に対する承認メッセージ"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client in the service element MUST actively co-operate with the authorization/authentication client in the construction of the AA request by adding appropriate credit-control AVPs. The credit-control client MUST add the Credit-Control AVP to indicate credit-control capabilities and MAY add other relevant credit-control specific AVPs to the proper authorization/authentication command to perform the first interrogation toward the home Diameter AAA server. The Auth-Application-Id is set to the appropriate value, as defined in the relevant service specific authorization/authentication application document (e.g., [NASREQ], [DIAMMIP]). The home Diameter AAA server authenticates/authorizes the subscriber and determines whether credit-control is required.",
      "ja": "サービス要素のDiameterクレジット管理クライアントは、適切なクレジット管理AVPを追加することにより、AAリクエストの構築において認可/認証クライアントと積極的に協力しなければなりません。 クレジット制御クライアントは、クレジット制御機能を示すためにクレジット制御AVPを追加しなければならず（MUST）、他の関連するクレジット制御固有のAVPを適切な認証/認証コマンドに追加して、ホームDiameter AAAサーバーへの最初の問い合わせを行うことができます。 Auth-Application-Idは、関連するサービス固有の承認/認証アプリケーションドキュメント（[NASREQ]、[DIAMMIP]など）で定義されている適切な値に設定されます。 ホームDiameter AAAサーバーは、サブスクライバーを認証/承認し、クレジット管理が必要かどうかを判断します。"
    },
    {
      "indent": 3,
      "text": "If credit-control is not required for the subscriber, the home Diameter AAA server will respond as usual, with an appropriate AA answer message. If credit-control is required for the subscriber and the Credit-Control AVP with the value set to CREDIT_AUTHORIZATION was present in the authorization request, the home AAA server MUST contact the credit-control server to perform the first interrogation. If credit-control is required for the subscriber and the Credit-Control AVP was not present in the authorization request, the home AAA server MUST send an authorization reject answer message.",
      "ja": "サブスクライバにクレジット管理が必要ない場合、ホームDiameter AAAサーバーは適切なAA応答メッセージで通常どおり応答します。 加入者にクレジット管理が必要であり、CREDIT_AUTHORIZATIONに設定された値を持つクレジット管理AVPが承認要求に存在する場合、ホームAAAサーバーはクレジット管理サーバーに連絡して最初の問い合わせを実行する必要があります。 与信制御が加入者に必要であり、与信要求に与信制御AVPが存在しない場合、ホームAAAサーバーは認可拒否応答メッセージを送信する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Diameter AAA server supporting credit-control is required to send the Credit-Control-Request command (CCR) defined in this document to the credit-control server. The Diameter AAA server populates the CCR based on service specific AVPs used for input to the rating process, and possibly on credit-control AVPs received in the AA request. The credit-control server will reserve money from the user's account, will rate the request and will send a Credit-Control-Answer message to the home Diameter AAA server. The answer message includes the Granted-Service-Unit AVP(s) and MAY include other credit-control specific AVPs, as appropriate. Additionally, the credit-control server MAY set the Validity-Time and MAY include the Credit-Control-Failure-Handling AVP and the Direct-Debiting-Failure-Handling AVP to determine what to do if the sending of credit-control messages to the credit-control server has been temporarily prevented.",
      "ja": "このドキュメントで定義されているCredit-Control-Requestコマンド（CCR）をクレジット制御サーバーに送信するには、クレジット制御をサポートするDiameter AAAサーバーが必要です。 Diameter AAAサーバーは、レーティングプロセスへの入力に使用されるサービス固有のAVP、および場合によってはAA要求で受信したクレジット制御AVPに基づいて、CCRを読み込みます。 クレジット管理サーバーは、ユーザーのアカウントからお金を予約し、リクエストを評価し、Credit-Control-AnswerメッセージをホームDiameter AAAサーバーに送信します。 応答メッセージには、Granted-Service-Unit AVPが含まれ、必要に応じて他のクレジット管理固有のAVPが含まれる場合があります。 さらに、クレジット管理サーバーは有効期間を設定してもよく、クレジット管理失敗処理AVPと直接引き落とし失敗処理AVPを含めて、クレジット管理メッセージを 与信管理サーバーは一時的に防止されています。"
    },
    {
      "indent": 3,
      "text": "Upon receiving the Credit-Control-Answer message from the credit-control server, the home Diameter AAA server will populate the AA answer with the received credit-control AVPs and with the appropriate service attributes according to the authorization/authentication specific application (e.g., [NASREQ], [DIAMMIP]). It will then forward the packet to the credit-control client. If the home Diameter AAA server receives a credit-control reject message, it will simply generate an appropriate authorization reject message to the credit-control client, including the credit-control specific error code.",
      "ja": "クレジット制御サーバーからCredit-Control-Answerメッセージを受信すると、ホームDiameter AAAサーバーは、受信したクレジット制御AVPと、承認/認証固有のアプリケーション（たとえば、 [NASREQ]、[DIAMMIP]）。 次に、パケットをクレジット制御クライアントに転送します。 ホームDiameter AAAサーバーがクレジット制御拒否メッセージを受信した場合、クレジット制御固有のエラーコードを含む、適切な承認拒否メッセージをクレジット制御クライアントに生成するだけです。"
    },
    {
      "indent": 3,
      "text": "In this model, the credit-control client sends further credit-control messages to the credit-control server via the home Diameter AAA server. Upon receiving a successful authorization answer message with the Granted-Service-Unit AVP(s), the credit-control client will grant the service to the end user and will generate an intermediate credit-control request, as required by using credit-control commands. The CC-Request-Number of the first UPDATE_REQUEST MUST be set to 1 (for how to produce unique value for the CC-Request-Number AVP, see section 8.2).",
      "ja": "このモデルでは、クレジット管理クライアントは、ホームのDiameter AAAサーバーを介して、さらにクレジット管理メッセージをクレジット管理サーバーに送信します。 Granted-Service-Unit AVPで成功した承認応答メッセージを受信すると、クレジット管理クライアントはエンドユーザーにサービスを許可し、クレジット管理コマンドを使用して必要に応じて中間のクレジット管理リクエストを生成します 。 最初のUPDATE_REQUESTのCC-Request-Numberを1に設定する必要があります（CC-Request-Number AVPの一意の値を生成する方法については、セクション8.2を参照）。"
    },
    {
      "indent": 3,
      "text": "If service specific re-authorization is performed (i.e., authorization-lifetime expires), the credit-control client MUST add to the service specific re-authorization request the Credit-Control AVP with a value set to RE_AUTHORIZATION to indicate that the credit-control server MUST NOT be contacted. When session based credit-control is used for the subscriber, a constant credit-control message stream flows through the home Diameter AAA server. The home Diameter AAA server can make use of this credit-control message flow to deduce that the user's activity is ongoing; therefore, it is recommended to set the authorization-lifetime to a reasonably high value when credit-control is used for the subscriber.",
      "ja": "サービス固有の再認可が実行される場合（つまり、認可ライフタイムが期限切れになる場合）、クレジット制御クライアントは、サービス固有の再認可要求に、クレジット制御AVPをRE_AUTHORIZATIONに設定された値で追加して、クレジット制御を示す必要があります サーバーに連絡してはいけません。 セッションベースのクレジット制御が加入者に使用される場合、一定のクレジット制御メッセージストリームがホームDiameter AAAサーバーを流れます。 ホームDiameter AAAサーバーは、このクレジット制御メッセージフローを利用して、ユーザーのアクティビティが進行中であることを推測できます。 したがって、クレジット制御が加入者に使用される場合は、許可ライフタイムをかなり高い値に設定することをお勧めします。"
    },
    {
      "indent": 3,
      "text": "In this scenario, the home Diameter AAA server MUST advertise support for the credit-control application to its peers during the capability exchange process.",
      "ja": "このシナリオでは、ホームDiameter AAAサーバーは、能力交換プロセス中にクレジット制御アプリケーションのサポートをピアにアドバタイズする必要があります。"
    },
    {
      "indent": 3,
      "text": "The following diagram illustrates the use of authorization/authentication messages to perform the first interrogation. The parallel accounting stream is not shown in the figure.",
      "ja": "次の図は、最初の問い合わせを実行するための承認/認証メッセージの使用を示しています。 並列アカウンティングストリームは図に示されていません。"
    },
    {
      "indent": 3,
      "text": "                 Service Element         Diameter\nEnd User          (CC Client)           AAA Server          CC Server\n   | Service Request   | AA Request (CC AVPs)                    |\n   |------------------>|------------------->|                    |\n   |                   |                    | CCR(Initial, CC AVPs)\n   |                   |                    |------------------->|\n   |                   |                    |    CCA(Granted-Units)\n   |                   |                    |<-------------------|\n   |                   | AA Answer(Granted-Units)                |\n   | Service Delivery  |<-------------------|                    |\n   |<----------------->|                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |                   |                    |                    |\n   |                   | CCR(Update,Used-Units)                  |\n   |                   |------------------->| CCR(Update,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                    |  CCA(Granted-Units)|\n   |                   |  CCA(Granted-Units)|<-------------------|\n   |                   |<-------------------|                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   | End of Service    |                    |                    |\n   |------------------>| CCR(Termination,Used-Units)             |\n   |                   |------------------->| CCR(Term.,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                    |                CCA |\n   |                   |                CCA |<-------------------|\n   |                   |<-------------------|                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "     Figure 3: Protocol example with use of the\nauthorization messages for the first interrogation",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "5.3. Intermediate Interrogation",
      "section_title": true,
      "ja": "5.3。 中間尋問"
    },
    {
      "indent": 3,
      "text": "When all the granted service units for one unit type are spent by the end user or the Validity-Time is expired, the Diameter credit-control client MUST send a new Credit-Control-Request to the credit-control server. In the event that credit-control for multiple services is applied in one credit-control session (i.e., units associated to Service-Identifier(s) or Rating-Group are granted), a new Credit-Control-Request MUST be sent to the credit-control server when the credit reservation has been wholly consumed, or upon expiration of the Validity-Time. It is always up to the Diameter credit-control client to send a new request well in advance of the expiration of the previous request in order to avoid interruption in the service element. Even if the granted service units reserved by the credit-control server have not been spent upon expiration of the Validity-Time, the Diameter credit-control client MUST send a new Credit-Control-Request to the credit-control server.",
      "ja": "1つのユニットタイプに付与されたすべてのサービスユニットがエンドユーザーによって費やされるか、Validity-Timeが期限切れになると、Diameterクレジット管理クライアントは新しいクレジット管理要求をクレジット管理サーバーに送信する必要があります。 複数のサービスの与信管理が1つの与信管理セッションに適用される場合（つまり、Service-Identifier（s）またはRating-Groupに関連付けられたユニットが許可される場合）、新しいCredit-Control-Requestを クレジット予約が完全に消費されたとき、またはValidity-Timeの期限が切れたときのクレジット制御サーバー。 サービス要素の中断を避けるために、前のリクエストの有効期限が切れる前に新しいリクエストを送信するのは、常にDiameterクレジット制御クライアント次第です。 信用管理サーバーによって予約された許可されたサービスユニットがValidity-Timeの期限切れに費やされていない場合でも、Diameter信用管理クライアントは、信用管理サーバーに新しいCredit-Control-Requestを送信する必要があります。"
    },
    {
      "indent": 3,
      "text": "There can also be mid-session service events, which might affect the rating of the current service events. In this case, a spontaneous updating (a new Credit-Control-Request) SHOULD be sent including information related to the service event even if all the granted service units have not been spent or the Validity-Time has not expired.",
      "ja": "セッション中にサービスイベントが発生することもあります。これは、現在のサービスイベントの評価に影響する可能性があります。 この場合、付与されたすべてのサービスユニットが消費されていないか、Validity-Timeが期限切れになっていない場合でも、サービスイベントに関連する情報を含む自発的な更新（新しいCredit-Control-Request）を送信する必要があります。"
    },
    {
      "indent": 3,
      "text": "When the used units are reported to the credit-control server, the credit-control client will not have any units in its possession before new granted units are received from the credit-control server. When the new granted units are received, these units apply from the point where the measurement of the reported used units stopped. Where independent credit-control of multiple services is supported, this process may be executed for one or more services, a single rating-group, or a pool within the (sub)session.",
      "ja": "使用済みユニットがクレジット制御サーバーに報告されると、クレジット制御サーバーから新しい許可ユニットが受信されるまで、クレジット制御クライアントはユニットを所有しません。 新しい許可されたユニットが受信されると、これらのユニットは、報告された使用済みユニットの測定が停止したポイントから適用されます。 複数のサービスの独立した信用管理がサポートされている場合、このプロセスは、1つ以上のサービス、単一の格付けグループ、または（サブ）セッション内のプールに対して実行できます。"
    },
    {
      "indent": 3,
      "text": "The CC-Request-Type AVP is set to the value UPDATE_REQUEST in the intermediate request message. The Subscription-Id AVP SHOULD be included in the intermediate message to identify the end user in the credit-control server. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "CC-Request-Type AVPは、中間リクエストメッセージで値UPDATE_REQUESTに設定されます。 Subscription-Id AVPは、クレジット制御サーバーのエンドユーザーを識別するために中間メッセージに含める必要があります。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The Requested-Service-Unit AVP MAY contain the new amount of requested service units. Where the Multiple-Services-Credit-Control AVP is used, it MUST contain the Requested-Service-Unit AVP if a new quota is requested for the associated service/rating-group. The Used-Service-Unit AVP contains the amount of used service units measured from the point when the service became active or, if interim interrogations are used during the session, from the point when the previous measurement ended. The same unit types used in the previous message SHOULD be used. If several unit types were included in the previous answer message, the used service units for each unit type MUST be reported.",
      "ja": "Requested-Service-Unit AVPには、要求されたサービスユニットの新しい量を含めることができます。 Multiple-Services-Credit-Control AVPが使用される場合、関連するサービス/レーティンググループに新しいクォータが要求される場合、Requested-Service-Unit AVPを含める必要があります。 Used-Service-Unit AVPには、サービスがアクティブになった時点から、またはセッション中に暫定的な問い合わせが使用された場合、前回の測定が終了した時点から測定された使用済みサービスユニットの量が含まれます。 前のメッセージで使用したのと同じユニットタイプを使用する必要があります。 前の応答メッセージに複数のユニットタイプが含まれていた場合、各ユニットタイプの使用済みサービスユニットを報告する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Event-Timestamp AVP SHOULD be included in the request and contains the time of the event that triggered the sending of the new Credit-Control-Request.",
      "ja": "Event-Timestamp AVPはリクエストに含める必要があり（SHOULD）、新しいCredit-Control-Requestの送信をトリガーしたイベントの時間が含まれます。"
    },
    {
      "indent": 3,
      "text": "The credit-control server MUST deduct the used amount from the end user's account. It MAY rate the new request and make a new credit-reservation from the end user's account that covers the cost of the requested service event.",
      "ja": "クレジット管理サーバーは、エンドユーザーのアカウントから使用量を差し引く必要があります。 新しいリクエストを評価し、リクエストされたサービスイベントの費用をカバーするエンドユーザーのアカウントから新しいクレジット予約を行う場合があります。"
    },
    {
      "indent": 3,
      "text": "A Credit-Control-Answer message with the CC-Request-Type AVP set to the value UPDATE_REQUEST MAY include the Cost-Information AVP containing the accumulated cost estimation for the session, without taking any credit-reservation into account.",
      "ja": "CC-Request-Type AVPが値UPDATE_REQUESTに設定されたCredit-Control-Answerメッセージには、クレジット予約を考慮せずに、セッションの累積コスト推定を含むCost-Information AVPを含めることができます。"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Answer message MAY also include the Final-Unit-Indication AVP to indicate that the answer message contains the final units for the service. After the end user has consumed these units, the Diameter credit-control-client MUST behave as described in section 5.6.",
      "ja": "Credit-Control-Answerメッセージには、応答メッセージにサービスの最終ユニットが含まれていることを示すFinal-Unit-Indication AVPも含めることができます。 エンドユーザーがこれらのユニットを消費した後、Diameter credit-control-clientはセクション5.6で説明されているように動作する必要があります。"
    },
    {
      "indent": 3,
      "text": "There can be several intermediate interrogations within a session.",
      "ja": "セッション内でいくつかの中間尋問があります。"
    },
    {
      "indent": 0,
      "text": "5.4. Final Interrogation",
      "section_title": true,
      "ja": "5.4。 最終尋問"
    },
    {
      "indent": 3,
      "text": "When the end user terminates the service session, or when the graceful service termination described in section 5.6 takes place, the Diameter credit-control client MUST send a final Credit-Control-Request message to the credit-control server. The CC-Request-Type AVP is set to the value TERMINATION_REQUEST. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "エンドユーザーがサービスセッションを終了するとき、またはセクション5.6で説明したグレースフルサービス終了が行われるとき、Diameterクレジット制御クライアントは、クレジット制御サーバーに最終的なCredit-Control-Requestメッセージを送信する必要があります。 CC-Request-Type AVPは値TERMINATION_REQUESTに設定されます。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The Event-Timestamp AVP SHOULD be included in the request and contains the time when the session was terminated.",
      "ja": "Event-Timestamp AVPはリクエストに含める必要があり（SHOULD）、セッションが終了した時刻が含まれます。"
    },
    {
      "indent": 3,
      "text": "The Used-Service-Unit AVP contains the amount of used service units measured from the point when the service became active or, if interim interrogations are used during the session, from the point when the previous measurement ended. If several unit types were included in the previous answer message, the used service units for each unit type MUST be reported.",
      "ja": "Used-Service-Unit AVPには、サービスがアクティブになった時点から、またはセッション中に暫定的な問い合わせが使用された場合、前回の測定が終了した時点から測定された使用済みサービスユニットの量が含まれます。 前の応答メッセージに複数のユニットタイプが含まれていた場合、各ユニットタイプの使用済みサービスユニットを報告する必要があります。"
    },
    {
      "indent": 3,
      "text": "After final interrogation, the credit-control server MUST refund the reserved credit amount not used to the end user's account and deduct the used monetary amount from the end user's account.",
      "ja": "最終尋問の後、クレジット管理サーバーは、エンドユーザーのアカウントに使用されていない予約済みのクレジット金額を返金し、エンドユーザーのアカウントから使用済みの金額を差し引く必要があります。"
    },
    {
      "indent": 3,
      "text": "A Credit-Control-Answer message with the CC-Request-Type set to the value TERMINATION_REQUEST MAY include the Cost-Information AVP containing the estimated total cost for the session in question.",
      "ja": "CC-Request-Typeの値がTERMINATION_REQUESTに設定されたCredit-Control-Answerメッセージには、問題のセッションの推定合計コストを含むコスト情報AVPが含まれる場合があります。"
    },
    {
      "indent": 3,
      "text": "If the user logs off during an ongoing credit-control session, or if some other reason causes the user to become logged off (e.g., final- unit indication causes user logoff according to local policy), the service element, according to application specific policy, may send a Session-Termination-Request (STR) to the home Diameter AAA server as usual [DIAMBASE]. Figure 4 illustrates the case when the final-unit indication causes user logoff upon consumption of the final granted units and the generation of STR.",
      "ja": "進行中の与信管理セッション中にユーザーがログオフした場合、または他の何らかの理由でユーザーがログオフした場合（たとえば、最終ユニットの表示によりローカルポリシーに従ってユーザーがログオフした場合）、アプリケーション固有のポリシーに従ってサービス要素 、通常のようにホームDiameter AAAサーバーにセッション終了要求（STR）を送信するかもしれません[DIAMBASE]。 図4は、最終ユニットの表示により、最終的に許可されたユニットの消費とSTRの生成時にユーザーがログオフする場合を示しています。"
    },
    {
      "indent": 3,
      "text": "                Service Element        AAA Server        CC Server\nEnd User         (CC Client)\n   | Service Delivery  |                    |                    |\n   |<----------------->|                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |                   |                    |                    |\n   |                   | CCR(Update,Used-Units)                  |\n   |                   |------------------->| CCR(Update,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                  CCA(Final-Unit, Terminate)\n   |              CCA(Final-Unit, Terminate)|<-------------------|\n   |                   |<-------------------|                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |  Disconnect user  |                    |                    |\n   |<------------------| CCR(Termination,Used-Units)             |\n   |                   |------------------->| CCR(Term.,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                    |                CCA |\n   |                   |                CCA |<-------------------|\n   |                   |<-------------------|                    |\n   |                   | STR                |                    |\n   |                   |------------------->|                    |\n   |                   |               STA  |                    |\n   |                   |<-------------------|                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "Figure 4: User disconnected due to exhausted account",
      "ja": "図4：アカウントが使い果たされたため切断されたユーザー"
    },
    {
      "indent": 0,
      "text": "5.5. Server-Initiated Credit Re-Authorization",
      "section_title": true,
      "ja": "5.5。 サーバー開始クレジットの再承認"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control application supports server-initiated re-authorization. The credit-control server MAY optionally initiate the credit re-authorization by issuing a Re-Auth-Request (RAR) as defined in the Diameter base protocol [DIAMBASE]. The Auth-Application-Id in the RAR message is set to 4 to indicate Diameter Credit Control, and the Re-Auth-Request-Type is set to AUTHORIZE_ONLY.",
      "ja": "Diameterクレジット制御アプリケーションは、サーバー起動の再認証をサポートしています。 クレジット制御サーバーは、オプションで、Diameterベースプロトコル[DIAMBASE]で定義されているRe-Auth-Request（RAR）を発行することにより、クレジットの再承認を開始できます。 RARメッセージのAuth-Application-Idは、Diameter Credit Controlを示すために4に設定され、Re-Auth-Request-TypeはAUTHORIZE_ONLYに設定されます。"
    },
    {
      "indent": 3,
      "text": "Section 5.1.2 defines the feature to enable credit-control for multiple services within a single (sub-)session where the server can authorize credit usage at a different level of granularity. Further, the server may provide credit resources to multiple services or rating groups as a pool (see section 5.1.2 for details and definitions). Therefore, the server, based on its service logic and its knowledge of the ongoing session, can decide to request credit re-authorization for a whole (sub-)session, a single credit pool, a single service, or a single rating-group. To request credit re-authorization for a credit pool, the server includes in the RAR message the G-S-U-Pool-Identifier AVP indicating the affected pool. To request credit re-authorization for a service or a rating-group, the server includes in the RAR message the Service-Identifier AVP or the Rating-Group AVP, respectively. To request credit re-authorization for all the ongoing services within the (sub-)session, the server includes none of the above mentioned AVPs in the RAR message.",
      "ja": "セクション5.1.2では、サーバーが異なるレベルの粒度でクレジットの使用を許可できる単一（サブ）セッション内の複数のサービスのクレジット制御を有効にする機能を定義しています。さらに、サーバーは、プールとして複数のサービスまたは評価グループにクレジットリソースを提供する場合があります（詳細と定義については、セクション5.1.2を参照してください）。したがって、サーバーは、サービスロジックと進行中のセッションの知識に基づいて、（サブ）セッション全体、単一のクレジットプール、単一のサービス、または単一のレーティンググループに対してクレジットの再承認を要求することを決定できます。 。クレジットプールのクレジット再認証を要求するために、サーバーは、影響を受けるプールを示すG-S-U-Pool-Identifier AVPをRARメッセージに含めます。サービスまたは評価グループのクレジット再認証を要求するために、サーバーはRARメッセージにそれぞれService-Identifier AVPまたはRating-Group AVPを含めます。 （サブ）セッション内で進行中のすべてのサービスに対してクレジットの再承認を要求するために、サーバーはRARメッセージに上記のAVPを含めません。"
    },
    {
      "indent": 3,
      "text": "If a credit re-authorization is not already ongoing (i.e., the credit-control session is in Open state), a credit control client that receives an RAR message with Session-Id equal to a currently active credit-control session MUST acknowledge the request by sending the Re-Auth-Answer (RAA) message and MUST initiate the credit re-authorization toward the server by sending a Credit-Control-Request message with the CC-Request-Type AVP set to the value UPDATE_REQUEST. The Result-Code 2002 (DIAMETER_LIMITED_SUCCESS) SHOULD be used in the RAA message to indicate that an additional message (i.e., CCR message with the value UPDATE_REQUEST) is required to complete the procedure. If a quota was allocated to the service, the credit-control client MUST report the used quota in the Credit-Control-Request. Note that the end user does not need to be prompted for the credit re-authorization, since the credit re-authorization is transparent to the user (i.e., it takes place exclusively between the credit-control client and the credit-control server).",
      "ja": "与信の再承認がまだ進行中でない場合（すなわち、与信管理セッションがオープン状態にある場合）、現在アクティブな与信管理セッションに等しいSession-Idを持つRARメッセージを受信する与信管理クライアントは、要求を承認しなければなりませんRe-Auth-Answer（RAA）メッセージを送信し、値UPDATE_REQUESTに設定されたCC-Request-Type AVPでCredit-Control-Requestメッセージを送信することにより、サーバーに向けてクレジットの再承認を開始する必要があります。結果コード2002（DIAMETER_LIMITED_SUCCESS）は、手順を完了するために追加のメッセージ（つまり、値UPDATE_REQUESTのCCRメッセージ）が必要であることを示すためにRAAメッセージで使用される必要があります。クォータがサービスに割り当てられた場合、クレジット管理クライアントは、使用されたクォータをCredit-Control-Requestで報告する必要があります。クレジットの再承認はユーザーに対して透過的であるため（つまり、クレジット管理クライアントとクレジット管理サーバーの間でのみ行われるため）、エンドユーザーにクレジットの再承認を求める必要はありません。"
    },
    {
      "indent": 3,
      "text": "Where multiple services in a user's session are supported, the procedure in the above paragraph will be executed at the granularity requested by the server in the RAR message.",
      "ja": "ユーザーのセッションで複数のサービスがサポートされている場合、上記の段落の手順は、RARメッセージでサーバーから要求された粒度で実行されます。"
    },
    {
      "indent": 3,
      "text": "If credit re-authorization is ongoing at the time when the RAR message is received (i.e., RAR-CCR collision), the credit-control client successfully acknowledges the request but does not initiate a new credit re-authorization. The Result-Code 2001 (DIAMETER_SUCCESS) SHOULD be used in the RAA message to indicate that a credit re-authorization procedure is already ongoing (i.e., the client was in PendingU state when the RAR was received). The credit-control server SHOULD process the Credit-Control-Request as if it was received in answer to the server initiated credit re-authorization, and should consider the server initiated credit re-authorization process successful upon reception of the Re-Auth-Answer message.",
      "ja": "RARメッセージを受信した時点でクレジットの再承認が進行している場合（つまり、RAR-CCRの衝突）、クレジット管理クライアントはリクエストを正常に確認しますが、新しいクレジットの再承認は開始しません。 結果コード2001（DIAMETER_SUCCESS）をRAAメッセージで使用して、クレジットの再認証手順が既に進行中であることを示す必要があります（つまり、RARが受信されたときにクライアントがPendingU状態にあった）。 クレジット管理サーバーは、サーバーが開始したクレジットの再承認に対する回答として受信したかのようにCredit-Control-Requestを処理する必要があり（SHOULD）、Re-Auth-Answerの受信時にサーバーが開始したクレジットの再承認プロセスが成功したと見なす必要があります メッセージ。"
    },
    {
      "indent": 3,
      "text": "When multiple services are supported in a user's session, the server may request credit re-authorization for a credit pool (or for the (sub-)session) while a credit re-authorization is already ongoing for some of the services or rating-groups. In this case, the client acknowledges the server request with an RAA message and MUST send a new Credit-Control-Request message to perform re-authorization for the remaining services/rating-groups. The Result-Code 2002 (DIAMETER_LIMITED_SUCCESS) SHOULD be used in the RAA message to indicate that an additional message (i.e., CCR message with value UPDATE_REQUEST) is required to complete the procedure. The server processes the received requests and returns an appropriate answer to both requests.",
      "ja": "ユーザーのセッションで複数のサービスがサポートされている場合、サーバーはクレジットプール（または（サブ）セッション）のクレジットの再承認を要求する場合がありますが、一部のサービスまたはレーティンググループのクレジットの再承認は既に進行中です 。 この場合、クライアントはRAAメッセージでサーバー要求を確認し、新しいCredit-Control-Requestメッセージを送信して、残りのサービス/レーティンググループの再承認を実行する必要があります。 結果コード2002（DIAMETER_LIMITED_SUCCESS）は、手順を完了するために追加のメッセージ（つまり、値UPDATE_REQUESTのCCRメッセージ）が必要であることを示すために、RAAメッセージで使用される必要があります。 サーバーは受信したリクエストを処理し、両方のリクエストに適切な回答を返します。"
    },
    {
      "indent": 3,
      "text": "The above-defined procedures are enabled for each of the possibly active Diameter credit-control sub-sessions. The server MAY request re-authorization for an active sub-session by including the CC-Sub-Session-Id AVP in the RAR message in addition to the Session-Id AVP.",
      "ja": "上記の手順は、アクティブな可能性のあるDiameterクレジットコントロールサブセッションごとに有効になります。 サーバーは、Session-Id AVPに加えてRARメッセージにCC-Sub-Session-Id AVPを含めることにより、アクティブなサブセッションの再認証を要求することができます。"
    },
    {
      "indent": 0,
      "text": "5.6. Graceful Service Termination",
      "section_title": true,
      "ja": "5.6。 優雅なサービス終了"
    },
    {
      "indent": 3,
      "text": "When the user's account runs out of money, the user may not be allowed to compile additional chargeable events. However, the home service provider may offer some services; for instance, access to a service portal where it is possible to refill the account, for which the user is allowed to benefit for a limited time. The length of this time is usually dependent on the home service provider policy.",
      "ja": "ユーザーのアカウントがお金を使い果たすと、ユーザーは追加の有料イベントをコンパイルすることが許可されない場合があります。 ただし、ホームサービスプロバイダーはいくつかのサービスを提供する場合があります。 たとえば、アカウントを補充することができるサービスポータルへのアクセス。ユーザーはそのアカウントに対して限られた時間だけ利益を得ることができます。 この時間の長さは通常、ホームサービスプロバイダーのポリシーに依存します。"
    },
    {
      "indent": 3,
      "text": "This section defines the optional graceful service termination feature that MAY be supported by the credit-control server. Credit-control client implementations MUST support the Final-Unit-Indication with at least the teardown of the ongoing service session once the subscriber has consumed all the final granted units.",
      "ja": "このセクションは、クレジット制御サーバーによってサポートされるかもしれないオプションのグレースフルサービス終了機能を定義します。 与信管理クライアントの実装は、加入者が最終的に許可されたすべてのユニットを消費すると、少なくとも進行中のサービスセッションのティアダウンを伴うFinal-Unit-Indicationをサポートする必要があります。"
    },
    {
      "indent": 3,
      "text": "Where independent credit-control of multiple services in a single credit-control (sub-)session is supported, it is possible to use the graceful service termination for each of the services/rating-groups independently. Naturally, the graceful service termination process defined in the following sub-sections will apply to the specific service/rating-group as requested by the server.",
      "ja": "単一のクレジット管理（サブ）セッションで複数のサービスの独立したクレジット管理がサポートされている場合、各サービス/評価グループに対してグレースフルサービス終了を個別に使用できます。 当然、次のサブセクションで定義されている正常なサービス終了プロセスは、サーバーの要求に応じて特定のサービス/評価グループに適用されます。"
    },
    {
      "indent": 3,
      "text": "In some service environments (e.g., NAS), the graceful service termination may be used to redirect the subscriber to a service portal for online balance refill or other services offered by the home service provider. In this case, the graceful termination process installs a set of packet filters to restrict the user's access capability only to/from the specified destinations. All the IP packets not matching the filters will be dropped or, possibly, re-directed to the service portal. The user may also be sent an appropriate notification as to why the access has been limited. These actions may be communicated explicitly from the server to the client or may be configured per-service at the client. Explicitly signaled redirect or restrict instructions always take precedence over configured ones.",
      "ja": "一部のサービス環境（NASなど）では、正常なサービス終了を使用して、ホームバランスの補充またはホームサービスプロバイダーが提供する他のサービスのために、サブスクライバーをサービスポータルにリダイレクトできます。 この場合、グレースフルターミネーションプロセスは、一連のパケットフィルタをインストールして、指定された宛先との間でのみユーザーのアクセス機能を制限します。 フィルタに一致しないすべてのIPパケットはドロップされるか、場合によってはサービスポータルにリダイレクトされます。 ユーザーには、アクセスが制限された理由に関する適切な通知が送信されることもあります。 これらのアクションは、サーバーからクライアントに明示的に伝達される場合と、クライアントでサービスごとに構成される場合があります。 明示的に通知されたリダイレクトまたは制限命令は、構成された命令よりも常に優先されます。"
    },
    {
      "indent": 3,
      "text": "It is also possible use the graceful service termination to connect the prepaid user to a top-up server that plays an announcement and prompts the user to replenish the account. In this case, the credit-control server sends only the address of the top-up server where the prepaid user shall be connected after the final granted units have been consumed. An example of this is given in Appendix A (Flow VII).",
      "ja": "また、正常なサービス終了を使用して、プリペイドユーザーをトップアップサーバーに接続して、アナウンスを再生し、ユーザーにアカウントを補充するように促すこともできます。 この場合、与信管理サーバーは、最後に付与されたユニットが消費された後にプリペイドユーザーが接続されるトップアップサーバーのアドレスのみを送信します。 この例は、付録A（フローVII）に記載されています。"
    },
    {
      "indent": 3,
      "text": "The credit-control server MAY initiate the graceful service termination by including the Final-Unit-Indication AVP in the Credit-Control-Answer to indicate that the message contains the final units for the service.",
      "ja": "Credit-Control-AnswerにFinal-Unit-Indication AVPを含めて、メッセージにサービスの最終ユニットが含まれていることを示すことにより、Credit-Control Serverはグレースフルサービス終了を開始する場合があります。"
    },
    {
      "indent": 3,
      "text": "When the credit-control client receives the Final-Unit-Indication AVP in the answer from the server, its behavior depends on the value indicated in the Final-Unit-Action AVP. The server may request the following actions: TERMINATE, REDIRECT, or RESTRICT_ACCESS.",
      "ja": "与信管理クライアントがサーバーからの応答でFinal-Unit-Indication AVPを受信した場合、その動作はFinal-Unit-Action AVPで示された値に依存します。 サーバーは、TERMINATE、REDIRECT、またはRESTRICT_ACCESSのアクションを要求できます。"
    },
    {
      "indent": 3,
      "text": "A following figure illustrates the graceful service termination procedure described in the following sub-sections.",
      "ja": "次の図は、次のサブセクションで説明する正常なサービス終了手順を示しています。"
    },
    {
      "indent": 3,
      "text": "                                         Diameter\nEnd User        Service Element         AAA Server          CC Server\n                 (CC Client)\n   |  Service Delivery |                    |                    |\n   |<----------------->|                    |                    |\n   |                   |CCR(Update,Used-Units)                   |\n   |                   |------------------->|CCR(Update,Used-Units)\n   |         :         |                    |------------------->|\n   |         :         |                    |CCA(Final-Unit,Action)\n   |         :         |                    |<-------------------|\n   |                   |CCA(Final-Unit,Action)                   |\n   |                   |<-------------------|                    |\n   |                   |                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   | ///////////////   |CCR(Update,Used-Units)                   |\n   |/Final Units End/->|------------------->|CCR(Update,Used-Units)\n   |/Action and    //  |                    |------------------->|\n   |/Restrictions //   |                    |  CCA(Validity-Time)|\n   |/Start       //    |  CCA(Validity-Time)|<-------------------|\n   | /////////////     |<-------------------|                    |\n   |         :         |                    |                    |\n   |         :         |                    |                    |\n   |                 Replenish Account            +-------+      |\n   |<-------------------------------------------->|Account|      |\n   |                   |                    |     +-------+      |\n   |                   |                    |                RAR |\n   |                 + |                RAR |<===================|\n   |                 | |<===================|                    |\n   |                 | | RAA                |                    |\n   |  /////////////  | |===================>| RAA                |\n   | /If supported / | | CCR(Update)        |===================>|\n   | /by CC Server/  | |===================>| CCR(Update)        |\n   | /////////////   | |                    |===================>|\n   |                 | |                    |   CCA(Granted-Unit)|\n   |                 | |   CCA(Granted-Unit)|<===================|\n   |  Restrictions ->+ |<===================|                    |\n   |  removed          |                    |                    |\n   |         :         |                    |                    |\n   |        OR         | CCR(Update)        |                    |\n   |   Validity-Time ->|------------------->| CCR(Update)        |\n   |   expires         |                    |------------------->|\n   |                   |                    |   CCA(Granted-Unit)|\n   |                   |   CCA(Granted-Unit)|<-------------------|\n   |    Restrictions ->|<-------------------|                    |\n   |    removed        |                    |                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Figure 5: Optional graceful service termination procedure",
      "ja": "図5：オプションのグレースフルサービス終了手順"
    },
    {
      "indent": 0,
      "text": "5.6.1. Terminate Action",
      "section_title": true,
      "ja": "5.6.1。 アクションの終了"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Indication AVP with Final-Unit-Action TERMINATE does not include any other information. When the subscriber has consumed the final granted units, the service element MUST terminate the service. This is the default handling applicable whenever the credit-control client receives an unsupported Final-Unit-Action value and MUST be supported by all the Diameter credit-control client implementations conforming to this specification. A final Credit-Control-Request message to the credit-control server MUST be sent if the Final-Unit-Indication AVP indicating action TERMINATE was present at command level. The CC-Request-Type AVP in the request is set to the value TERMINATION_REQUEST.",
      "ja": "Final-Unit-Action TERMINATEを使用したFinal-Unit-Indication AVPには、他の情報は含まれません。 加入者が最後に付与されたユニットを消費すると、サービス要素はサービスを終了しなければなりません。 これは、クレジット制御クライアントがサポートされていないFinal-Unit-Action値を受信するたびに適用されるデフォルトの処理であり、この仕様に準拠するすべてのDiameterクレジット制御クライアント実装でサポートされる必要があります。 アクションTERMINATEを示すFinal-Unit-Indication AVPがコマンドレベルで存在した場合、クレジットコントロールサーバーへの最終的なクレジットコントロール要求メッセージを送信する必要があります。 要求内のCC-Request-Type AVPは、値TERMINATION_REQUESTに設定されます。"
    },
    {
      "indent": 0,
      "text": "5.6.2. Redirect Action",
      "section_title": true,
      "ja": "5.6.2。 リダイレクトアクション"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Indication AVP with Final-Unit-Action REDIRECT indicates to the service element supporting this action that, upon consumption of the final granted units, the user MUST be re-directed to the address specified in the Redirect-Server AVP as follows.",
      "ja": "Final-Unit-Action REDIRECTを使用したFinal-Unit-Indication AVPは、このアクションをサポートするサービス要素に、最後に付与されたユニットが消費されると、Redirect-Server AVPで指定されたアドレスにユーザーをリダイレクトする必要があることを示します 続きます。"
    },
    {
      "indent": 3,
      "text": "The credit-control server sends the Redirect-Server AVP in the Credit-Control-Answer message. In such a case, the service element MUST redirect or connect the user to the destination specified in the Redirect-Server AVP, if possible. When the end user is redirected (by using protocols others than Diameter) to the specified server or connected to the top-up server, an additional authorization (and possibly authentication) may be needed before the subscriber can replenish the account; however, this is out of the scope of this specification.",
      "ja": "クレジット管理サーバーは、Redirect-Server AVPをCredit-Control-Answerメッセージで送信します。 そのような場合、サービス要素は、可能であれば、Redirect-Server AVPで指定された宛先にユーザーをリダイレクトまたは接続する必要があります。 エンドユーザーが（Diameter以外のプロトコルを使用して）指定されたサーバーにリダイレクトされるか、トップアップサーバーに接続されると、サブスクライバーがアカウントを補充する前に追加の承認（および場合によっては認証）が必要になる場合があります。 ただし、これはこの仕様の範囲外です。"
    },
    {
      "indent": 3,
      "text": "In addition to the Redirect-Server AVP, the credit-control server MAY include one or more Restriction-Filter-Rule AVPs or one or more Filter-Id AVPs in the Credit-Control-Answer message to enable the user to access other services (for example, zero-rated services). In such a case, the access device MUST drop all the packets not matching the IP filters specified in the Credit-Control-Answer message and, if possible, redirect the user to the destination specified in the Redirect-Server AVP.",
      "ja": "Redirect-Server AVPに加えて、クレジット制御サーバーは、ユーザーが他のサービスにアクセスできるようにするためにCredit-Control-Answerメッセージに1つ以上のRestriction-Filter-Rule AVPまたは1つ以上のFilter-Id AVPを含めることができます（ たとえば、ゼロレートのサービス）。 そのような場合、アクセスデバイスは、Credit-Control-Answerメッセージで指定されたIPフィルターと一致しないすべてのパケットをドロップし、可能であれば、リダイレクトサーバーAVPで指定された宛先にユーザーをリダイレクトしなければなりません。"
    },
    {
      "indent": 3,
      "text": "An entity other than the credit-control server may provision the access device with appropriate IP packet filters to be used in conjunction with the Diameter credit-control application. This case is considered in section 5.6.3.",
      "ja": "信用管理サーバー以外のエンティティは、Diameter信用管理アプリケーションと組み合わせて使用される適切なIPパケットフィルターをアクセスデバイスにプロビジョニングできます。 このケースはセクション5.6.3で検討されています。"
    },
    {
      "indent": 3,
      "text": "When the final granted units have been consumed, the credit-control client MUST perform an intermediate interrogation. The purpose of this interrogation is to indicate to the credit-control server that the specified action started and to report the used units. The credit-control server MUST deduct the used amount from the end user's account but MUST NOT make a new credit reservation. The credit-control client, however, may send intermediate interrogations before all the final granted units have been consumed for which rating and money reservation may be needed; for instance, upon Validity-Time expires or upon mid-session service events that affect the rating of the current service. Therefore, the credit-control client MUST NOT include any rating related AVP in the request sent once all the final granted units have been consumed as an indication to the server that the requested final unit action started, rating and money reservation are not required (when the Multiple-Services-Credit-Control AVP is used, the Service-Identifier or Rating-Group AVPs is included to indicate the concerned services). Naturally, the Credit-Control-Answer message does not contain any granted service unit and MUST include the Validity-Time AVP to indicate to the credit-control client how long the subscriber is allowed to use network resources before a new intermediate interrogation is sent to the server.",
      "ja": "最終的に許可されたユニットが消費されると、信用管理クライアントは中間の尋問を行わなければなりません。この問い合わせの目的は、指定されたアクションが開始されたことをクレジット管理サーバーに示し、使用されたユニットを報告することです。クレジット管理サーバーは、エンドユーザーのアカウントから使用量を差し引く必要がありますが、新しいクレジット予約をしてはなりません。ただし、与信管理クライアントは、格付けと金銭の予約が必要になる可能性のあるすべての最終許可ユニットが消費される前に、中間尋問を送信する場合があります。たとえば、Validity-Timeが期限切れになったとき、または現在のサービスの評価に影響するセッション中のサービスイベントが発生したときなどです。したがって、与信管理クライアントは、リクエストされた最終ユニットのアクションが開始されたという指示としてサーバーにすべての最終許可ユニットが消費されると、送信されたリクエストにレーティング関連のAVPを含めてはなりません（レーティングおよび金の予約は不要です（ Multiple-Services-Credit-Control AVPが使用され、関連サービスを示すためにService-IdentifierまたはRating-Group AVPが含まれます）。当然、Credit-Control-Answerメッセージには許可されたサービスユニットは含まれず、新しい中間尋問が送信されるまでにサブスクライバがネットワークリソースを使用できる期間をクレジット管理クライアントに示すためのValidity-Time AVPを含める必要がありますサーバー。"
    },
    {
      "indent": 3,
      "text": "At the expiry of Validity-Time, the credit-control client sends a Credit-Control-Request (UPDATE_REQUEST) as usual. This message does not include the Used-Service-Unit AVP, as there is no allotted quota to report. The credit-control server processes the request and MUST perform the credit reservation. If during this time the subscriber did not replenish his/her account, whether he/she will be disconnected or will be granted access to services not controlled by a credit-control server for an unlimited time is dependent on the home service provider policy (note: the latter option implies that the service element should not remove the restriction filters upon termination of the credit-control). The server will return the appropriate Result-Code (see section 9.1) in the Credit-Control-Answer message in order to implement the policy-defined action. Otherwise, new quota will be returned, the service element MUST remove all the possible restrictions activated by the graceful service termination process and continue the credit-control session and service session as usual.",
      "ja": "Validity-Timeの有効期限が切れると、クレジット管理クライアントは通常どおりクレジット管理要求（UPDATE_REQUEST）を送信します。レポートする割り当てられたクォータがないため、このメッセージにはUsed-Service-Unit AVPは含まれません。クレジット管理サーバーはリクエストを処理し、クレジット予約を実行しなければなりません。この時間中に加入者がアカウントを補充しなかった場合、無期限にクレジット制御サーバーによって制御されていないサービスへのアクセスが切断または許可されるかどうかは、ホームサービスプロバイダーのポリシーによって異なります（注：後者のオプションは、信用管理の終了時にサービス要素が制限フィルターを削除しないことを意味します）。サーバーは、ポリシー定義のアクションを実装するために、Credit-Control-Answerメッセージで適切な結果コード（セクション9.1を参照）を返します。そうでない場合、新しいクォータが返されます。サービス要素は、グレースフルサービス終了プロセスによってアクティブ化されたすべての可能な制限を削除し、通常どおりクレジット制御セッションとサービスセッションを継続する必要があります。"
    },
    {
      "indent": 3,
      "text": "The credit-control client may not wait until the expiration of the Validity-Time and may send a spontaneous update (a new Credit-Control-Request) if the service element can determine, for instance, that communication between the end user and the top-up server took place. An example of this is given in Appendix A (Figure A.8).",
      "ja": "信用管理クライアントは、Validity-Timeの期限が切れるまで待たず、サービス要素がエンドユーザーとトップの間の通信などを判断できる場合、自発的な更新（新しいCredit-Control-Request）を送信することがあります。 アップサーバーが行われました。 この例は、付録Aに示されています（図A.8）。"
    },
    {
      "indent": 3,
      "text": "Note that the credit-control server may already have initiated the above-described process for the first interrogation. However, the user's account might be empty when this first interrogation is performed. In this case, the subscriber can be offered a chance to replenish the account and continue the service. The credit-control client receives a Credit-Control-Answer or service specific authorization answer with the Final-Unit-Indication and Validity-Time AVPs but no Granted-Service-Unit. It immediately starts the graceful service termination without sending any message to the server. An example of this case is illustrated in Appendix A.",
      "ja": "与信管理サーバーは、最初の問い合わせに対して上記のプロセスをすでに開始している場合があることに注意してください。 ただし、この最初の問い合わせが実行されるとき、ユーザーのアカウントは空である可能性があります。 この場合、加入者にアカウントを補充してサービスを継続する機会を提供できます。 与信管理クライアントは、Final-Unit-IndicationおよびValidity-Time AVPを含むCredit-Control-Answerまたはサービス固有の許可応答を受け取りますが、Granted-Service-Unitは受け取りません。 サーバーにメッセージを送信せずに、正常なサービス終了をすぐに開始します。 この場合の例は、付録Aに示されています。"
    },
    {
      "indent": 0,
      "text": "5.6.3. Restrict Access Action",
      "section_title": true,
      "ja": "5.6.3。 アクセス制限アクション"
    },
    {
      "indent": 3,
      "text": "A Final-Unit-Indication AVP with the Final-Unit-Action RESTRICT_ACCESS indicates to the device supporting this action that the user's access MUST be restricted according to the IP packet filters given in the Restriction-Filter-Rule AVP(s) or according to the IP packet filters identified by the Filter-Id AVP(s). The credit-control server SHOULD include either the Restriction-Filter-Rule AVP or the Filter-Id AVP in the Credit-Control-Answer message.",
      "ja": "Final-Unit-Action RESTRICT_ACCESSを持つFinal-Unit-Indication AVPは、このアクションをサポートするデバイスに対して、Restriction-Filter-Rule AVPで指定されたIPパケットフィルタまたは Filter-Id AVPで識別されるIPパケットフィルター。 クレジット管理サーバーは、Credit-Control-AnswerメッセージにRestriction-Filter-Rule AVPまたはFilter-Id AVPを含める必要があります。"
    },
    {
      "indent": 3,
      "text": "An entity other than the credit-control server may provision the access device with appropriate IP packet filters to be used in conjunction with the Diameter credit-control application. Such an entity may, for instance, configure the access device with IP flows to be passed when the Diameter credit-control application indicates RESTRICT_ACCESS or REDIRECT. The access device passes IP packets according to the filter rules that may have been received in the Credit-Control-Answer message in addition to those that may have been configured by the other entity. However, when the user's account cannot cover the cost of the requested service, the action taken is the responsibility of the credit-control server that controls the prepaid subscriber.",
      "ja": "信用管理サーバー以外のエンティティは、Diameter信用管理アプリケーションと組み合わせて使用される適切なIPパケットフィルターをアクセスデバイスにプロビジョニングできます。 このようなエンティティは、たとえば、Diameterクレジット制御アプリケーションがRESTRICT_ACCESSまたはREDIRECTを示したときに渡されるIPフローでアクセスデバイスを構成できます。 アクセスデバイスは、他のエンティティによって構成された可能性があるものに加えて、Credit-Control-Answerメッセージで受信された可能性があるフィルター規則に従ってIPパケットを渡します。 ただし、ユーザーのアカウントが要求されたサービスの費用をカバーできない場合、実行されるアクションは、プリペイドサブスクライバーを制御するクレジット管理サーバーの責任です。"
    },
    {
      "indent": 3,
      "text": "If another entity working in conjunction with the Diameter credit-control application already provisions the access device with all the required filter rules for the end user, the credit-control server presumably need not send any additional filter. Therefore, it is RECOMMENDED that credit-control server implementations supporting the graceful service termination be configurable for sending the Restriction-Filter-Rule AVP, the Filter-Id AVP, or none of the above.",
      "ja": "Diameterクレジット制御アプリケーションと連携して動作する別のエンティティが、エンドユーザーに必要なすべてのフィルタールールを備えたアクセスデバイスを既にプロビジョニングしている場合、クレジット制御サーバーは追加のフィルターを送信する必要はないでしょう。 したがって、グレースフルサービス終了をサポートするクレジット制御サーバーの実装は、Restriction-Filter-Rule AVP、Filter-Id AVP、または上記のいずれも送信できないように構成できることが推奨されます。"
    },
    {
      "indent": 3,
      "text": "When the final granted units have been consumed, the credit-control client MUST perform an intermediate interrogation. The credit-control client and the credit-control server process this intermediate interrogation and execute subsequent procedures, as specified in the previous section for the REDIRECT action.",
      "ja": "最終的に許可されたユニットが消費されると、信用管理クライアントは中間の尋問を実行しなければなりません。 クレジット管理クライアントとクレジット管理サーバーは、この中間の問い合わせを処理し、REDIRECTアクションの前のセクションで指定された後続の手順を実行します。"
    },
    {
      "indent": 3,
      "text": "The credit-control server may initiate the graceful service termination with action RESTRICT_ACCESS already for the first interrogation, as specified in the previous section for the REDIRECT action.",
      "ja": "クレジット制御サーバーは、REDIRECTアクションの前のセクションで指定されたように、最初の問い合わせに対してアクションRESTRICT_ACCESSを使用してグレースフルサービス終了を開始できます。"
    },
    {
      "indent": 0,
      "text": "5.6.4. Usage of the Server-Initiated Credit Re-Authorization",
      "section_title": true,
      "ja": "5.6.4。 サーバー開始クレジットの再承認の使用"
    },
    {
      "indent": 3,
      "text": "Once the subscriber replenishes the account, she presumably expects all the restrictions placed by the graceful termination procedure to be removed immediately and unlimited service' access to be resumed. For the best user experience, the credit-control server implementation MAY support the server-initiated credit re-authorization (see section 5.5). In such a case, upon the successful account top-up, the credit-control server sends the Re-Auth-Request (RAR) message to solicit the credit re-authorization. The credit-control client initiates the credit re-authorization by sending the Credit-Control-Request message with the CC-Request-Type AVP set to the value UPDATE_REQUEST. The Used-Service-Unit AVP is not included in the request, as there is no allotted quota to report. The Requested-Service-Unit AVP MAY be included in the request. After the credit-control client successfully receives the Credit-Control-Answer with new Granted-Service-Unit, all the possible restrictions activated for the purpose of the graceful service termination MUST be removed in the service element. The credit-control session and the service session continue as usual.",
      "ja": "加入者がアカウントを補充したら、彼女はおそらくグレースフルターミネーションプロシージャによって課せられたすべての制限が直ちに削除され、無制限のサービスのアクセスが再開されることを期待しています。最高のユーザーエクスペリエンスのために、クレジット制御サーバーの実装は、サーバーが開始するクレジットの再承認をサポートすることができます（セクション5.5を参照）。このような場合、アカウントの追加が成功すると、クレジット管理サーバーはRe-Auth-Request（RAR）メッセージを送信してクレジットの再承認を要請します。クレジット制御クライアントは、値UPDATE_REQUESTに設定されたCC-Request-Type AVPでCredit-Control-Requestメッセージを送信することにより、クレジットの再認証を開始します。使用するサービスユニットAVPは、レポートに割り当てられたクォータがないため、リクエストに含まれません。 Requested-Service-Unit AVPをリクエストに含めることができます。クレジット管理クライアントが新しいGranted-Service-UnitでCredit-Control-Answerを正常に受信した後、グレースフルサービス終了の目的でアクティブ化されたすべての可能な制限をサービス要素で削除する必要があります。与信管理セッションとサービスセッションは通常どおり続行されます。"
    },
    {
      "indent": 0,
      "text": "5.7. Failure Procedures",
      "section_title": true,
      "ja": "5.7。 故障手順"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Failure-Handling AVP (CCFH), as described in this section, determines the behavior of the credit-control client in fault situations. The CCFH may be received from the Diameter home AAA server, from the credit-control server, or may be configured locally. The CCFH value received from the home AAA server overrides the locally configured value. The CCFH value received from the credit-control server in the Credit-Control-Answer message always overrides any existing value.",
      "ja": "このセクションで説明するように、Credit-Control-Failure-Handling AVP（CCFH）は、障害状況でのクレジット制御クライアントの動作を決定します。 CCFHは、DiameterホームAAAサーバー、クレジット管理サーバー、またはローカルで構成できます。 ホームAAAサーバーから受信したCCFH値は、ローカルに構成された値をオーバーライドします。 Credit-Control-Answerメッセージでクレジット制御サーバーから受信したCCFH値は、既存の値を常に上書きします。"
    },
    {
      "indent": 3,
      "text": "The authorization server MAY include the Accounting-Realtime-Required AVP to determine what to do if the sending of accounting records to the accounting server has been temporarily prevented, as defined in [DIAMBASE]. It is RECOMMENDED that the client complement the credit-control failure procedures with backup accounting flow toward an accounting server. By using different combinations of Accounting-Realtime-Required and Credit-Control-Failure-Handling AVPs, different safety levels can be built. For example, by choosing a Credit-Control-Failure-Handling AVP equal to CONTINUE for the credit-control flow and a Accounting-Realtime-Required AVP equal to DELIVER_AND_GRANT for the accounting flow, the service can be granted to the end user even if the connection to the credit-control server is down, as long as the accounting server is able to collect the accounting information and information exchange is taking place between the accounting server and credit-control server.",
      "ja": "認可サーバーは、[DIAMBASE]で定義されているように、アカウンティングレコードのアカウンティングサーバーへの送信が一時的に阻止された場合の対処方法を決定するAccounting-Realtime-Required AVPを含めることができます。 クライアントは、会計サーバーへのバックアップアカウンティングフローでクレジット管理の失敗手順を補完することが推奨されます。 Accounting-Realtime-RequiredおよびCredit-Control-Failure-Handling AVPのさまざまな組み合わせを使用することにより、さまざまな安全レベルを構築できます。 たとえば、クレジット制御フローではCONTINUEに等しいCredit-Control-Failure-Handling AVPを選択し、アカウンティングフローではDELIVER_AND_GRANTに等しいAccounting-Realtime-Required AVPを選択することにより、エンドユーザーにサービスを許可できます。 会計サーバーが会計情報を収集でき、会計サーバーと信用管理サーバー間で情報交換が行われている限り、信用管理サーバーへの接続は停止しています。"
    },
    {
      "indent": 3,
      "text": "As the credit-control application is based on real-time bi-directional communication between the credit-control client and the credit-control server, the usage of alternative destinations and the buffering of messages may not be sufficient in the event of communication failures. Because the credit-control server has to maintain session states, moving the credit-control message stream to a backup server requires a complex context transfer solution. Whether the credit-control message stream is moved to a backup credit-control server during an ongoing credit-control session depends on the value of the CC-Session-Failover AVP. However, failover may occur at any point in the path between the credit-control client and the credit-control server if a transport failure is detected with a peer, as described in [DIAMBASE]. As a consequence, the credit-control server might receive duplicate messages. These duplicates or out of sequence messages can be detected in the credit-control server based on the credit-control server session state machine (section 7), Session-Id AVP, and CC-Request-Number AVP.",
      "ja": "クレジット制御アプリケーションは、クレジット制御クライアントとクレジット制御サーバー間のリアルタイム双方向通信に基づいているため、通信障害が発生した場合、代替宛先の使用とメッセージのバッファリングでは不十分な場合があります。クレジット管理サーバーはセッション状態を維持する必要があるため、クレジット管理メッセージストリームをバックアップサーバーに移動するには、複雑なコンテキスト転送ソリューションが必要です。進行中のクレジット制御セッション中に、クレジット制御メッセージストリームがバックアップクレジット制御サーバーに移動されるかどうかは、CC-Session-Failover AVPの値によって異なります。ただし、[DIAMBASE]で説明されているように、ピアでトランスポート障害が検出された場合、クレジット制御クライアントとクレジット制御サーバー間のパスの任意のポイントでフェイルオーバーが発生する可能性があります。結果として、与信管理サーバーは重複メッセージを受信する場合があります。これらの重複またはシーケンス外のメッセージは、クレジット制御サーバーセッション状態マシン（セクション7）、セッションID AVP、およびCC-Request-Number AVPに基づいて、クレジット制御サーバーで検出できます。"
    },
    {
      "indent": 3,
      "text": "If a failure occurs during an ongoing credit-control session, the credit-control client may move the credit-control message stream to an alternative server if the CC-server indicated FAILOVER_SUPPORTED in the CC-Session-Failover AVP. A secondary credit-control server name, either received from the home Diameter AAA server or configured locally, can be used as an address of the backup server. If the CC-Session-Failover AVP is set to FAILOVER_NOT_SUPPORTED, the credit-control message stream MUST NOT be moved to a backup server.",
      "ja": "進行中のクレジット制御セッション中に障害が発生した場合、CCサーバーがCC-Session-Failover AVPでFAILOVER_SUPPORTEDを示した場合、クレジット制御クライアントはクレジット制御メッセージストリームを代替サーバーに移動できます。 ホームDiameter AAAサーバーから受信した、またはローカルで構成されたセカンダリクレジット制御サーバー名は、バックアップサーバーのアドレスとして使用できます。 CC-Session-Failover AVPがFAILOVER_NOT_SUPPORTEDに設定されている場合、クレジット制御メッセージストリームをバックアップサーバーに移動しないでください。"
    },
    {
      "indent": 3,
      "text": "For new credit-control sessions, failover to an alternative credit-control server SHOULD be performed if possible. For instance, if an implementation of the credit-control client can determine primary credit-control server unavailability, it can establish the new credit-control sessions with a possibly available secondary credit-control server.",
      "ja": "新しいクレジット制御セッションの場合、可能であれば、代替のクレジット制御サーバーへのフェイルオーバーを実行する必要があります。 たとえば、与信管理クライアントの実装がプライマリ与信管理サーバーの使用不可を判断できる場合、使用可能なセカンダリ与信管理サーバーとの新しい与信管理セッションを確立できます。"
    },
    {
      "indent": 3,
      "text": "The AAA transport profile [AAATRANS] defines the application layer watchdog algorithm that enables failover from a peer that has failed and is controlled by a watchdog timer (Tw) defined in [AAATRANS]. The recommended default initial value for Tw (Twinit) is 30 seconds. Twinit may be set as low as 6 seconds; however, according to [AAATRANS], setting too low a value for Twinit is likely to result in an increased probability of duplicates, as well as an increase in spurious failover and failback attempts. The Diameter base protocol is common to several different types of Diameter AAA applications that may be run in the same service element. Therefore, tuning the timer Twinit to a lower value in order to satisfy the requirements of real-time applications, such as the Diameter credit-control application, will certainly cause the above mentioned problems. For prepaid services, however, the end user expects an answer from the network in a reasonable time. Thus, the Diameter credit-control client will react faster than would the underlying base protocol. Therefore this specification defines the timer Tx that is used by the credit-control client (as defined in section 13) to supervise the communication with the credit-control server. When the timer Tx elapses, the credit-control client takes an action to the end user according to the Credit-Control-Failure-Handling AVP.",
      "ja": "AAAトランスポートプロファイル[AAATRANS]は、障害が発生し、[AAATRANS]で定義されたウォッチドッグタイマー（Tw）によって制御されるピアからのフェールオーバーを可能にするアプリケーションレイヤーウォッチドッグアルゴリズムを定義します。 Tw（Twinit）の推奨されるデフォルトの初期値は30秒​​です。 Twinitは6秒に設定できます。ただし、[AAATRANS]によると、Twinitの値が低すぎると、重複する可能性が高くなり、スプリアスフェールオーバーとフェールバックの試行が増加する可能性があります。 Diameterベースプロトコルは、同じサービス要素で実行できるいくつかの異なるタイプのDiameter AAAアプリケーションに共通です。したがって、Diameterクレジット管理アプリケーションなどのリアルタイムアプリケーションの要件を満たすために、タイマーTwinitをより低い値に調整すると、上記の問題が確実に発生します。ただし、プリペイドサービスの場合、エンドユーザーは妥当な時間内にネットワークからの回答を期待します。したがって、Diameterクレジット管理クライアントは、基礎となる基本プロトコルよりも速く反応します。したがって、この仕様では、クレジット制御サーバーとの通信を監視するためにクレジット制御クライアント（セクション13で定義）が使用するタイマーTxを定義します。タイマーTxが経過すると、クレジット制御クライアントは、Credit-Control-Failure-Handling AVPに従ってエンドユーザーに対してアクションを実行します。"
    },
    {
      "indent": 3,
      "text": "When Tx expires, the Diameter credit-control client always terminates the service if the Credit-Control-Failure-Handling (CCFH) AVP is set to the value TERMINATE. The credit-control session may be moved to an alternative server only if a protocol error DIAMETER_TOO_BUSY or DIAMETER_UNABLE_TO_DELIVER is received before Tx expires. Therefore, the value TERMINATE is not appropriate if proper failover behavior is desired.",
      "ja": "Txが期限切れになると、Credit-Control-Failure-Handling（CCFH）AVPが値TERMINATEに設定されている場合、Diameterクレジット制御クライアントは常にサービスを終了します。 Txが期限切れになる前にプロトコルエラーDIAMETER_TOO_BUSYまたはDIAMETER_UNABLE_TO_DELIVERを受信した場合にのみ、クレジット制御セッションを代替サーバーに移動できます。 したがって、適切なフェイルオーバー動作が必要な場合、値TERMINATEは適切ではありません。"
    },
    {
      "indent": 3,
      "text": "If the Credit-Control-Failure-Handling AVP is set to the value CONTINUE or RETRY_AND_TERMINATE, the service will be granted to the end user when the timer Tx expires. An answer message with granted-units may arrive later if the base protocol transport failover occurred in the path to the credit-control server. (The Twinit default value is 3 times more than the Tx recommended value.) The credit-control client SHOULD grant the service to the end user, start monitoring the resource usage, and wait for the possible late answer until the timeout of the request (e.g., 120 seconds). If the request fails and the CC-Session-Failover AVP is set to FAILOVER_NOT_SUPPORTED, the credit-control client terminates or continues the service depending on the value set in the CCFH and MUST free all the reserved resources for the credit-control session. If the protocol error DIAMETER_UNABLE_TO_DELIVER or DIAMETER_TOO_BUSY is received or the request times out and the CC-Session-Failover AVP is set to FAILOVER_SUPPORTED, the credit-control client MAY send the request to a backup server, if possible. If the credit-control client receives a successful answer from the backup server, it continues the credit-control session with such a server. If the re-transmitted request also fails, the credit-control client terminates or continues the service depending on the value set in the CCFH and MUST free all the reserved resources for the credit-control session.",
      "ja": "Credit-Control-Failure-Handling AVPが値CONTINUEまたはRETRY_AND_TERMINATEに設定されている場合、タイマーTxが切れるとサービスがエンドユーザーに許可されます。クレジット制御サーバーへのパスで基本プロトコルトランスポートフェールオーバーが発生した場合、許可されたユニットを含む応答メッセージが後で到着することがあります。 （Twinitのデフォルト値は、Txの推奨値の3倍です。）クレジット制御クライアントは、エンドユーザーにサービスを許可し、リソースの使用状況の監視を開始し、リクエストのタイムアウトまで、可能な遅延応答を待ちます（SHOULD例：120秒）。要求が失敗し、CC-Session-Failover AVPがFAILOVER_NOT_SUPPORTEDに設定されている場合、クレジット制御クライアントはCCFHで設定された値に応じてサービスを終了または継続し、クレジット制御セッションのすべての予約済みリソースを解放する必要があります。プロトコルエラーDIAMETER_UNABLE_TO_DELIVERまたはDIAMETER_TOO_BUSYを受信するか、要求がタイムアウトし、CC-Session-Failover AVPがFAILOVER_SUPPORTEDに設定されている場合、クレジット制御クライアントは、可能であれば、バックアップサーバーに要求を送信できます。クレジット管理クライアントは、バックアップサーバーから成功した回答を受信すると、そのようなサーバーとのクレジット管理セッションを続行します。再送信された要求も失敗した場合、クレジット制御クライアントはCCFHで設定された値に応じてサービスを終了または継続し、クレジット制御セッション用に予約されたすべてのリソースを解放する必要があります。"
    },
    {
      "indent": 3,
      "text": "If a communication failure occurs during the graceful service termination procedure, the service element SHOULD always terminate the ongoing service session.",
      "ja": "正常なサービス終了手順中に通信障害が発生した場合、サービス要素は常に進行中のサービスセッションを終了する必要があります。"
    },
    {
      "indent": 3,
      "text": "If the credit-control server detects a failure during an ongoing credit-control session, it will terminate the credit-control session and return the reserved units back to the end user's account.",
      "ja": "与信管理サーバーは、進行中の与信管理セッション中に障害を検出すると、与信管理セッションを終了し、予約されたユニットをエンドユーザーのアカウントに戻します。"
    },
    {
      "indent": 3,
      "text": "The supervision session timer Tcc (as defined in section 13) is used in the credit-control server to supervise the credit-control session.",
      "ja": "監督セッションタイマーTcc（セクション13で定義）は、信用管理サーバーで信用管理セッションを監視するために使用されます。"
    },
    {
      "indent": 3,
      "text": "In order to support failover between credit-control servers, information transfer about the credit-control session and account state SHOULD take place between the primary and the secondary credit-control server. Implementations supporting the credit-control session failover MUST also ensure proper detection of duplicate or out of sequence messages. The communication between the servers is regarded as an implementation issue and is outside of the scope of this specification.",
      "ja": "与信管理サーバー間のフェールオーバーをサポートするために、与信管理セッションとアカウント状態に関する情報転送は、プライマリとセカンダリの与信管理サーバー間で行われる必要があります。 クレジット制御セッションフェールオーバーをサポートする実装は、重複またはシーケンス外のメッセージの適切な検出も保証する必要があります。 サーバー間の通信は実装の問題と見なされ、この仕様の範囲外です。"
    },
    {
      "indent": 0,
      "text": "6. One Time Event",
      "section_title": true,
      "ja": "6.ワンタイムイベント"
    },
    {
      "indent": 3,
      "text": "The one-time event is used when there is no need to maintain any state in the Diameter credit-control server; for example, enquiring about the price of the service. The use of a one-time event implies that the user has been authenticated and authorized beforehand.",
      "ja": "ワンタイムイベントは、Diameterクレジット制御サーバーで状態を維持する必要がない場合に使用されます。 たとえば、サービスの価格について問い合わせます。 ワンタイムイベントの使用は、ユーザーが事前に認証および承認されていることを意味します。"
    },
    {
      "indent": 3,
      "text": "The one time event can be used when the credit-control client wants to know the cost of the service event or to check the account balance without any credit-reservation. It can also be used for refunding service units on the user's account or for direct debiting without any credit-reservation. The one time event is shown in Figure 6.",
      "ja": "ワンタイムイベントは、クレジット管理クライアントがサービスイベントの費用を知りたい場合、またはクレジットを予約せずにアカウントの残高を確認したい場合に使用できます。 また、ユーザーのアカウントのサービスユニットの払い戻しや、クレジットの予約なしでの口座引き落としにも使用できます。 1回限りのイベントを図6に示します。"
    },
    {
      "indent": 3,
      "text": "                                        Diameter\nEnd User        Service Element        AAA Server        CC Server\n                  (CC Client)\n   | Service Request   |                    |                    |\n   |------------------>|                    |                    |\n   |                   | CCR(Event)         |                    |\n   |                   |------------------->| CCR(Event)         |\n   |                   |                    |------------------->|\n   |                   |                    |  CCA(Granted-Units)|\n   |                   |  CCA(Granted-Units)|<-------------------|\n   |  Service Delivery |<-------------------|                    |\n   |<----------------->|                    |                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 25,
      "text": "Figure 6: One time event",
      "ja": "図6：ワンタイムイベント"
    },
    {
      "indent": 3,
      "text": "In environments such as the 3GPP architecture, the one time event can be sent from the service element directly to the credit-control server.",
      "ja": "3GPPアーキテクチャなどの環境では、ワンタイムイベントをサービス要素からクレジット管理サーバーに直接送信できます。"
    },
    {
      "indent": 0,
      "text": "6.1. Service Price Enquiry",
      "section_title": true,
      "ja": "6.1。 サービス価格のお問い合わせ"
    },
    {
      "indent": 3,
      "text": "The credit-control client may need to know the price of the service event. Services offered by application service providers whose prices are not known in the credit-control client might exist. The end user might also want to get an estimation of the price of a service event before requesting it.",
      "ja": "与信管理クライアントは、サービスイベントの価格を知る必要がある場合があります。 与信管理クライアントで価格が不明なアプリケーションサービスプロバイダーによって提供されるサービスが存在する場合があります。 エンドユーザーは、サービスイベントを要求する前に、サービスイベントの価格の見積もりを取得することもできます。"
    },
    {
      "indent": 3,
      "text": "A Diameter credit-control client requesting the cost information MUST set the CC-Request-Type AVP equal to EVENT_REQUEST, include the Requested-Action AVP set to PRICE_ENQUIRY, and set the requested service event information into the Service-Identifier AVP in the Credit-Control-Request message. Additional service event information may be sent as service specific AVPs or within the Service-Parameter-Info AVP. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "コスト情報を要求するDiameterクレジット制御クライアントは、CC-Request-Type AVPをEVENT_REQUESTに等しく設定し、Requested-Action AVPをPRICE_ENQUIRYに設定し、要求されたサービスイベント情報をCredit- Control-Requestメッセージ。 追加のサービスイベント情報は、サービス固有のAVPとして、またはService-Parameter-Info AVP内で送信できます。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The credit-control server calculates the cost of the requested service event, but it does not perform any account balance check or credit-reservation from the account.",
      "ja": "信用管理サーバーは、要求されたサービスイベントのコストを計算しますが、口座残高の確認や口座からの信用予約は行いません。"
    },
    {
      "indent": 3,
      "text": "The estimated cost of the requested service event is returned to the credit-control client in the Cost-Information AVP in the Credit-Control-Answer message.",
      "ja": "要求されたサービスイベントの推定コストは、Credit-Control-AnswerメッセージのCost-Information AVPでクレジット制御クライアントに返されます。"
    },
    {
      "indent": 0,
      "text": "6.2. Balance Check",
      "section_title": true,
      "ja": "6.2。 バランスチェック"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client may only have to verify that the end user's account balance covers the cost of a certain service without reserving any units from the account at the time of the inquiry. This method does not guarantee that credit would be left when the Diameter credit-control client requests the debiting of the account with a separate request.",
      "ja": "Diameterクレジット管理クライアントは、照会時にアカウントからユニットを予約せずに、エンドユーザーのアカウント残高が特定のサービスの費用をカバーしていることを確認するだけでよい場合があります。 この方法では、Diameterクレジット管理クライアントが別のリクエストでアカウントの借方記入をリクエストしたときに、クレジットが残っていることを保証しません。"
    },
    {
      "indent": 3,
      "text": "A Diameter credit-control client requesting the balance check MUST set the CC-Request-Type AVP equal to EVENT_REQUEST, include a Requested-Action AVP set to CHECK_BALANCE, and include the Subscription-Id AVP in order to identify the end user in the credit-control server. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "残高チェックを要求するDiameterクレジット制御クライアントは、CC_Request-Type AVPをEVENT_REQUESTと等しく設定し、CHECK_BALANCEに設定されたRequested-Action AVPを含め、クレジット内のエンドユーザーを識別するためにSubscription-Id AVPを含める必要があります。 -制御サーバー。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The credit-control server makes the balance check, but it does not make any credit-reservation from the account.",
      "ja": "クレジット管理サーバーは残高チェックを行いますが、アカウントからのクレジット予約は行いません。"
    },
    {
      "indent": 3,
      "text": "The result of balance check (ENOUGH_CREDIT/NO_CREDIT) is returned to the credit-control client in the Check-Balance-Result AVP in the Credit-Control-Answer message.",
      "ja": "残高チェックの結果（ENOUGH_CREDIT / NO_CREDIT）は、Credit-Control-AnswerメッセージのCheck-Balance-Result AVPでクレジット管理クライアントに返されます。"
    },
    {
      "indent": 0,
      "text": "6.3. Direct Debiting",
      "section_title": true,
      "ja": "6.3。 口座引落し"
    },
    {
      "indent": 3,
      "text": "There are certain service events for which service execution is always successful in the service environment. The delay between the service invocation and the actual service delivery to the end user can be sufficiently long that the use of the session-based credit-control would lead to unreasonably long credit-control sessions. In these cases, the Diameter credit-control client can use the one-time event scenario for direct debiting. The Diameter credit-control client SHOULD be sure that the requested service event execution would be successful when this scenario is used.",
      "ja": "サービス環境では、サービスの実行が常に成功する特定のサービスイベントがあります。 サービス呼び出しとエンドユーザーへの実際のサービス配信との間の遅延は、セッションベースのクレジットコントロールの使用が不当に長いクレジットコントロールセッションにつながるほど十分に長くなる可能性があります。 これらの場合、Diameterクレジット管理クライアントは、口座引き落としに1回限りのイベントシナリオを使用できます。 Diameterクレジット制御クライアントは、このシナリオを使用する場合、要求されたサービスイベントの実行が成功することを確認する必要があります。"
    },
    {
      "indent": 3,
      "text": "In the Credit-Control-Request message, the CC-Request-Type is set to the value EVENT_REQUEST and the Requested-Action AVP is set to DIRECT_DEBITING. The Subscription-Id AVP SHOULD be included to identify the end user in the credit-control server. The Event-Timestamp AVP SHOULD be included in the request and contain the time when the service event is requested in the service element. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "Credit-Control-Requestメッセージでは、CC-Request-Typeは値EVENT_REQUESTに設定され、Requested-Action AVPはDIRECT_DEBITINGに設定されます。 Subscription-Id AVPは、クレジットコントロールサーバーのエンドユーザーを識別するために含める必要があります。 Event-Timestamp AVPはリクエストに含める必要があり（SHOULD）、サービス要素でサービスイベントがリクエストされた時刻を含める必要があります。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client MAY include the monetary amount to be charged in the Requested-Service-Unit AVP, if it knows the cost of the service event. If the Diameter credit-control client does not know the cost of the service event, the Requested-Service-Unit AVP MAY contain the number of requested service events. The Service-Identifier AVP always indicates the service concerned. Additional service event information to be rated MAY be sent as service specific AVPs or within the Service-Parameter-Info AVP.",
      "ja": "Diameterクレジット制御クライアントは、サービスイベントのコストを知っている場合、Requested-Service-Unit AVPに請求される金額を含めることができます。 Diameterクレジット制御クライアントがサービスイベントのコストを知らない場合、Requested-Service-Unit AVPにはリクエストされたサービスイベントの数が含まれる場合があります。 Service-Identifier AVPは、常に関連するサービスを示します。 評価される追加のサービスイベント情報は、サービス固有のAVPとして、またはService-Parameter-Info AVP内で送信される場合があります。"
    },
    {
      "indent": 3,
      "text": "The credit-control server SHOULD rate the service event and deduct the corresponding monetary amount from the end user's account. If the type of the Requested-Service-Unit AVP is money, no rating is needed, but the corresponding monetary amount is deducted from the end user's account.",
      "ja": "クレジット管理サーバーは、サービスイベントを評価し、対応する金額をエンドユーザーのアカウントから差し引く必要があります。 Requested-Service-Unit AVPのタイプがお金の場合、評価は必要ありませんが、対応する金額はエンドユーザーのアカウントから差し引かれます。"
    },
    {
      "indent": 3,
      "text": "The credit-control server returns the Granted-Service-Unit AVP in the Credit-Control-Answer message to the Diameter credit-control client. The Granted-Service-Unit AVP contains the amount of service units that the Diameter credit-control client can provide to the end user. The type of the Granted-Service-Unit can be time, volume, service specific, or money, depending on the type of service event.",
      "ja": "クレジット制御サーバーは、Credit-Control-AnswerメッセージでGranted-Service-Unit AVPをDiameterクレジット制御クライアントに返します。 Granted-Service-Unit AVPには、Diameterクレジット管理クライアントがエンドユーザーに提供できるサービスユニットの量が含まれています。 Granted-Service-Unitのタイプは、サービスイベントのタイプに応じて、時間、ボリューム、サービス固有、またはお金になります。"
    },
    {
      "indent": 3,
      "text": "If the credit-control server determines that no credit-control is needed for the service, it can include the result code indicating that the credit-control is not applicable (e.g., service is free of charge).",
      "ja": "与信管理サーバーがサービスに与信管理が不要であると判断した場合、与信管理が適用できないことを示す結果コードを含めることができます（たとえば、サービスは無料です）。"
    },
    {
      "indent": 3,
      "text": "For informative purposes, the Credit-Control-Answer message MAY also include the Cost-Information AVP containing the estimated total cost of the requested service.",
      "ja": "情報提供の目的で、Credit-Control-Answerメッセージには、要求されたサービスの推定総コストを含むコスト情報AVPも含めることができます。"
    },
    {
      "indent": 0,
      "text": "6.4. Refund",
      "section_title": true,
      "ja": "6.4。 払い戻し"
    },
    {
      "indent": 3,
      "text": "Some services may refund service units to the end user's account; for example, gaming services.",
      "ja": "一部のサービスでは、サービスユニットをエンドユーザーのアカウントに払い戻す場合があります。 たとえば、ゲームサービス。"
    },
    {
      "indent": 3,
      "text": "The credit-control client MUST set CC-Request-Type to the value EVENT_REQUEST and the Requested-Action AVP to REFUND_ACCOUNT in the Credit-Control-Request message. The Subscription-Id AVP SHOULD be included to identify the end user in the credit-control server. The Service-Context-Id AVP indicates the service specific document applicable to the request.",
      "ja": "クレジット制御クライアントは、CC-Request-Typeを値EVENT_REQUESTに設定し、Requested-Action AVPをREFUND_ACCOUNTにCredit-Control-Requestメッセージで設定する必要があります。 Subscription-Id AVPは、クレジットコントロールサーバーのエンドユーザーを識別するために含める必要があります。 Service-Context-Id AVPは、リクエストに適用可能なサービス固有のドキュメントを示します。"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control client MAY include the monetary amount to be refunded in the Requested-Service-Unit AVP. The Service-Identifier AVP always indicates the concerned service. If the Diameter credit-control client does not know the monetary amount to be refunded, in addition to the Service-Identifier AVP it MAY send service specific AVPs or the Service-Parameter-Info AVP containing additional service event information to be rated.",
      "ja": "Diameterクレジット管理クライアントは、Requested-Service-Unit AVPに返金される金額を含めることができます。 Service-Identifier AVPは、常に関連するサービスを示します。 Diameterクレジット制御クライアントが返金される金額を知らない場合、Service-Identifier AVPに加えて、サービス固有のAVPまたは評価される追加のサービスイベント情報を含むService-Parameter-Info AVPを送信する場合があります。"
    },
    {
      "indent": 3,
      "text": "For informative purposes, the Credit-Control-Answer message MAY also include the Cost-Information AVP containing the estimated monetary amount of refunded unit.",
      "ja": "情報提供の目的で、Credit-Control-Answerメッセージには、返金されるユニットの推定金額を含むコスト情報AVPも含めることができます。"
    },
    {
      "indent": 0,
      "text": "6.5. Failure Procedure",
      "section_title": true,
      "ja": "6.5。 故障手順"
    },
    {
      "indent": 3,
      "text": "Failover to an alternative credit-control server is allowed for a one time event, as the server is not maintaining session states. For instance, if the credit-control client receives a protocol error DIAMETER_UNABLE_TO_DELIVER or DIAMETER_TOO_BUSY, it can re-send the request to an alternative server, if possible. There MAY be protocol transparent Diameter relays and redirect agents or Diameter credit-control proxies between the credit-control client and credit-control server. Failover may occur at any point in the path between the credit-control client and the credit-control server if a transport failure is detected with a peer, as described in [DIAMBASE]. Because there can be duplicate requests for various reasons, the credit-control server is responsible for real time duplicate detection. Implementation issues for duplicate detection are discussed in [DIAMBASE], Appendix C.",
      "ja": "サーバーはセッション状態を維持していないため、1回限りのイベントで代替の信用管理サーバーへのフェイルオーバーが許可されます。 たとえば、クレジット管理クライアントがプロトコルエラーDIAMETER_UNABLE_TO_DELIVERまたはDIAMETER_TOO_BUSYを受信した場合、可能であれば、代替サーバーにリクエストを再送信できます。 プロトコル透過的なDiameterリレーとリダイレクトエージェント、またはクレジット制御クライアントとクレジット制御サーバーの間にDiameterクレジット制御プロキシがある場合があります。 [DIAMBASE]で説明されているように、ピアでトランスポート障害が検出された場合、クレジット制御クライアントとクレジット制御サーバー間のパスの任意の時点でフェイルオーバーが発生する可能性があります。 さまざまな理由でリクエストが重複する可能性があるため、クレジット管理サーバーはリアルタイムの重複検出を担当します。 重複検出の実装の問題は、[DIAMBASE]、付録Cで説明されています。"
    },
    {
      "indent": 3,
      "text": "When the credit-control client detects a communication failure with the credit-control server, its behavior depends on the requested action. The timer Tx (as defined in section 13) is used in the",
      "ja": "クレジット管理クライアントがクレジット管理サーバーとの通信障害を検出すると、その動作は要求されたアクションに依存します。 タイマーTx（セクション13で定義）は、"
    },
    {
      "indent": 3,
      "text": "credit-control client to supervise the communication with the credit-control server.",
      "ja": "クレジット管理サーバーとの通信を監督するクレジット管理クライアント。"
    },
    {
      "indent": 3,
      "text": "If the requested action is PRICE_ENQUIRY or CHECK_BALANCE and communication failure is detected, the credit-control client SHOULD forward the request messages to an alternative credit-control server, if possible. The secondary credit-control server name, if received from the home Diameter AAA server, can be used as an address of backup server.",
      "ja": "要求されたアクションがPRICE_ENQUIRYまたはCHECK_BALANCEであり、通信障害が検出された場合、クレジット制御クライアントは、可能であれば、代替のクレジット制御サーバーに要求メッセージを転送する必要があります。 セカンダリCredit-Controlサーバー名は、ホームDiameter AAAサーバーから受信した場合、バックアップサーバーのアドレスとして使用できます。"
    },
    {
      "indent": 3,
      "text": "If the requested action is DIRECT_DEBITING, the Direct-Debiting-Failure-Handling AVP (DDFH) controls the credit-control client's behavior. The DDFH may be received from the home Diameter AAA server or may be locally configured. The credit-control server may also send the DDFH in any CCA message to be used for direct debiting events compiled thereafter. The DDFH value received from the home Diameter AAA server overrides the locally configured value, and the DDFH value received from the credit-control server in a Credit-Control-Answer message always overrides any existing value.",
      "ja": "要求されたアクションがDIRECT_DEBITINGである場合、Direct-Debiting-Failure-Handling AVP（DDFH）が信用管理クライアントの動作を制御します。 DDFHは、ホームDiameter AAAサーバーから受信することも、ローカルで構成することもできます。 クレジット管理サーバーは、その後コンパイルされた口座引き落としイベントに使用されるCCAメッセージでDDFHを送信することもできます。 ホームDiameter AAAサーバーから受信したDDFH値はローカルに設定された値をオーバーライドし、Credit-Control-Answerメッセージでクレジット制御サーバーから受信したDDFH値は常に既存の値をオーバーライドします。"
    },
    {
      "indent": 3,
      "text": "If the DDFH is set to TERMINATE_OR_BUFFER, the credit-control client SHOULD NOT grant the service if it can determine, eventually after a possible re-transmission attempt to an alternative credit-control server, from the result code or error code in the answer message that units have not been debited. Otherwise, the credit-control client SHOULD grant the service to the end user and store the request in the credit-control application level non-volatile storage. (Note that re-sending the request at a later time is not a guarantee that the service will be debited, as the user's account may be empty when the server successfully processes the request.) The credit-control client MUST mark these request messages as possible duplicates by setting the T-flag in the command header as described in [DIAMBASE], section 3.",
      "ja": "DDFHがTERMINATE_OR_BUFFERに設定されている場合、クレジット制御クライアントは、最終的に代替クレジット制御サーバーへの可能な再送信試行後、応答メッセージの結果コードまたはエラーコードから判断できる場合、サービスを許可すべきではありません その単位は借方記入されていません。 それ以外の場合、クレジット管理クライアントは、エンドユーザーにサービスを許可し、クレジット管理アプリケーションレベルの不揮発性ストレージにリクエストを保存する必要があります。 （サーバーがリクエストを正常に処理するとユーザーのアカウントが空になる可能性があるため、後でリクエストを再送信してもサービスが引き落とされる保証ではないことに注意してください。） [DIAMBASE]、セクション3で説明されているように、コマンドヘッダーにTフラグを設定することにより、重複が発生する可能性があります"
    },
    {
      "indent": 3,
      "text": "If the Direct-Debiting-Failure-Handling AVP is set to CONTINUE, the service SHOULD be granted, even if credit-control messages cannot be delivered and messages are not buffered.",
      "ja": "Direct-Debiting-Failure-Handling AVPがCONTINUEに設定されている場合、クレジット制御メッセージを配信できず、メッセージがバッファリングされていない場合でも、サービスを許可する必要があります。"
    },
    {
      "indent": 3,
      "text": "If the timer Tx expires, the credit-control client MUST continue the service and wait for a possible late answer. If the request times out, the credit-control client re-transmits the request (marked with T-flag) to a backup credit-control server, if possible. If the re-transmitted request also times out, or if a temporary error is received in answer, the credit-control client buffers the request if the value of the Direct-Debiting-Failure-Handling AVP is set to TERMINATE_OR_BUFFER. If a failed answer is received for the re-transmitted request, the credit-control client frees all the resources reserved for the event message and deletes the request regardless of the value of the DDFH.",
      "ja": "タイマーTxが期限切れになった場合、クレジット管理クライアントはサービスを継続し、可能な遅延応答を待つ必要があります。 要求がタイムアウトした場合、クレジット制御クライアントは、可能であれば、要求（Tフラグでマークされた）をバックアップのクレジット制御サーバーに再送信します。 再送信されたリクエストもタイムアウトした場合、または応答で一時的なエラーが受信された場合、Direct-Debiting-Failure-Handling AVPの値がTERMINATE_OR_BUFFERに設定されている場合、クレジット制御クライアントはリクエストをバッファリングします。 再送信されたリクエストに対して失敗した回答が受信された場合、クレジット制御クライアントはイベントメッセージ用に予約されたすべてのリソースを解放し、DDFHの値に関係なくリクエストを削除します。"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Request with the requested action REFUND_ACCOUNT should always be stored in the credit-control application level non-volatile storage in case of temporary failure. The credit-control client MUST mark the re-transmitted request message as a possible duplicate by setting the T-flag in the command header as described in [DIAMBASE], section 3.",
      "ja": "一時的な障害が発生した場合、要求されたアクションREFUND_ACCOUNTを含むCredit-Control-Requestは、常にクレジット管理アプリケーションレベルの不揮発性ストレージに保存する必要があります。 クレジット制御クライアントは、[DIAMBASE]、セクション3で説明されているように、コマンドヘッダーにTフラグを設定することにより、再送信された要求メッセージを可能な重複としてマークしなければなりません。"
    },
    {
      "indent": 3,
      "text": "For stored requests, the implementation may choose to limit the number of re-transmission attempts and to define a re-transmission interval.",
      "ja": "保存されたリクエストの場合、実装は再送信の試行回数を制限し、再送信間隔を定義することを選択できます。"
    },
    {
      "indent": 3,
      "text": "Note that only one place in the credit-control system SHOULD be responsible for duplicate detection. If there is only one credit-control server within the given realm, the credit-control server may perform duplicate detection. If there is more than one credit-control server in a given realm, only one entity in the credit-control system should be responsible, to ensure that the end user's account is not debited or credited multiple times for the same service event.",
      "ja": "与信管理システムの1つの場所のみが重複検出を担当する必要があることに注意してください。 指定されたレルム内にクレジット管理サーバーが1つしかない場合、クレジット管理サーバーは重複検出を実行できます。 特定のレルムに複数のクレジット管理サーバーがある場合、同じサービスイベントに対してエンドユーザーのアカウントが複数回引き落とされたりクレジットされたりしないように、クレジット管理システムの1つのエンティティのみが責任を負う必要があります。"
    },
    {
      "indent": 0,
      "text": "7. Credit-Control Application State Machine",
      "section_title": true,
      "ja": "7.クレジット管理アプリケーションステートマシン"
    },
    {
      "indent": 3,
      "text": "This section defines the credit-control application state machine.",
      "ja": "このセクションでは、クレジット管理アプリケーションの状態マシンを定義します。"
    },
    {
      "indent": 3,
      "text": "The first four state machines are to be observed by credit-control clients. The first one describes the session-based credit-control when the first interrogation is executed as part of the authorization/authentication process. The second describes the session-based credit-control when the first interrogation is executed after the authorization/authentication process. The requirements as to what state machines have to be supported are discussed in section 5.2.",
      "ja": "最初の4つの状態マシンは、信用管理クライアントによって監視されます。 最初のものは、認可/認証プロセスの一部として最初の質問が実行されるときのセッションベースのクレジット管理を説明しています。 2番目は、認可/認証プロセスの後に最初の問い合わせが実行されるときのセッションベースのクレジット管理を説明しています。 どのステートマシンをサポートする必要があるかに関する要件については、セクション5.2で説明します。"
    },
    {
      "indent": 3,
      "text": "The third state machine describes the session-based credit-control for the intermediate and final interrogations. The fourth one describes the event-based credit-control. These latter state machines are to be observed by all implementations that conform to this specification.",
      "ja": "3番目のステートマシンは、中間および最終尋問のセッションベースのクレジット管理を記述します。 4つ目は、イベントベースの信用管理について説明しています。 これらの後者の状態マシンは、この仕様に準拠するすべての実装によって監視されます。"
    },
    {
      "indent": 3,
      "text": "The fifth state machine describes the credit-control session from a credit-control server perspective.",
      "ja": "5番目のステートマシンは、クレジット管理サーバーの観点からクレジット管理セッションを記述します。"
    },
    {
      "indent": 3,
      "text": "Any event not listed in the state machines MUST be considered an error condition, and a corresponding answer, if applicable, MUST be returned to the originator of the message.",
      "ja": "状態マシンにリストされていないイベントはすべてエラー状態と見なされなければならず、対応する回答は、該当する場合、メッセージの発信者に返されなければなりません。"
    },
    {
      "indent": 3,
      "text": "In the state table, the event 'Failure to send' means that the Diameter credit-control client is unable to communicate with the desired destination or, if failover procedure is supported, with a possibly defined alternative destination (e.g., the request times out and the answer message is not received). This could be due to the peer being down, or due to a physical link failure in the path to or from the credit-control server.",
      "ja": "状態テーブルでは、イベント「送信失敗」は、Diameterクレジット制御クライアントが目的の宛先と通信できないこと、またはフェイルオーバー手順がサポートされている場合は、定義済みの代替宛先と通信できないことを意味します（たとえば、要求がタイムアウトし、 応答メッセージは受信されません）。 これは、ピアがダウンしている、またはクレジット制御サーバーとの間のパスでの物理リンク障害が原因である可能性があります。"
    },
    {
      "indent": 3,
      "text": "The event 'Temporary error' means that the Diameter credit-control client received a protocol error notification (DIAMETER_TOO_BUSY, DIAMETER_UNABLE_TO_DELIVER, or DIAMETER_LOOP_DETECTED) in the Result-Code AVP of the Credit-Control-Answer command. The above protocol error notification may ultimately be received in answer to the re-transmitted request to a defined alternative destination, if failover is supported.",
      "ja": "イベント「一時エラー」は、Credit-Control-AnswerコマンドのResult-Code AVPでDiameterクレジット制御クライアントがプロトコルエラー通知（DIAMETER_TOO_BUSY、DIAMETER_UNABLE_TO_DELIVER、またはDIAMETER_LOOP_DETECTED）を受信したことを意味します。 フェールオーバーがサポートされている場合、上記のプロトコルエラー通知は最終的に、定義された代替宛先への再送信された要求への応答として受信される場合があります。"
    },
    {
      "indent": 3,
      "text": "The event 'Failed answer' means that the Diameter credit-control client received non-transient failure (permanent failure) notification in the Credit-Control-Answer command. The above permanent failure notification may ultimately be received in answer to the re-transmitted request to a defined alternative destination, if failover is supported.",
      "ja": "イベント「応答に失敗しました」は、Diameterクレジット管理クライアントがCredit-Control-Answerコマンドで非一時的な失敗（永続的な失敗）通知を受信したことを意味します。 フェールオーバーがサポートされている場合、上記の永続的な障害通知は、定義された代替宛先への再送信された要求への応答で最終的に受信されます。"
    },
    {
      "indent": 3,
      "text": "The action 'store request' means that a request is stored in the credit-control application level non-volatile storage.",
      "ja": "アクション「要求の保存」は、要求がクレジット制御アプリケーションレベルの不揮発性ストレージに保存されることを意味します。"
    },
    {
      "indent": 3,
      "text": "The event 'Not successfully processed' means that the credit-control server could not process the message; e.g., due to an unknown end user, account being empty, or errors defined in [DIAMBASE].",
      "ja": "イベント「正常に処理されません」は、クレジット管理サーバーがメッセージを処理できなかったことを意味します。 たとえば、不明なエンドユーザー、空のアカウント、または[DIAMBASE]で定義されたエラーが原因です。"
    },
    {
      "indent": 3,
      "text": "The event 'User service terminated' can be triggered by various reasons, e.g., normal user termination, network failure, and ASR (Abort-Session-Request). The Termination-Cause AVP contains information about the termination reason, as specified in [DIAMBASE].",
      "ja": "「ユーザーサービスが終了しました」というイベントは、さまざまな理由、たとえば、通常のユーザー終了、ネットワーク障害、ASR（Abort-Session-Request）によってトリガーできます。 Termination-Cause AVPには、[DIAMBASE]で指定されている終了理由に関する情報が含まれています。"
    },
    {
      "indent": 3,
      "text": "The Tx timer, which is used to control the waiting time in the credit-control client in the Pending state, is stopped upon exit of the Pending state. The stopping of the Tx timer is omitted in the state machine when the new state is Idle, as moving to Idle state implies the clearing of the session and all the variables associated to it.",
      "ja": "Txタイマーは、保留状態のクレジット制御クライアントで待機時間を制御するために使用され、保留状態が終了すると停止します。 アイドル状態に移行するとセッションとそれに関連するすべての変数がクリアされるため、新しい状態がアイドルの場合、ステートマシンではTxタイマーの停止は省略されます。"
    },
    {
      "indent": 3,
      "text": "The states PendingI, PendingU, PendingT, PendingE, and PendingB stand for pending states to wait for an answer to a credit-control request related to Initial, Update, Termination, Event, or Buffered request, respectively.",
      "ja": "状態PendingI、PendingU、PendingT、PendingE、およびPendingBは、それぞれ初期、更新、終了、イベント、またはバッファリングされた要求に関連するクレジット制御要求への応答を待機する保留状態を表します。"
    },
    {
      "indent": 3,
      "text": "The acronyms CCFH and DDFH stand for Credit-Control-Failure-Handling and Direct-Debiting-Failure-Handling, respectively.",
      "ja": "頭字語CCFHおよびDDFHは、それぞれCredit-Control-Failure-HandlingおよびDirect-Debiting-Failure-Handlingを表します。"
    },
    {
      "indent": 3,
      "text": "In the following state machine table, the failover to a secondary server upon 'Temporary error' or 'Failure to send' is not explicitly described. Moving an ongoing credit-control message stream to an alternative server is, however, possible if the CC-Session-Failover AVP is set to FAILOVER_SUPPORTED, as described in section 5.7.",
      "ja": "次のステートマシンテーブルでは、「一時的なエラー」または「送信の失敗」時のセカンダリサーバーへのフェールオーバーは明示的に説明されていません。 ただし、セクション5.7で説明されているように、CC-Session-Failover AVPがFAILOVER_SUPPORTEDに設定されている場合、進行中のクレジット制御メッセージストリームを代替サーバーに移動することは可能です。"
    },
    {
      "indent": 3,
      "text": "Re-sending a credit-control event to an alternative server is supported as described in section 6.5.",
      "ja": "セクション6.5で説明されているように、代替サーバーへのクレジット制御イベントの再送信がサポートされています。"
    },
    {
      "indent": 3,
      "text": "CLIENT, SESSION BASED for the first interrogation with AA request",
      "ja": "クライアント、セッションベース、AAリクエストによる最初の尋問"
    },
    {
      "indent": 4,
      "text": "State      Event                         Action       New State\n---------------------------------------------------------------\nIdle       Client or device requests     Send          PendingI\n           access/service                AA request\n                                         with added\n                                         CC AVPs,\n                                         start Tx",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "PendingI Successful AA req. Grant Open answer received service to end user, stop Tx",
      "ja": "PendingI成功したAA要求 エンドユーザーに受信したオープン回答サービスを付与し、Txを停止します"
    },
    {
      "indent": 4,
      "text": "PendingI Tx expired Disconnect Idle user/dev",
      "ja": "PendingI Txが期限切れになった切断アイドルユーザー/開発者"
    },
    {
      "indent": 4,
      "text": "PendingI Failed AA answer received Disconnect Idle user/dev",
      "ja": "PendingI失敗したAA応答を受信しました切断アイドルユーザー/開発者"
    },
    {
      "indent": 4,
      "text": "PendingI AA answer Grant Idle received with result code service equal to CREDIT_CONTROL_ to end user NOT_APPLICABLE",
      "ja": "PendingI AA回答エンドユーザーNOT_APPLICABLEにCREDIT_CONTROL_に等しい結果コードサービスで付与アイドルを受信しました"
    },
    {
      "indent": 4,
      "text": "PendingI User service terminated Queue PendingI termination event",
      "ja": "PendingIユーザーサービスはキューPendingI終了イベントを終了しました"
    },
    {
      "indent": 4,
      "text": "PendingI Change in rating condition Queue PendingI changed rating condition event",
      "ja": "PendingI評価条件キューの変更PendingI変更評価条件イベント"
    },
    {
      "indent": 6,
      "text": "CLIENT, SESSION BASED for the first interrogation with CCR",
      "ja": "クライアント、セッションベース、CCRによる最初の尋問"
    },
    {
      "indent": 4,
      "text": "State      Event                          Action       New State\n----------------------------------------------------------------",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Idle Client or device requests Send PendingI access/service CC initial req., start Tx",
      "ja": "アイドル状態のクライアントまたはデバイスリクエストPendingIアクセス/サービスCCの初期要求の送信、Txの開始"
    },
    {
      "indent": 4,
      "text": "PendingI Successful CC initial Stop Tx Open answer received",
      "ja": "PendingI成功したCC初期停止Txオープン応答を受信しました"
    },
    {
      "indent": 4,
      "text": "PendingI Failure to send, or Grant Idle temporary error and service to CCFH equal to CONTINUE end user",
      "ja": "PendingI送信の失敗、またはCONTINUEエンドユーザーと等しいCCFHへの一時的なエラーとサービスの付与"
    },
    {
      "indent": 4,
      "text": "PendingI Failure to send, or Terminate Idle temporary error and end user's CCFH equal to TERMINATE service or to RETRY_AND_TERMINATE",
      "ja": "PendingI送信失敗、またはアイドル状態の一時的エラーの終了、およびTERMINATEサービスまたはRETRY_AND_TERMINATEに等しいエンドユーザーのCCFH"
    },
    {
      "indent": 4,
      "text": "PendingI Tx expired and CCFH Terminate Idle equal to TERMINATE end user's service",
      "ja": "PendingI Txが期限切れになり、CCFH Terminate IdleがTERMINATEエンドユーザーのサービスと等しくなりました"
    },
    {
      "indent": 4,
      "text": "PendingI Tx expired and CCFH equal Grant PendingI to CONTINUE or to service to RETRY_AND_TERMINATE end user",
      "ja": "PendingI Txが期限切れで、CCFHがCONTINUEまたはRETRY_AND_TERMINATEエンドユーザーへのサービスへのPendingIの付与に等しい"
    },
    {
      "indent": 4,
      "text": "PendingI CC initial answer Terminate Idle received with result code end user's END_USER_SERVICE_DENIED or service USER_UNKNOWN",
      "ja": "PendingI CCの初期回答結果コードエンドユーザーのEND_USER_SERVICE_DENIEDまたはサービスUSER_UNKNOWNでアイドル状態を受信しました"
    },
    {
      "indent": 4,
      "text": "PendingI CC initial answer Grant Idle received with result code service equal to CREDIT_CONTROL_ to end user NOT_APPLICABLE",
      "ja": "PendingI CC初期応答CREDIT_CONTROL_に等しい結果コードサービスでエンドユーザーNOT_APPLICABLEに付与されたグラントアイドルを受信しました"
    },
    {
      "indent": 4,
      "text": "PendingI Failed CC initial answer Grant Idle received and CCFH equal to service to CONTINUE end user",
      "ja": "PendingI失敗したCCの初期応答Grant Idleを受信し、CCFHがCONTINUEエンドユーザーへのサービスに等しい"
    },
    {
      "indent": 4,
      "text": "PendingI Failed CC initial answer Terminate Idle received and CCFH equal end user's to TERMINATE or to service RETRY_AND_TERMINATE",
      "ja": "PendingI CCの初期応答に失敗しました。TerminateIdleを受信し、CCFHはエンドユーザーのTERMINATEまたはサービスRETRY_AND_TERMINATEと同等です。"
    },
    {
      "indent": 4,
      "text": "PendingI User service terminated Queue PendingI termination event",
      "ja": "PendingIユーザーサービスはキューPendingI終了イベントを終了しました"
    },
    {
      "indent": 4,
      "text": "PendingI Change in rating condition Queue PendingI changed rating condition event",
      "ja": "PendingI評価条件キューの変更PendingI変更評価条件イベント"
    },
    {
      "indent": 5,
      "text": "CLIENT, SESSION BASED for intermediate and final interrogations",
      "ja": "中間および最終尋問のためのクライアント、セッションベース"
    },
    {
      "indent": 4,
      "text": "State     Event                          Action       New State\n----------------------------------------------------------------",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Open Granted unit elapses Send PendingU and no final unit CC update indication received req., start Tx",
      "ja": "Open GrantedユニットがSend PendingUを経過し、最終ユニットCC更新指示が受信されなかった場合、Txを開始"
    },
    {
      "indent": 4,
      "text": "Open Granted unit elapses Terminate PendingT and final unit action end user's equal to TERMINATE service, send received CC termination req.",
      "ja": "Open GrantedユニットはTerminate PendingTを経過し、エンドユニットのTERMINATEサービスに等しいエンドユーザーアクションを受信し、受信したCC終了要求を送信します。"
    },
    {
      "indent": 4,
      "text": "Open Change in rating condition Send PendingU in queue CC update req., Start Tx",
      "ja": "オープンレーティング条件の変更キューCC更新要求でPendingUを送信、送信を開始"
    },
    {
      "indent": 4,
      "text": "Open Service terminated in queue Send PendingT CC termination req.",
      "ja": "オープンサービスはキューで終了しましたPendingT CCの終了要求を送信します。"
    },
    {
      "indent": 4,
      "text": "Open Change in rating condition Send PendingU or Validity-Time elapses CC update req., Start Tx",
      "ja": "オープンレーティング条件の変更PendingUまたはValidity-Timeの送信CC更新要求、Txの開始"
    },
    {
      "indent": 4,
      "text": "Open User service terminated Send PendingT CC termination req.",
      "ja": "Open Userサービスが終了しましたPendingT CCを送信する必要があります。"
    },
    {
      "indent": 4,
      "text": "Open RAR received Send RAA PendingU followed by CC update req., start Tx",
      "ja": "オープンRARが受信したRAA PendingUを送信し、続いてCCアップデートが必要、Txを開始"
    },
    {
      "indent": 4,
      "text": "PendingU Successful CC update Stop Tx Open answer received",
      "ja": "PendingU CCの更新に成功しました"
    },
    {
      "indent": 4,
      "text": "PendingU Failure to send, or Grant Idle temporary error and service to CCFH equal to CONTINUE end user",
      "ja": "PendingUの送信に失敗、またはCONTINUEエンドユーザーと等しいCCFHへの一時的なエラーとサービスの付与"
    },
    {
      "indent": 4,
      "text": "PendingU Failure to send, or Terminate Idle temporary error and end user's CCFH equal to TERMINATE service or to RETRY_AND_TERMINATE",
      "ja": "PendingU送信の失敗、またはアイドル一時エラーの終了、およびTERMINATEサービスまたはRETRY_AND_TERMINATEに等しいエンドユーザーのCCFH"
    },
    {
      "indent": 4,
      "text": "PendingU Tx expired and CCFH Terminate Idle equal to TERMINATE end user's service",
      "ja": "PendingU Txが期限切れになり、CCFH Terminate IdleがTERMINATEエンドユーザーのサービスと同等"
    },
    {
      "indent": 4,
      "text": "PendingU Tx expired and CCFH equal Grant PendingU to CONTINUE or to service to RETRY_AND_TERMINATE end user",
      "ja": "PendingU Txが期限切れで、CCFHがCONTINUEまたはRETRY_AND_TERMINATEエンドユーザーへのサービスへのPendingUの付与に等しい"
    },
    {
      "indent": 4,
      "text": "PendingU CC update answer Terminate Idle received with result code end user's END_USER_SERVICE_DENIED service",
      "ja": "PendingU CC update answer終了アイドルを受信し、結果コードエンドユーザーのEND_USER_SERVICE_DENIEDサービスで受信しました"
    },
    {
      "indent": 4,
      "text": "PendingU CC update answer Grant Idle received with result code service equal to CREDIT_CONTROL_ to end user NOT_APPLICABLE",
      "ja": "PendingU CC更新の回答CREDIT_CONTROL_に等しい結果コードサービスでエンドユーザーNOT_APPLICABLEにグラントアイドルを受信しました"
    },
    {
      "indent": 4,
      "text": "PendingU Failed CC update Grant Idle answer received and service to CCFH equal to CONTINUE end user",
      "ja": "PendingU Failed CC update Grant Idleアンサーが受信され、CONTINUEエンドユーザーに等しいCCFHへのサービス"
    },
    {
      "indent": 4,
      "text": "PendingU Failed CC update Terminate Idle answer received and CCFH end user's equal to TERMINATE or service to RETRY_AND_TERMINATE",
      "ja": "PendingU CCの更新に失敗しました。TerminateIdle応答を受信し、CCFHエンドユーザーはTERMINATEに等しいか、RETRY_AND_TERMINATEにサービスします。"
    },
    {
      "indent": 4,
      "text": "PendingU User service terminated Queue PendingU termination event",
      "ja": "PendingUユーザーサービスはキューPendingU終了イベントを終了しました"
    },
    {
      "indent": 4,
      "text": "PendingU Change in rating Queue PendingU condition changed rating condition event",
      "ja": "PendingU評価キューの変更PendingU条件変更評価条件イベント"
    },
    {
      "indent": 4,
      "text": "PendingU RAR received Send RAA PendingU",
      "ja": "PendingU RARを受信しましたRAA PendingUを送信します"
    },
    {
      "indent": 4,
      "text": "PendingT Successful CC Idle termination answer received",
      "ja": "PendingT成功したCCアイドル終了応答を受信しました"
    },
    {
      "indent": 4,
      "text": "PendingT Failure to send, temporary Idle error, or failed answer",
      "ja": "PendingT送信の失敗、一時的なアイドルエラー、または応答の失敗"
    },
    {
      "indent": 4,
      "text": "PendingT Change in rating condition PendingT",
      "ja": "保留中の評価条件の変更保留中"
    },
    {
      "indent": 23,
      "text": "CLIENT, EVENT BASED",
      "ja": "クライアント、イベントベース"
    },
    {
      "indent": 4,
      "text": "State     Event                          Action        New State\n----------------------------------------------------------------\nIdle      Client or device requests      Send          PendingE\n          a one-time service             CC event\n                                         req.,\n                                         Start Tx",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Idle Request in storage Send PendingB stored request",
      "ja": "ストレージ内のアイドルリクエスト"
    },
    {
      "indent": 4,
      "text": "PendingE Successful CC event Grant Idle answer received service to end user",
      "ja": "PendingE CCイベントの成功エンドユーザーへのアイドル応答の受信サービスの受信"
    },
    {
      "indent": 4,
      "text": "PendingE Failure to send, temporary Indicate Idle error, failed CC event service answer received, or error Tx expired; requested action CHECK_BALANCE or PRICE_ENQUIRY",
      "ja": "PendingE送信失敗、一時的なアイドル表示エラー、CCイベントサービス応答の受信失敗、またはエラーTxの期限切れ。 要求されたアクションCHECK_BALANCEまたはPRICE_ENQUIRY"
    },
    {
      "indent": 4,
      "text": "PendingE CC event answer Terminate Idle received with result code end user's END_USER_SERVICE_DENIED or service USER_UNKNOWN and Tx running",
      "ja": "PendingE CCイベント回答結果コードエンドユーザーのEND_USER_SERVICE_DENIEDまたはサービスUSER_UNKNOWNおよびTxが実行されている状態で、アイドル状態を受信しました"
    },
    {
      "indent": 4,
      "text": "PendingE CC event answer Grant Idle received with result code service CREDIT_CONTROL_NOT_APPLICABLE; to end requested action user DIRECT_DEBITING",
      "ja": "PendingE CC event answer Grant Idleが結果コードサービスCREDIT_CONTROL_NOT_APPLICABLEで受信されました。 要求されたアクションユーザーDIRECT_DEBITINGを終了する"
    },
    {
      "indent": 4,
      "text": "PendingE Failure to send, temporary Grant Idle error, or failed CC event service answer received; requested to end action DIRECT_DEBITING; user DDFH equal to CONTINUE",
      "ja": "PendingE送信の失敗、一時的なGrant Idleエラー、または失敗したCCイベントサービス応答の受信。 アクションDIRECT_DEBITINGの終了が要求されました。 CONTINUEに等しいユーザーDDFH"
    },
    {
      "indent": 4,
      "text": "PendingE Failed CC event Terminate Idle answer received or temporary end user's error; requested action service DIRECT_DEBITING; DDFH equal to TERMINATE_OR_BUFFER and Tx running",
      "ja": "PendingE Failed CC event Terminate Idle answer receivedまたはtemporary end user's error; 要求されたアクションサービスDIRECT_DEBITING; TERMINATE_OR_BUFFERに等しいDDFHおよびTx実行中"
    },
    {
      "indent": 4,
      "text": "PendingE Tx expired; requested Grant PendingE action DIRECT_DEBITING service to end user",
      "ja": "PendingE Txの有効期限が切れました。 エンドユーザーにPendingEアクション付与DIRECT_DEBITINGサービスを要求しました"
    },
    {
      "indent": 4,
      "text": "PendingE Failure to send; requested Store Idle action DIRECT_DEBITING; request with DDFH equal to T-flag TERMINATE_OR_BUFFER",
      "ja": "PendingE送信の失敗。 Store IdleアクションDIRECT_DEBITINGを要求しました。 TフラグTERMINATE_OR_BUFFERに等しいDDFHの要求"
    },
    {
      "indent": 4,
      "text": "PendingE Temporary error; requested Store Idle action DIRECT_DEBITING; request DDFH equal to TERMINATE_OR_BUFFER; Tx expired",
      "ja": "PendingE一時的なエラー。 Store IdleアクションDIRECT_DEBITINGを要求しました。 TERMINATE_OR_BUFFERと等しいDDFHを要求します。 送信期限が切れました"
    },
    {
      "indent": 4,
      "text": "PendingE Failed answer or answer Idle received with result code END_USER_SERVICE DENIED or USER_UNKNOWN; requested action DIRECT_DEBITING; Tx expired",
      "ja": "PendingE失敗した応答または応答コードがEND_USER_SERVICE DENIEDまたはUSER_UNKNOWNで受信されたアイドル。 要求されたアクションDIRECT_DEBITING; 送信期限が切れました"
    },
    {
      "indent": 4,
      "text": "PendingE Failed CC event answer Indicate Idle received; requested service action REFUND_ACCOUNT error and delete request",
      "ja": "PendingE失敗したCCイベントの回答 要求されたサービスアクションREFUND_ACCOUNTエラーおよび削除要求"
    },
    {
      "indent": 4,
      "text": "PendingE Failure to send or Store Idle Tx expired; requested request action REFUND_ACCOUNT with T-flag",
      "ja": "PendingEアイドルTxの送信または保存に失敗しました。 Tフラグ付きのリクエストアクションREFUND_ACCOUNT"
    },
    {
      "indent": 4,
      "text": "PendingE Temporary error, Store Idle and requested action request REFUND_ACCOUNT",
      "ja": "PendingE一時エラー、アイドル状態の保存および要求されたアクションリクエストREFUND_ACCOUNT"
    },
    {
      "indent": 4,
      "text": "PendingB Successful CC answer Delete Idle received request",
      "ja": "PendingB CCの成功した応答アイドル状態の削除要求の受信"
    },
    {
      "indent": 4,
      "text": "PendingB Failed CC answer Delete Idle received request",
      "ja": "PendingB Failed CC answer Delete Idle received request"
    },
    {
      "indent": 4,
      "text": "PendingB Failure to send or Idle temporary error",
      "ja": "PendingB送信失敗またはアイドル一時エラー"
    },
    {
      "indent": 19,
      "text": "SERVER, SESSION AND EVENT BASED",
      "ja": "サーバー、セッション、イベントベース"
    },
    {
      "indent": 4,
      "text": "State     Event                          Action        New State\n----------------------------------------------------------------",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 4,
      "text": "Idle CC initial request Send Open received and successfully CC initial processed answer, reserve units, start Tcc",
      "ja": "アイドルCC初期要求送信オープンを受信し、CC初期処理済み応答、正常にユニットを予約、Tccを開始"
    },
    {
      "indent": 4,
      "text": "Idle CC initial request Send Idle received but not CC initial successfully processed answer with Result-Code != SUCCESS",
      "ja": "アイドルCCの最初の要求Send Idleが受信されましたが、結果コード！= SUCCESSでCCの初期処理が正常に処理されていません"
    },
    {
      "indent": 4,
      "text": "Idle CC event request Send Idle received and successfully CC event processed answer",
      "ja": "アイドルCCイベントリクエストアイドル送信を受信し、CCイベントが正常に処理されました"
    },
    {
      "indent": 4,
      "text": "Idle CC event request Send Idle received but not CC event successfully processed answer with Result-Code != SUCCESS",
      "ja": "アイドルCCイベント要求Send Idleが受信されましたが、CCイベントが正常に処理されなかった結果コード！= SUCCESSの応答"
    },
    {
      "indent": 4,
      "text": "Open CC update request Send CC Open received and successfully update answer, processed debit used units, reserve new units, restart Tcc",
      "ja": "オープンCC更新リクエスト"
    },
    {
      "indent": 4,
      "text": "Open CC update request Send Idle received but not CC update successfully processed answer with Result-Code != SUCCESS, debit used units",
      "ja": "Open CC更新要求Send Idleが受信されましたが、CC更新が正常に処理されなかった結果コード！= SUCCESS、借方使用単位"
    },
    {
      "indent": 4,
      "text": "Open CC termination request Send Idle received and successfully CC termin. processed answer, Stop Tcc, debit used units",
      "ja": "CC終了要求を送信し、アイドル送信を受信し、CC終了に成功しました。 処理済み回答、Tccの停止、使用ユニットの借方記入"
    },
    {
      "indent": 4,
      "text": "Open CC termination request Send Idle received but not CC termin. successfully processed answer with Result-Code != SUCCESS, debit used units",
      "ja": "オープンCC終了要求のアイドル送信を受信しましたが、CC終了は受信していません。 Result-Code！= SUCCESS、借方単位を使用した回答の処理に成功しました"
    },
    {
      "indent": 4,
      "text": "Open Session supervision timer Tcc Release Idle expired reserved units",
      "ja": "オープンセッション監視タイマーTccリリースアイドル期限切れ予約ユニット"
    },
    {
      "indent": 0,
      "text": "8. Credit-Control AVPs",
      "section_title": true,
      "ja": "8.クレジット管理AVP"
    },
    {
      "indent": 3,
      "text": "This section defines the credit-control AVPs that are specific to Diameter credit-control application and that MAY be included in the Diameter credit-control messages.",
      "ja": "このセクションでは、Diameterクレジット管理アプリケーションに固有のクレジット管理AVPを定義し、Diameterクレジット管理メッセージに含めることができます（MAY）。"
    },
    {
      "indent": 3,
      "text": "The AVPs defined in this section MAY also be included in authorization commands defined in authorization-specific applications, such as [NASREQ] and [DIAMMIP], if the first interrogation is performed as part of the authorization/authentication process, as described in section 5.2.",
      "ja": "このセクションで定義されたAVPは、セクション5.2で説明されているように、最初の問い合わせが許可/認証プロセスの一部として実行される場合、[NASREQ]や[DIAMMIP]などの許可固有のアプリケーションで定義された許可コマンドにも含めることができます（MAY） 。"
    },
    {
      "indent": 3,
      "text": "The Diameter AVP rules are defined in the Diameter Base [DIAMBASE], section 4. These AVP rules are observed in AVPs defined in this section.",
      "ja": "Diameter AVPルールは、Diameter Base [DIAMBASE]、セクション4で定義されています。これらのAVPルールは、このセクションで定義されているAVPで観察されます。"
    },
    {
      "indent": 3,
      "text": "The following table describes the Diameter AVPs defined in the credit-control application, their AVP Code values, types, possible flag values, and whether the AVP MAY be encrypted. The Diameter base [DIAMBASE] specifies the AVP Flag rules for AVPs in section 4.5.",
      "ja": "次の表は、与信管理アプリケーションで定義されているDiameter AVP、そのAVPコード値、タイプ、可能なフラグ値、およびAVPを暗号化できるかどうかを示しています。 Diameterベース[DIAMBASE]は、セクション4.5のAVPのAVPフラグルールを指定します。"
    },
    {
      "indent": 3,
      "text": "                                         +--------------------+\n                                         |    AVP Flag rules  |\n                                         |----+-----+----+----|----+\n                  AVP  Section           |    |     |SHLD|MUST|    |\nAttribute Name    Code Defined Data Type |MUST| MAY | NOT|NOT |Encr|\n-----------------------------------------|----+-----+----+----|----|\nCC-Correlation-Id 411  8.1    OctetString|    | P,M |    |  V | Y  |\nCC-Input-Octets   412  8.24   Unsigned64 | M  |  P  |    |  V | Y  |\nCC-Money          413  8.22   Grouped    | M  |  P  |    |  V | Y  |\nCC-Output-Octets  414  8.25   Unsigned64 | M  |  P  |    |  V | Y  |\nCC-Request-Number 415  8.2    Unsigned32 | M  |  P  |    |  V | Y  |\nCC-Request-Type   416  8.3    Enumerated | M  |  P  |    |  V | Y  |\nCC-Service-       417  8.26   Unsigned64 | M  |  P  |    |  V | Y  |\n  Specific-Units                         |    |     |    |    |    |\nCC-Session-       418  8.4    Enumerated | M  |  P  |    |  V | Y  |\n  Failover                               |    |     |    |    |    |\nCC-Sub-Session-Id 419  8.5    Unsigned64 | M  |  P  |    |  V | Y  |\nCC-Time           420  8.21   Unsigned32 | M  |  P  |    |  V | Y  |\nCC-Total-Octets   421  8.23   Unsigned64 | M  |  P  |    |  V | Y  |\nCC-Unit-Type      454  8.32   Enumerated | M  |  P  |    |  V | Y  |\nCheck-Balance-    422  8.6    Enumerated | M  |  P  |    |  V | Y  |\n  Result                                 |    |     |    |    |    |\nCost-Information  423  8.7    Grouped    | M  |  P  |    |  V | Y  |\nCost-Unit         424  8.12   UTF8String | M  |  P  |    |  V | Y  |\nCredit-Control    426  8.13   Enumerated | M  |  P  |    |  V | Y  |\nCredit-Control-   427  8.14   Enumerated | M  |  P  |    |  V | Y  |\n  Failure-Handling                       |    |     |    |    |    |\nCurrency-Code     425  8.11   Unsigned32 | M  |  P  |    |  V | Y  |\nDirect-Debiting-  428  8.15   Enumerated | M  |  P  |    |  V | Y  |\n  Failure-Handling                       |    |     |    |    |    |\nExponent          429  8.9    Integer32  | M  |  P  |    |  V | Y  |\nFinal-Unit-Action 449  8.35   Enumerated | M  |  P  |    |  V | Y  |\nFinal-Unit-       430  8.34   Grouped    | M  |  P  |    |  V | Y  |\n  Indication                             |    |     |    |    |    |\nGranted-Service-  431  8.17   Grouped    | M  |  P  |    |  V | Y  |\n  Unit                                   |    |     |    |    |    |\nG-S-U-Pool-       453  8.31   Unsigned32 | M  |  P  |    |  V | Y  |\n  Identifier                             |    |     |    |    |    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "G-S-U-Pool- 457 8.30 Grouped | M | P | | V | Y | Reference | | | | | | Multiple-Services 456 8.16 Grouped | M | P | | V | Y | -Credit-Control | | | | | | Multiple-Services 455 8.40 Enumerated | M | P | | V | Y | -Indicator | | | | | | Rating-Group 432 8.29 Unsigned32 | M | P | | V | Y | Redirect-Address 433 8.38 Enumerated | M | P | | V | Y | -Type | | | | | | Redirect-Server 434 8.37 Grouped | M | P | | V | Y | Redirect-Server 435 8.39 UTF8String | M | P | | V | Y | -Address | | | | | | Requested-Action 436 8.41 Enumerated | M | P | | V | Y | Requested-Service 437 8.18 Grouped | M | P | | V | Y | -Unit | | | | | | Restriction 438 8.36 IPFiltrRule| M | P | | V | Y | -Filter-Rule | | | | | | Service-Context 461 8.42 UTF8String | M | P | | V | Y | -Id | | | | | | Service- 439 8.28 Unsigned32 | M | P | | V | Y | Identifier | | | | | | Service-Parameter 440 8.43 Grouped | | P,M | | V | Y | -Info | | | | | | Service- 441 8.44 Unsigned32 | | P,M | | V | Y | Parameter-Type | | | | | | Service- 442 8.45 OctetString| | P,M | | V | Y | Parameter-Value | | | | | | Subscription-Id 443 8.46 Grouped | M | P | | V | Y | Subscription-Id 444 8.48 UTF8String | M | P | | V | Y | -Data | | | | | | Subscription-Id 450 8.47 Enumerated | M | P | | V | Y | -Type | | | | | | Tariff-Change 452 8.27 Enumerated | M | P | | V | Y | -Usage | | | | | | Tariff-Time 451 8.20 Time | M | P | | V | Y | -Change | | | | | | Unit-Value 445 8.8 Grouped | M | P | | V | Y | Used-Service-Unit 446 8.19 Grouped | M | P | | V | Y | User-Equipment 458 8.49 Grouped | | P,M | | V | Y | -Info | | | | | | User-Equipment 459 8.50 Enumerated | | P,M | | V | Y | -Info-Type | | | | | | User-Equipment 460 8.51 OctetString| | P,M | | V | Y | -Info-Value | | | | | | Value-Digits 447 8.10 Integer64 | M | P | | V | Y | Validity-Time 448 8.33 Unsigned32 | M | P | | V | Y |",
      "ja": "G-S-U-Pool- 457 8.30グループ化| M | P | | V | Y |参照| | | | | |複数サービス456 8.16グループ化| M | P | | V | Y | -クレジットコントロール| | | | | |複数サービス455 8.40列挙| M | P | | V | Y | -インジケータ| | | | | |評価グループ432 8.29 Unsigned32 | M | P | | V | Y | Redirect-Address 433 8.38列挙型| M | P | | V | Y | -タイプ| | | | | |リダイレクトサーバー434 8.37グループ化| M | P | | V | Y |リダイレクトサーバー435 8.39 UTF8String | M | P | | V | Y | -住所| | | | | |要求されたアクション436 8.41列挙| M | P | | V | Y | Requested-Service 437 8.18グループ化| M | P | | V | Y | -ユニット| | | | | |制限438 8.36 IPFiltrRule | M | P | | V | Y | -フィルタールール| | | | | |サービスコンテキスト461 8.42 UTF8String | M | P | | V | Y | -Id | | | | | |サービス-439 8.28 Unsigned32 | M | P | | V | Y |識別子| | | | | |サービスパラメータ440 8.43グループ化| | P、M | | V | Y | -情報| | | | | |サービス-441 8.44 Unsigned32 | | P、M | | V | Y |パラメータタイプ| | | | | |サービス-442 8.45 OctetString | | P、M | | V | Y |パラメータ値| | | | | | Subscription-Id 443 8.46グループ化| M | P | | V | Y | Subscription-Id 444 8.48 UTF8String | M | P | | V | Y | -データ| | | | | | Subscription-Id 450 8.47列挙| M | P | | V | Y | -タイプ| | | | | |関税変更452 8.27列挙| M | P | | V | Y | -使用法| | | | | |タリフタイム451 8.20時間| M | P | | V | Y | -変更| | | | | | Unit-Value 445 8.8グループ化| M | P | | V | Y |使用済みサービスユニット446 8.19グループ化| M | P | | V | Y |ユーザー機器458 8.49グループ化| | P、M | | V | Y | -情報| | | | | |ユーザー機器459 8.50列挙型| | P、M | | V | Y | -Info-Type | | | | | |ユーザー機器460 8.51 OctetString | | P、M | | V | Y | -Info-Value | | | | | | Value-Digits 447 8.10 Integer64 | M | P | | V | Y |有効期間448 8.33 Unsigned32 | M | P | | V | Y |"
    },
    {
      "indent": 0,
      "text": "8.1. CC-Correlation-Id AVP",
      "section_title": true,
      "ja": "8.1。 CC-Correlation-Id AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Correlation-Id AVP (AVP Code 411) is of type OctetString and contains information to correlate credit-control requests generated for different components of the service; e.g., transport and service level. The one who allocates the Service-Context-Id (i.e., unique identifier of a service specific document) is also responsible for defining the content and encoding of the CC-Correlation-Id AVP.",
      "ja": "CC-Correlation-Id AVP（AVPコード411）はOctetStringタイプで、サービスのさまざまなコンポーネントに対して生成されたクレジット制御要求を相関させるための情報が含まれています。 例：トランスポートおよびサービスレベル。 Service-Context-Id（つまり、サービス固有のドキュメントの一意の識別子）を割り当てる人も、CC-Correlation-Id AVPのコンテンツとエンコードを定義する責任があります。"
    },
    {
      "indent": 0,
      "text": "8.2. CC-Request-Number AVP",
      "section_title": true,
      "ja": "8.2。 CC-Request-Number AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Request-Number AVP (AVP Code 415) is of type Unsigned32 and identifies this request within one session. As Session-Id AVPs are globally unique, the combination of Session-Id and CC-Request-Number AVPs is also globally unique and can be used in matching credit-control messages with confirmations. An easy way to produce unique numbers is to set the value to 0 for a credit-control request of type INITIAL_REQUEST and EVENT_REQUEST and to set the value to 1 for the first UPDATE_REQUEST, to 2 for the second, and so on until the value for TERMINATION_REQUEST is one more than for the last UPDATE_REQUEST.",
      "ja": "CC-Request-Number AVP（AVPコード415）はUnsigned32タイプであり、1つのセッション内でこの要求を識別します。 Session-Id AVPはグローバルに一意であるため、Session-IdおよびCC-Request-Number AVPの組み合わせもグローバルに一意であり、クレジット制御メッセージと確認の照合に使用できます。 一意の番号を生成する簡単な方法は、タイプINITIAL_REQUESTおよびEVENT_REQUESTのクレジット制御要求の値を0に設定し、最初のUPDATE_REQUESTの値を1に設定し、2番目の値を2に設定することです。 TERMINATION_REQUESTは、最後のUPDATE_REQUESTよりも1つ多くなります。"
    },
    {
      "indent": 0,
      "text": "8.3. CC-Request-Type AVP",
      "section_title": true,
      "ja": "8.3。 CC-Request-Type AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Request-Type AVP (AVP Code 416) is of type Enumerated and contains the reason for sending the credit-control request message. It MUST be present in all Credit-Control-Request messages. The following values are defined for the CC-Request-Type AVP:",
      "ja": "CC-Request-Type AVP（AVP Code 416）は列挙型で、クレジット制御要求メッセージを送信する理由が含まれています。 すべてのCredit-Control-Requestメッセージに存在する必要があります。 CC-Request-Type AVPには次の値が定義されています。"
    },
    {
      "indent": 3,
      "text": "INITIAL_REQUEST 1 An Initial request is used to initiate a credit-control session, and contains credit control information that is relevant to the initiation.",
      "ja": "INITIAL_REQUEST 1初期要求は、クレジット管理セッションを開始するために使用され、開始に関連するクレジット管理情報を含みます。"
    },
    {
      "indent": 3,
      "text": "UPDATE_REQUEST 2 An Update request contains credit-control information for an existing credit-control session. Update credit-control requests SHOULD be sent every time a credit-control re-authorization is needed at the expiry of the allocated quota or validity time. Further, additional service-specific events MAY trigger a spontaneous Update request.",
      "ja": "UPDATE_REQUEST 2更新リクエストには、既存のクレジット管理セッションのクレジット管理情報が含まれます。 割り当てられたクォータまたは有効期限の満了時にクレジット管理の再承認が必要になるたびに、クレジット管理の更新リクエストを送信する必要があります。 さらに、追加のサービス固有のイベントが自発的な更新要求をトリガーする場合があります。"
    },
    {
      "indent": 3,
      "text": "TERMINATION_REQUEST 3 A Termination request is sent to terminate a credit-control session and contains credit-control information relevant to the existing session.",
      "ja": "TERMINATION_REQUEST 3クレジット管理セッションを終了するために終了要求が送信され、既存のセッションに関連するクレジット管理情報が含まれます。"
    },
    {
      "indent": 3,
      "text": "EVENT_REQUEST 4 An Event request is used when there is no need to maintain any credit-control session state in the credit-control server. This request contains all information relevant to the service, and is the only request of the service. The reason for the Event request is further detailed in the Requested-Action AVP. The Requested-Action AVP MUST be included in the Credit-Control-Request message when CC-Request-Type is set to EVENT_REQUEST.",
      "ja": "EVENT_REQUEST 4クレジット制御サーバーでクレジット制御セッション状態を維持する必要がない場合、イベント要求が使用されます。 このリクエストには、サービスに関連するすべての情報が含まれており、サービスの唯一のリクエストです。 イベントリクエストの理由は、Requested-Action AVPでさらに詳しく説明されています。 CC-Request-TypeがEVENT_REQUESTに設定されている場合、Requested-Action AVPをCredit-Control-Requestメッセージに含める必要があります。"
    },
    {
      "indent": 0,
      "text": "8.4. CC-Session-Failover AVP",
      "section_title": true,
      "ja": "8.4。 CC-Session-Failover AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Session-Failover AVP (AVP Code 418) is type of Enumerated and contains information as to whether moving the credit-control message stream to a backup server during an ongoing credit-control session is supported. In communication failures, the credit-control message streams can be moved to an alternative destination if the credit-control server supports failover to an alternative server. The secondary credit-control server name, if received from the home Diameter AAA server, can be used as an address of the backup server. An implementation is not required to support moving a credit-control message stream to an alternative server, as this also requires moving information related to the credit-control session to backup server.",
      "ja": "CC-Session-Failover AVP（AVP Code 418）は列挙型であり、進行中のクレジット制御セッション中にクレジット制御メッセージストリームをバックアップサーバーに移動することがサポートされているかどうかに関する情報が含まれています。 通信障害の場合、クレジット制御サーバーが代替サーバーへのフェイルオーバーをサポートしていれば、クレジット制御メッセージストリームを代替宛先に移動できます。 ホームDiameter AAAサーバーから受信した場合、セカンダリクレジット制御サーバー名は、バックアップサーバーのアドレスとして使用できます。 実装では、クレジット制御メッセージストリームの代替サーバーへの移動をサポートする必要はありません。これには、クレジット制御セッションに関連する情報をバックアップサーバーに移動する必要があるためです。"
    },
    {
      "indent": 3,
      "text": "The following values are defined for the CC-Session-Failover AVP:",
      "ja": "CC-Session-Failover AVPには次の値が定義されています。"
    },
    {
      "indent": 3,
      "text": "FAILOVER_NOT_SUPPORTED 0 When the CC-Session-Failover AVP is set to FAILOVER_NOT_SUPPORTED, the credit-control message stream MUST NOT to be moved to an alternative destination in the case of communication failure.",
      "ja": "FAILOVER_NOT_SUPPORTED 0 CC-Session-Failover AVPがFAILOVER_NOT_SUPPORTEDに設定されている場合、通信障害の場合にクレジット制御メッセージストリームを別の宛先に移動してはなりません。"
    },
    {
      "indent": 6,
      "text": "This is the default behavior if the AVP isn't included in the reply from the authorization or credit-control server.",
      "ja": "これは、AVPが承認サーバーまたはクレジット制御サーバーからの応答に含まれていない場合のデフォルトの動作です。"
    },
    {
      "indent": 3,
      "text": "FAILOVER_SUPPORTED 1 When the CC-Session-Failover AVP is set to FAILOVER_SUPPORTED, the credit-control message stream SHOULD be moved to an alternative destination in the case of communication failure. Moving the credit-control message stream to a backup server MAY require that information related to the credit-control session should also be forwarded to alternative server.",
      "ja": "FAILOVER_SUPPORTED 1 CC-Session-Failover AVPがFAILOVER_SUPPORTEDに設定されている場合、通信障害が発生した場合にクレジット制御メッセージストリームを代替の宛先に移動する必要があります。 クレジット管理メッセージストリームをバックアップサーバーに移動するには、クレジット管理セッションに関連する情報も代替サーバーに転送する必要がある場合があります。"
    },
    {
      "indent": 0,
      "text": "8.5. CC-Sub-Session-Id AVP",
      "section_title": true,
      "ja": "8.5。 CC-Sub-Session-Id AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Sub-Session-Id AVP (AVP Code 419) is of type Unsigned64 and contains the credit-control sub-session identifier. The combination of the Session-Id and this AVP MUST be unique per sub-session, and the value of this AVP MUST be monotonically increased by one for all new sub-sessions. The absence of this AVP implies that no sub-sessions are in use.",
      "ja": "CC-Sub-Session-Id AVP（AVPコード419）はUnsigned64タイプで、クレジット制御サブセッションIDが含まれています。 Session-IdとこのAVPの組み合わせはサブセッションごとに一意でなければならず（MUST）、このAVPの値はすべての新しいサブセッションに対して単調に増加しなければなりません（MUST）。 このAVPがないことは、サブセッションが使用されていないことを意味します。"
    },
    {
      "indent": 0,
      "text": "8.6. Check-Balance-Result AVP",
      "section_title": true,
      "ja": "8.6。 チェックバランス結果AVP"
    },
    {
      "indent": 3,
      "text": "The Check Balance Result AVP (AVP Code 422) is of type Enumerated and contains the result of the balance check. This AVP is applicable only when the Requested-Action AVP indicates CHECK_BALANCE in the Credit-Control-Request command.",
      "ja": "Check Balance Result AVP（AVP Code 422）はEnumeratedタイプであり、バランスチェックの結果が含まれています。 このAVPは、Requested-Action AVPがCredit-Control-RequestコマンドでCHECK_BALANCEを示している場合にのみ適用できます。"
    },
    {
      "indent": 3,
      "text": "The following values are defined for the Check-Balance-Result AVP.",
      "ja": "以下の値がCheck-Balance-Result AVPに対して定義されています。"
    },
    {
      "indent": 3,
      "text": "ENOUGH_CREDIT 0 There is enough credit in the account to cover the requested service.",
      "ja": "ENOUGH_CREDIT 0アカウントには、要求されたサービスをカバーするのに十分なクレジットがあります。"
    },
    {
      "indent": 3,
      "text": "NO_CREDIT 1 There isn't enough credit in the account to cover the requested service.",
      "ja": "NO_CREDIT 1要求されたサービスをカバーするのに十分なクレジットがアカウントにありません。"
    },
    {
      "indent": 0,
      "text": "8.7. Cost-Information AVP",
      "section_title": true,
      "ja": "8.7。 コスト情報AVP"
    },
    {
      "indent": 3,
      "text": "The Cost-Information AVP (AVP Code 423) is of type Grouped, and it is used to return the cost information of a service, which the credit-control client can transfer transparently to the end user. The included Unit-Value AVP contains the cost estimate (always type of money) of the service, in the case of price enquiry, or the accumulated cost estimation, in the case of credit-control session.",
      "ja": "コスト情報AVP（AVPコード423）はタイプがグループ化されており、クレジット制御クライアントがエンドユーザーに透過的に転送できるサービスのコスト情報を返すために使用されます。 含まれるUnit-Value AVPには、価格照会の場合はサービスのコスト見積もり（常に金銭の種類）、または与信管理セッションの場合は累積コスト見積もりが含まれます。"
    },
    {
      "indent": 3,
      "text": "The Currency-Code specifies in which currency the cost was given. The Cost-Unit specifies the unit when the service cost is a cost per unit (e.g., cost for the service is $1 per minute).",
      "ja": "通貨コードは、コストが与えられた通貨を指定します。 Cost-Unitは、サービスコストがユニットあたりのコストである場合のユニットを指定します（たとえば、サービスのコストは1分あたり1ドルです）。"
    },
    {
      "indent": 3,
      "text": "When the Requested-Action AVP with value PRICE_ENQUIRY is included in the Credit-Control-Request command, the Cost-Information AVP sent in the succeeding Credit-Control-Answer command contains the cost estimation of the requested service, without any reservation being made.",
      "ja": "値PRICE_ENQUIRYのRequested-Action AVPがCredit-Control-Requestコマンドに含まれている場合、後続のCredit-Control-Answerコマンドで送信されるコスト情報AVPには、予約が行われずに、要求されたサービスのコスト推定が含まれます。"
    },
    {
      "indent": 3,
      "text": "The Cost-Information AVP included in the Credit-Control-Answer command with the CC-Request-Type set to UPDATE_REQUEST contains the accumulated cost estimation for the session, without taking any credit reservation into account.",
      "ja": "CC-Request-TypeをUPDATE_REQUESTに設定してCredit-Control-Answerコマンドに含まれるコスト情報AVPには、クレジット予約を考慮せずに、セッションの累積コスト見積もりが含まれます。"
    },
    {
      "indent": 3,
      "text": "The Cost-Information AVP included in the Credit-Control-Answer command with the CC-Request-Type set to EVENT_REQUEST or TERMINATION_REQUEST contains the estimated total cost for the requested service.",
      "ja": "CC-Request-TypeをEVENT_REQUESTまたはTERMINATION_REQUESTに設定してCredit-Control-Answerコマンドに含まれるコスト情報AVPには、要求されたサービスの推定合計コストが含まれます。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 16,
      "text": "Cost-Information ::= < AVP Header: 423 >\n                     { Unit-Value }\n                     { Currency-Code }\n                     [ Cost-Unit ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.8. Unit-Value AVP",
      "section_title": true,
      "ja": "8.8。 単位値AVP"
    },
    {
      "indent": 3,
      "text": "Unit-Value AVP is of type Grouped (AVP Code 445) and specifies the units as decimal value. The Unit-Value is a value with an exponent; i.e., Unit-Value = Value-Digits AVP * 10^Exponent. This representation avoids unwanted rounding off. For example, the value of 2,3 is represented as Value-Digits = 23 and Exponent = -1. The absence of the exponent part MUST be interpreted as an exponent equal to zero.",
      "ja": "Unit-Value AVPはタイプGrouped（AVP Code 445）であり、10進数値として単位を指定します。 Unit-Valueは、指数を持つ値です。 つまり、Unit-Value = Value-Digits AVP * 10 ^ Exponent。 この表現により、不要な丸めが回避されます。 たとえば、2,3の値は、Value-Digits = 23およびExponent = -1として表されます。 指数部の欠如は、ゼロに等しい指数として解釈されなければなりません。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 20,
      "text": "Unit-Value ::= < AVP Header: 445 >\n               { Value-Digits }\n               [ Exponent ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.9. Exponent AVP",
      "section_title": true,
      "ja": "8.9。 指数AVP"
    },
    {
      "indent": 3,
      "text": "Exponent AVP is of type Integer32 (AVP Code 429) and contains the exponent value to be applied for the Value-Digit AVP within the Unit-Value AVP.",
      "ja": "指数AVPはInteger32タイプ（AVPコード429）であり、Unit-Value AVP内のValue-Digit AVPに適用される指数値を含みます。"
    },
    {
      "indent": 0,
      "text": "8.10. Value-Digits AVP",
      "section_title": true,
      "ja": "8.10。 Value-Digits AVP"
    },
    {
      "indent": 3,
      "text": "The Value-Digits AVP is of type Integer64 (AVP Code 447) and contains the significant digits of the number. If decimal values are needed to present the units, the scaling MUST be indicated with the related Exponent AVP. For example, for the monetary amount $ 0.05 the value of Value-Digits AVP MUST be set to 5, and the scaling MUST be indicated with the Exponent AVP set to -2.",
      "ja": "Value-Digits AVPはInteger64タイプ（AVPコード447）であり、数値の有効数字が含まれています。 単位を表示するために小数値が必要な場合、スケーリングは関連する指数AVPで示されなければなりません。 たとえば、金額が0.05ドルの場合、Value-Digits AVPの値を5に設定する必要があり、Exponent AVPを-2に設定してスケーリングを示す必要があります。"
    },
    {
      "indent": 0,
      "text": "8.11. Currency-Code AVP",
      "section_title": true,
      "ja": "8.11。 通貨コードAVP"
    },
    {
      "indent": 3,
      "text": "The Currency-Code AVP (AVP Code 425) is of type Unsigned32 and contains a currency code that specifies in which currency the values of AVPs containing monetary units were given. It is specified by using the numeric values defined in the ISO 4217 standard [ISO4217].",
      "ja": "通貨コードAVP（AVPコード425）はUnsigned32タイプで、通貨単位を含むAVPの値がどの通貨で与えられたかを指定する通貨コードが含まれています。 ISO 4217標準[ISO4217]で定義されている数値を使用して指定されます。"
    },
    {
      "indent": 0,
      "text": "8.12. Cost-Unit AVP",
      "section_title": true,
      "ja": "8.12。 コスト単位AVP"
    },
    {
      "indent": 3,
      "text": "The Cost-Unit AVP (AVP Code 424) is of type UTF8String, and it is used to display a human readable string to the end user. It specifies the applicable unit to the Cost-Information when the service cost is a cost per unit (e.g., cost of the service is $1 per minute). The Cost-Unit can be minutes, hours, days, kilobytes, megabytes, etc.",
      "ja": "Cost-Unit AVP（AVP Code 424）はUTF8String型であり、人間が読み取れる文字列をエンドユーザーに表示するために使用されます。 サービスコストがユニットあたりのコストである場合（たとえば、サービスのコストが1分あたり1ドルである場合）、コスト情報に適用可能なユニットを指定します。 コスト単位は、分、時間、日、キロバイト、メガバイトなどです。"
    },
    {
      "indent": 0,
      "text": "8.13. Credit-Control AVP",
      "section_title": true,
      "ja": "8.13。 クレジット管理AVP"
    },
    {
      "indent": 3,
      "text": "The Credit-Control AVP (AVP Code 426) is of type Enumerated and MUST be included in AA requests when the service element has credit-control capabilities.",
      "ja": "Credit-Control AVP（AVP Code 426）はEnumeratedタイプであり、サービス要素にクレジット制御機能がある場合、AA要求に含まれなければなりません。"
    },
    {
      "indent": 3,
      "text": "CREDIT_AUTHORIZATION 0 If the home Diameter AAA server determines that the user has prepaid subscription, this value indicates that the credit-control server MUST be contacted to perform the first interrogation. The value of the Credit-Control AVP MUST always be set to 0 in an AA request sent to perform the first interrogation and to initiate a new credit-control session.",
      "ja": "CREDIT_AUTHORIZATION 0ホームDiameter AAAサーバーが、ユーザーがプリペイドサブスクリプションを持っていると判断した場合、この値は、最初の問い合わせを実行するためにクレジット制御サーバーに接続する必要があることを示します。 Credit-Control AVPの値は、最初の問い合わせを実行し、新しいクレジット制御セッションを開始するために送信されるAA要求で常に0に設定されなければなりません。"
    },
    {
      "indent": 3,
      "text": "RE_AUTHORIZATION 1 This value indicates to the Diameter AAA server that a credit-control session is ongoing for the subscriber and that the credit-control server MUST not be contacted. The Credit-Control AVP set to the value of 1 is to be used only when the first interrogation has been successfully performed and the credit-control session is ongoing (i.e., re-authorization triggered by Authorization-Lifetime). This value MUST NOT be used in an AA request sent to perform the first interrogation.",
      "ja": "RE_AUTHORIZATION 1この値は、Diameter AAAサーバーに対して、クレジット制御セッションがサブスクライバーに対して進行中であり、クレジット制御サーバーに接続してはならないことを示します。 値1に設定されたCredit-Control AVPは、最初の問い合わせが正常に実行され、クレジット制御セッションが進行中の場合（つまり、Authorization-Lifetimeによってトリガーされた再認証）にのみ使用されます。 この値は、最初の問い合わせを実行するために送信されるAA要求で使用してはなりません（MUST NOT）。"
    },
    {
      "indent": 0,
      "text": "8.14. Credit-Control-Failure-Handling AVP",
      "section_title": true,
      "ja": "8.14。 Credit-Control-Failure-Handling AVP"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Failure-Handling AVP (AVP Code 427) is of type Enumerated. The credit-control client uses information in this AVP to decide what to do if sending credit-control messages to the credit-control server has been, for instance, temporarily prevented due to a network problem. Depending on the service logic, the credit-control server can order the client to terminate the service immediately when there is a reason to believe that the service cannot be charged, or to try failover to an alternative server, if possible. Then the server could either terminate or grant the service, should the alternative connection also fail.",
      "ja": "Credit-Control-Failure-Handling AVP（AVP Code 427）は列挙型です。 与信管理クライアントは、このAVPの情報を使用して、与信管理サーバーへの与信管理メッセージの送信が、たとえばネットワークの問題により一時的に阻止された場合の対処方法を決定します。 サービスロジックに応じて、信用管理サーバーは、サービスに課金できないと考えられる理由がある場合、または可能であれば代替サーバーへのフェールオーバーを試行する理由がある場合、クライアントに直ちにサービスを終了するように命令できます。 その後、代替接続も失敗した場合、サーバーはサービスを終了または許可できます。"
    },
    {
      "indent": 3,
      "text": "TERMINATE 0 When the Credit-Control-Failure-Handling AVP is set to TERMINATE, the service MUST only be granted for as long as there is a connection to the credit-control server. If the credit-control client does not receive any Credit-Control-Answer message within the Tx timer (as defined in section 13), the credit-control request is regarded as failed, and the end user's service session is terminated.",
      "ja": "TERMINATE 0 Credit-Control-Failure-Handling AVPがTERMINATEに設定されている場合、クレジット制御サーバーへの接続がある限り、サービスを許可する必要があります。 クレジットコントロールクライアントがTxタイマー内でCredit-Control-Answerメッセージを受信しない場合（セクション13で定義）、クレジットコントロール要求は失敗したと見なされ、エンドユーザーのサービスセッションは終了します。"
    },
    {
      "indent": 6,
      "text": "This is the default behavior if the AVP isn't included in the reply from the authorization or credit-control server.",
      "ja": "これは、AVPが承認サーバーまたはクレジット制御サーバーからの応答に含まれていない場合のデフォルトの動作です。"
    },
    {
      "indent": 3,
      "text": "CONTINUE 1 When the Credit-Control-Failure-Handling AVP is set to CONTINUE, the credit-control client SHOULD re-send the request to an alternative server in the case of transport or temporary failures, provided that a failover procedure is supported in the credit-control server and the credit-control client, and that an alternative server is available. Otherwise, the service SHOULD be granted, even if credit-control messages can't be delivered.",
      "ja": "CONTINUE 1 Credit-Control-Failure-Handling AVPがCONTINUEに設定されている場合、トランスポートまたは一時的な障害の場合、クレジット制御クライアントは代替サーバーにリクエストを再送信する必要があります。 与信管理サーバーと与信管理クライアント、および代替サーバーが利用可能であること。 それ以外の場合、クレジット制御メッセージを配信できない場合でも、サービスを許可する必要があります。"
    },
    {
      "indent": 3,
      "text": "RETRY_AND_TERMINATE 2 When the Credit-Control-Failure-Handling AVP is set to RETRY_AND_TERMINATE, the credit-control client SHOULD re-send the request to an alternative server in the case of transport or temporary failures, provided that a failover procedure is supported in the credit-control server and the credit-control client, and that an alternative server is available. Otherwise, the service SHOULD not be granted when the credit-control messages can't be delivered.",
      "ja": "2 与信管理サーバーと与信管理クライアント、および代替サーバーが利用可能であること。 それ以外の場合、クレジット制御メッセージを配信できない場合、サービスは許可されません。"
    },
    {
      "indent": 0,
      "text": "8.15. Direct-Debiting-Failure-Handling AVP",
      "section_title": true,
      "ja": "8.15。 口座引き落とし障害処理AVP"
    },
    {
      "indent": 3,
      "text": "The Direct-Debiting-Failure-Handling AVP (AVP Code 428) is of type Enumerated. The credit-control client uses information in this AVP to decide what to do if sending credit-control messages (Requested-Action AVP set to DIRECT_DEBITING) to the credit-control server has been, for instance, temporarily prevented due to a network problem.",
      "ja": "Direct-Debiting-Failure-Handling AVP（AVP Code 428）は列挙型です。 与信管理クライアントは、このAVPの情報を使用して、与信管理メッセージ（DIRECT_DEBITINGに設定されたRequested-Action AVP）を与信管理サーバーに送信することが、たとえばネットワークの問題により一時的に防止された場合の対処方法を決定します。"
    },
    {
      "indent": 3,
      "text": "TERMINATE_OR_BUFFER 0 When the Direct-Debiting-Failure-Handling AVP is set to TERMINATE_OR_BUFFER, the service MUST be granted for as long as there is a connection to the credit-control server. If the credit-control client does not receive any Credit-Control-Answer message within the Tx timer (as defined in section 13) the credit-control request is regarded as failed. The client SHOULD terminate the service if it can determine from the failed answer that units have not been debited. Otherwise the credit-control client SHOULD grant the service, store the request in application level non-volatile storage, and try to re-send the request. These requests MUST be marked as possible duplicates by setting the T-flag in the command header as described in [DIAMBASE] section 3.",
      "ja": "TERMINATE_OR_BUFFER 0 Direct-Debiting-Failure-Handling AVPがTERMINATE_OR_BUFFERに設定されている場合、信用管理サーバーへの接続がある限り、サービスを許可する必要があります。 クレジット制御クライアントがTxタイマー内でCredit-Control-Answerメッセージを受信しない場合（セクション13で定義）、クレジット制御要求は失敗したと見なされます。 クライアントは、失敗した回答からユニットが引き落とされていないと判断できる場合、サービスを終了する必要があります。 そうでない場合、クレジット管理クライアントはサービスを許可する必要があり（SHOULD）、アプリケーションレベルの不揮発性ストレージにリクエストを保存し、リクエストの再送信を試みます。 [DIAMBASE]セクション3で説明されているように、コマンドヘッダーにTフラグを設定することにより、これらの要求を可能な重複としてマークする必要があります。"
    },
    {
      "indent": 6,
      "text": "This is the default behavior if the AVP isn't included in the reply from the authorization server.",
      "ja": "これは、AVPが許可サーバーからの応答に含まれていない場合のデフォルトの動作です。"
    },
    {
      "indent": 3,
      "text": "CONTINUE 1 When the Direct-Debiting-Failure-Handling AVP is set to CONTINUE, the service SHOULD be granted, even if credit-control messages can't be delivered, and the request should be deleted.",
      "ja": "CONTINUE 1 Direct-Debiting-Failure-Handling AVPがCONTINUEに設定されている場合、与信制御メッセージを配信できない場合でも、サービスを許可する必要があり、リクエストを削除する必要があります。"
    },
    {
      "indent": 0,
      "text": "8.16. Multiple-Services-Credit-Control AVP",
      "section_title": true,
      "ja": "8.16。 複数サービス-クレジット-コントロールAVP"
    },
    {
      "indent": 3,
      "text": "Multiple-Services-Credit-Control AVP (AVP Code 456) is of type Grouped and contains the AVPs related to the independent credit-control of multiple services feature. Note that each instance of this AVP carries units related to one or more services or related to a single rating group.",
      "ja": "Multiple-Services-Credit-Control AVP（AVP Code 456）はタイプがグループ化されており、複数のサービス機能の独立した信用管理に関連するAVPが含まれています。 このAVPの各インスタンスは、1つ以上のサービスまたは単一の評価グループに関連するユニットを運ぶことに注意してください。"
    },
    {
      "indent": 3,
      "text": "The Service-Identifier and the Rating-Group AVPs are used to associate the granted units to a given service or rating group. If both the Service-Identifier and the Rating-Group AVPs are included, the target of the service units is always the service(s) indicated by the value of the Service-Identifier AVP(s). If only the Rating-Group-Id AVP is present, the Multiple-Services-Credit-Control AVP relates to all the services that belong to the specified rating group.",
      "ja": "Service-IdentifierとRating-Group AVPは、付与されたユニットを特定のサービスまたは評価グループに関連付けるために使用されます。 Service-IdentifierとRating-Group AVPの両方が含まれている場合、サービスユニットのターゲットは、常にService-Identifier AVPの値によって示されるサービスです。 Rating-Group-Id AVPのみが存在する場合、Multiple-Services-Credit-Control AVPは、指定された評価グループに属するすべてのサービスに関連します。"
    },
    {
      "indent": 3,
      "text": "The G-S-U-Pool-Reference AVP allows the server to specify a G-S-U-Pool-Identifier identifying a credit pool within which the units of the specified type are considered pooled. If a G-S-U-Pool-Reference AVP is present, then actual service units of the specified type MUST also be present. For example, if the G-S-U-Pool-Reference AVP specifies Unit-Type TIME, then the CC-Time AVP MUST be present.",
      "ja": "G-S-U-Pool-Reference AVPを使用すると、サーバーは、指定されたタイプのユニットがプールされていると見なされるクレジットプールを識別するG-S-U-Pool-Identifierを指定できます。 G-S-U-Pool-Reference AVPが存在する場合、指定されたタイプの実際のサービスユニットも存在しなければなりません。 たとえば、G-S-U-Pool-Reference AVPがUnit-Type TIMEを指定する場合、CC-Time AVPが存在しなければなりません。"
    },
    {
      "indent": 3,
      "text": "The Requested-Service-Unit AVP MAY contain the amount of requested service units or the requested monetary value. It MUST be present in the initial interrogation and within the intermediate interrogations in which new quota is requested. If the credit-control client does not include the Requested-Service-Unit AVP in a request command, because for instance, it has determined that the end-user terminated the service, the server MUST debit the used amount from the user's account but MUST NOT return a new quota in the corresponding answer. The Validity-Time, Result-Code, and Final-Unit-Indication AVPs MAY be present in an answer command as defined in sections 5.1.2 and 5.6 for the graceful service termination.",
      "ja": "Requested-Service-Unit AVPには、要求されたサービスユニットの量または要求された金額を含めることができます。 それは最初の尋問と、新しい割り当てが要求される中間の尋問の中に存在しなければなりません。 たとえば、エンドユーザーがサービスを終了したと判断したため、クレジット制御クライアントがRequested-Service-Unit AVPを要求コマンドに含めない場合、サーバーはユーザーのアカウントから使用量を引き落とす必要がありますが、 対応する回答で新しいクォータを返しません。 有効期間、結果コード、および最終単位表示AVPは、正常なサービス終了のためにセクション5.1.2および5.6で定義されているように、応答コマンドに存在する場合があります。"
    },
    {
      "indent": 3,
      "text": "When both the Tariff-Time-Change and Tariff-Change-Usage AVPs are present, the server MUST include two separate instances of the Multiple-Services-Credit-Control AVP with the Granted-Service-Unit AVP associated to the same service-identifier and/or rating-group. Where the two quotas are associated to the same pool or to different pools, the credit pooling mechanism defined in section 5.1.2 applies. The Tariff-Change-Usage AVP MUST NOT be included in request commands to report used units before, and after tariff time change the Used-Service-Unit AVP MUST be used.",
      "ja": "Tariff-Time-ChangeとTariff-Change-Usageの両方のAVPが存在する場合、サーバーは、同じサービス識別子に関連付けられたGranted-Service-Unit AVPを持つMultiple-Services-Credit-Control AVPの2つの個別のインスタンスを含める必要があります および/または評価グループ。 2つのクォータが同じプールまたは異なるプールに関連付けられている場合、セクション5.1.2で定義されているクレジットプーリングメカニズムが適用されます。 Tariff-Change-Usage AVPを要求コマンドに含めて使用済みユニットを報告することはできません。また、料金表の変更後、Used-Service-Unit AVPを使用する必要があります。"
    },
    {
      "indent": 3,
      "text": "A server not implementing the independent credit-control of multiple services functionality MUST treat the Multiple-Services-Credit-Control AVP as an invalid AVP.",
      "ja": "複数サービス機能の独立したクレジット管理を実装していないサーバーは、Multiple-Services-Credit-Control AVPを無効なAVPとして扱わなければなりません。"
    },
    {
      "indent": 3,
      "text": "The Multiple-Services-Control AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "Multiple-Services-Control AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defに従って）："
    },
    {
      "indent": 6,
      "text": "Multiple-Services-Credit-Control ::= < AVP Header: 456 >\n                                     [ Granted-Service-Unit ]\n                                     [ Requested-Service-Unit ]\n                                    *[ Used-Service-Unit ]\n                                     [ Tariff-Change-Usage ]\n                                    *[ Service-Identifier ]\n                                     [ Rating-Group ]\n                                    *[ G-S-U-Pool-Reference ]\n                                     [ Validity-Time ]\n                                     [ Result-Code ]\n                                     [ Final-Unit-Indication ]\n                                    *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.17. Granted-Service-Unit AVP",
      "section_title": true,
      "ja": "8.17。 Granted-Service-Unit AVP"
    },
    {
      "indent": 3,
      "text": "Granted-Service-Unit AVP (AVP Code 431) is of type Grouped and contains the amount of units that the Diameter credit-control client can provide to the end user until the service must be released or the new Credit-Control-Request must be sent. A client is not required to implement all the unit types, and it must treat unknown or unsupported unit types in the answer message as an incorrect CCA answer. In this case, the client MUST terminate the credit-control session and indicate in the Termination-Cause AVP reason DIAMETER_BAD_ANSWER.",
      "ja": "Granted-Service-Unit AVP（AVP Code 431）はタイプがGroupedであり、サービスをリリースするか、新しいCredit-Control-Requestが必要になるまで、Diameterクレジット管理クライアントがエンドユーザーに提供できる単位の量が含まれます。 送った。 クライアントはすべてのユニットタイプを実装する必要はありません。また、応答メッセージ内の不明またはサポートされていないユニットタイプを不正確なCCA回答として扱う必要があります。 この場合、クライアントはクレジット制御セッションを終了し、Termination-Cause AVP理由でDIAMETER_BAD_ANSWERを示さなければなりません。"
    },
    {
      "indent": 3,
      "text": "The Granted-Service-Unit AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "Granted-Service-Unit AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defに従って）。"
    },
    {
      "indent": 6,
      "text": "Granted-Service-Unit ::= < AVP Header: 431 >\n                           [ Tariff-Time-Change ]\n                           [ CC-Time ]\n                           [ CC-Money ]\n                           [ CC-Total-Octets ]\n                           [ CC-Input-Octets ]\n                           [ CC-Output-Octets ]\n                           [ CC-Service-Specific-Units ]\n                          *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.18. Requested-Service-Unit AVP",
      "section_title": true,
      "ja": "8.18。 Requested-Service-Unit AVP"
    },
    {
      "indent": 3,
      "text": "The Requested-Service-Unit AVP (AVP Code 437) is of type Grouped and contains the amount of requested units specified by the Diameter credit-control client. A server is not required to implement all the unit types, and it must treat unknown or unsupported unit types as invalid AVPs.",
      "ja": "Requested-Service-Unit AVP（AVP Code 437）はタイプGroupedであり、Diameterクレジット管理クライアントによって指定された要求されたユニットの量が含まれています。 サーバーはすべてのユニットタイプを実装する必要はなく、不明またはサポートされていないユニットタイプを無効なAVPとして扱う必要があります。"
    },
    {
      "indent": 3,
      "text": "The Requested-Service-Unit AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "Requested-Service-Unit AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defに従って）。"
    },
    {
      "indent": 6,
      "text": "Requested-Service-Unit ::= < AVP Header: 437 >\n                           [ CC-Time ]\n                           [ CC-Money ]\n                           [ CC-Total-Octets ]\n                           [ CC-Input-Octets ]\n                           [ CC-Output-Octets ]\n                           [ CC-Service-Specific-Units ]\n                          *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.19. Used-Service-Unit AVP",
      "section_title": true,
      "ja": "8.19。 使用済みサービスユニットAVP"
    },
    {
      "indent": 3,
      "text": "The Used-Service-Unit AVP is of type Grouped (AVP Code 446) and contains the amount of used units measured from the point when the service became active or, if interim interrogations are used during the session, from the point when the previous measurement ended.",
      "ja": "Used-Service-Unit AVPはタイプがGrouped（AVP Code 446）であり、サービスがアクティブになった時点から、またはセッション中に暫定尋問が使用された場合、前回の測定時点から測定された使用済みユニットの量を含みます 終了しました。"
    },
    {
      "indent": 3,
      "text": "The Used-Service-Unit AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "Used-Service-Unit AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defに従って）。"
    },
    {
      "indent": 6,
      "text": "Used-Service-Unit ::= < AVP Header: 446 >\n                      [ Tariff-Change-Usage ]\n                      [ CC-Time ]\n                      [ CC-Money ]\n                      [ CC-Total-Octets ]\n                      [ CC-Input-Octets ]\n                      [ CC-Output-Octets ]\n                      [ CC-Service-Specific-Units ]\n                     *[ AVP ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.20. Tariff-Time-Change AVP",
      "section_title": true,
      "ja": "8.20。 関税変更AVP"
    },
    {
      "indent": 3,
      "text": "The Tariff-Time-Change AVP (AVP Code 451) is of type Time. It is sent from the server to the client and includes the time in seconds since January 1, 1900, 00:00 UTC, when the tariff of the service will be changed.",
      "ja": "Tariff-Time-Change AVP（AVP Code 451）はTimeタイプです。 これはサーバーからクライアントに送信され、1900年1月1日00:00 UTC（サービスの料金が変更される）からの秒数が含まれます。"
    },
    {
      "indent": 3,
      "text": "The tariff change mechanism is optional for the client and server, and it is not used for time-based services defined in section 5. If a client does not support the tariff time change mechanism, it MUST treat Tariff-Time-Change AVP in the answer message as an incorrect CCA answer. In this case, the client terminates the credit-control session and indicates in the Termination-Cause AVP reason DIAMETER_BAD_ANSWER.",
      "ja": "関税変更メカニズムは、クライアントとサーバーにとってオプションであり、セクション5で定義された時間ベースのサービスには使用されません。クライアントが関税時間変更メカニズムをサポートしない場合、Tariff-Time-Change AVPを 不正なCCA回答としての回答メッセージ。 この場合、クライアントはクレジット制御セッションを終了し、Termination-Cause AVP理由でDIAMETER_BAD_ANSWERを示します。"
    },
    {
      "indent": 3,
      "text": "Omission of this AVP means that no tariff change is to be reported.",
      "ja": "このAVPの省略は、関税の変更が報告されないことを意味します。"
    },
    {
      "indent": 0,
      "text": "8.21. CC-Time AVP",
      "section_title": true,
      "ja": "8.21。 CC-Time AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Time AVP (AVP Code 420) is of type Unsigned32 and indicates the length of the requested, granted, or used time in seconds.",
      "ja": "CC-Time AVP（AVPコード420）はUnsigned32タイプで、要求、許可、または使用された時間の長さを秒単位で示します。"
    },
    {
      "indent": 0,
      "text": "8.22. CC-Money AVP",
      "section_title": true,
      "ja": "8.22。 CC-Money AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Money AVP (AVP Code 413) is of type Grouped and specifies the monetary amount in the given currency. The Currency-Code AVP SHOULD be included. It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "CC-Money AVP（AVPコード413）はタイプがグループ化されており、指定された通貨で金額を指定します。 通貨コードAVPを含める必要があります。 次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "CC-Money ::= < AVP Header: 413 >\n             { Unit-Value }\n             [ Currency-Code ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.23. CC-Total-Octets AVP",
      "section_title": true,
      "ja": "8.23。 CC-Total-Octets AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Total-Octets AVP (AVP Code 421) is of type Unsigned64 and contains the total number of requested, granted, or used octets regardless of the direction (sent or received).",
      "ja": "CC-Total-Octets AVP（AVP Code 421）は、Unsigned64タイプで、方向（送信または受信）に関係なく、要求、許可、または使用されたオクテットの総数を含みます。"
    },
    {
      "indent": 0,
      "text": "8.24. CC-Input-Octets AVP",
      "section_title": true,
      "ja": "8.24。 CC-Input-Octets AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Input-Octets AVP (AVP Code 412) is of type Unsigned64 and contains the number of requested, granted, or used octets that can be/have been received from the end user.",
      "ja": "CC-Input-Octets AVP（AVP Code 412）はUnsigned64タイプで、エンドユーザーから受信できる/受信したことがある要求、許可、または使用されたオクテットの数を含みます。"
    },
    {
      "indent": 0,
      "text": "8.25. CC-Output-Octets AVP",
      "section_title": true,
      "ja": "8.25。 CC-Output-Octets AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Output-Octets AVP (AVP Code 414) is of type Unsigned64 and contains the number of requested, granted, or used octets that can be/have been sent to the end user.",
      "ja": "CC-Output-Octets AVP（AVP Code 414）はUnsigned64タイプで、エンドユーザーに送信できる/送信された要求、許可、または使用されたオクテットの数を含みます。"
    },
    {
      "indent": 0,
      "text": "8.26. CC-Service-Specific-Units AVP",
      "section_title": true,
      "ja": "8.26。 CC-Service-Specific-Units AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Service-Specific-Units AVP (AVP Code 417) is of type Unsigned64 and specifies the number of service-specific units (e.g., number of events, points) given in a selected service. The service-specific units always refer to the service identified in the Service-Identifier AVP (or Rating-Group AVP when the Multiple-Services-Credit-Control AVP is used).",
      "ja": "CC-Service-Specific-Units AVP（AVP Code 417）はタイプUnsigned64であり、選択したサービスで提供されるサービス固有のユニット（例：イベントの数、ポイント）の数を指定します。 サービス固有のユニットは、常にService-Identifier AVP（またはMultiple-Services-Credit-Control AVPが使用されている場合はRating-Group AVP）で識別されるサービスを参照します。"
    },
    {
      "indent": 0,
      "text": "8.27. Tariff-Change-Usage AVP",
      "section_title": true,
      "ja": "8.27。 関税変更利用AVP"
    },
    {
      "indent": 3,
      "text": "The Tariff-Change-Usage AVP (AVP Code 452) is of type Enumerated and defines whether units are used before or after a tariff change, or whether the units straddled a tariff change during the reporting period. Omission of this AVP means that no tariff change has occurred.",
      "ja": "Tariff-Change-Usage AVP（AVP Code 452）はEnumeratedタイプで、ユニットが関税変更の前または後に使用されるかどうか、またはレポート期間中にユニットが関税変更にまたがるかどうかを定義します。 このAVPの省略は、関税の変更が発生していないことを意味します。"
    },
    {
      "indent": 3,
      "text": "In addition, when present in answer messages as part of the Multiple-Services-Credit-Control AVP, this AVP defines whether units are allocated to be used before or after a tariff change event.",
      "ja": "さらに、Multiple-Services-Credit-Control AVPの一部として応答メッセージに存在する場合、このAVPは、料金変更イベントの前後にユニットを使用するように割り当てるかどうかを定義します。"
    },
    {
      "indent": 3,
      "text": "When the Tariff-Time-Change AVP is present, omission of this AVP in answer messages means that the single quota mechanism applies.",
      "ja": "Tariff-Time-Change AVPが存在する場合、応答メッセージでこのAVPを省略すると、単一のクォータメカニズムが適用されます。"
    },
    {
      "indent": 3,
      "text": "Tariff-Change-Usage can be one of the following:",
      "ja": "Tariff-Change-Usageは、次のいずれかになります。"
    },
    {
      "indent": 3,
      "text": "UNIT_BEFORE_TARIFF_CHANGE 0 When present in the Multiple-Services-Credit-Control AVP, this value indicates the amount of the units allocated for use before a tariff change occurs.",
      "ja": "UNIT_BEFORE_TARIFF_CHANGE 0 Multiple-Services-Credit-Control AVPに存在する場合、この値は、料金の変更が発生する前に使用するために割り当てられたユニットの量を示します。"
    },
    {
      "indent": 6,
      "text": "When present in the Used-Service-Unit AVP, this value indicates the amount of resource units used before a tariff change had occurred.",
      "ja": "Used-Service-Unit AVPに存在する場合、この値は、料金の変更が発生する前に使用されたリソースユニットの量を示します。"
    },
    {
      "indent": 3,
      "text": "UNIT_AFTER_TARIFF_CHANGE 1 When present in the Multiple-Services-Credit-Control AVP, this value indicates the amount of the units allocated for use after a tariff change occurs.",
      "ja": "UNIT_AFTER_TARIFF_CHANGE 1 Multiple-Services-Credit-Control AVPに存在する場合、この値は、料金の変更が発生した後に使用するために割り当てられたユニットの量を示します。"
    },
    {
      "indent": 6,
      "text": "When present in the Used-Service-Unit AVP, this value indicates the amount of resource units used after tariff change had occurred.",
      "ja": "Used-Service-Unit AVPに存在する場合、この値は、料金の変更が発生した後に使用されるリソースユニットの量を示します。"
    },
    {
      "indent": 3,
      "text": "UNIT_INDETERMINATE 2 The used unit contains the amount of units that straddle the tariff change (e.g., the metering process reports to the credit-control client in blocks of n octets, and one block straddled the tariff change). This value is to be used only in the Used-Service-Unit AVP.",
      "ja": "1 この値は、Used-Service-Unit AVPでのみ使用されます。"
    },
    {
      "indent": 0,
      "text": "8.28. Service-Identifier AVP",
      "section_title": true,
      "ja": "8.28。 サービス識別子AVP"
    },
    {
      "indent": 3,
      "text": "The Service-Identifier AVP is of type Unsigned32 (AVP Code 439) and contains the identifier of a service. The specific service the request relates to is uniquely identified by the combination of Service-Context-Id and Service-Identifier AVPs.",
      "ja": "Service-Identifier AVPは、Unsigned32タイプ（AVP Code 439）であり、サービスの識別子が含まれています。 要求が関連する特定のサービスは、Service-Context-IdとService-Identifier AVPの組み合わせによって一意に識別されます。"
    },
    {
      "indent": 3,
      "text": "A usage example of this AVP is illustrated in Appendix A (Flow IX).",
      "ja": "このAVPの使用例は、付録A（フローIX）に示されています。"
    },
    {
      "indent": 0,
      "text": "8.29. Rating-Group AVP",
      "section_title": true,
      "ja": "8.29。 評価グループAVP"
    },
    {
      "indent": 3,
      "text": "The Rating-Group AVP is of type Unsigned32 (AVP Code 432) and contains the identifier of a rating group. All the services subject to the same rating type are part of the same rating group. The specific rating group the request relates to is uniquely identified by the combination of Service-Context-Id and Rating-Group AVPs.",
      "ja": "評価グループAVPは、Unsigned32タイプ（AVPコード432）であり、評価グループの識別子が含まれています。 同じ評価タイプの対象となるすべてのサービスは、同じ評価グループに属します。 要求が関連する特定の評価グループは、Service-Context-IdとRating-Group AVPの組み合わせによって一意に識別されます。"
    },
    {
      "indent": 3,
      "text": "A usage example of this AVP is illustrated in Appendix A (Flow IX).",
      "ja": "このAVPの使用例は、付録A（フローIX）に示されています。"
    },
    {
      "indent": 0,
      "text": "8.30. G-S-U-Pool-Reference AVP",
      "section_title": true,
      "ja": "8.30。 G-S-U-Pool-Reference AVP"
    },
    {
      "indent": 3,
      "text": "The G-S-U-Pool-Reference AVP (AVP Code 457) is of type Grouped. It is used in the Credit-Control-Answer message, and associates the Granted-Service-Unit AVP within which it appears with a credit pool within the session.",
      "ja": "G-S-U-Pool-Reference AVP（AVPコード457）は、タイプがグループ化されています。 Credit-Control-Answerメッセージで使用され、その中に表示されるGranted-Service-Unit AVPをセッション内のクレジットプールに関連付けます。"
    },
    {
      "indent": 3,
      "text": "The G-S-U-Pool-Identifier AVP specifies the credit pool from which credit is drawn for this unit type.",
      "ja": "G-S-U-Pool-Identifier AVPは、このユニットタイプに対してクレジットが引き出されるクレジットプールを指定します。"
    },
    {
      "indent": 3,
      "text": "The CC-Unit-Type AVP specifies the type of units for which credit is pooled.",
      "ja": "CC-Unit-Type AVPは、クレジットがプールされるユニットのタイプを指定します。"
    },
    {
      "indent": 3,
      "text": "The Unit-Value AVP specifies the multiplier, which converts between service units of type CC-Unit-Type and abstract service units within the credit pool (and thus to service units of any other service or rating group associated with the same pool).",
      "ja": "Unit-Value AVPは乗数を指定します。乗数は、タイプCC-Unit-Typeのサービスユニットとクレジットプール内の抽象サービスユニット間で変換されます（したがって、同じプールに関連付けられた他のサービスまたは評価グループのサービスユニットに変換されます）"
    },
    {
      "indent": 3,
      "text": "The G-S-U-Pool-Reference AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "G-S-U-Pool-Reference AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "G-S-U-Pool-Reference    ::= < AVP Header: 457 >\n                            { G-S-U-Pool-Identifier }\n                            { CC-Unit-Type }\n                            { Unit-Value }",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.31. G-S-U-Pool-Identifier AVP",
      "section_title": true,
      "ja": "8.31。 G-S-U-Pool-Identifier AVP"
    },
    {
      "indent": 3,
      "text": "The G-S-U-Pool-Identifier AVP (AVP Code 453) is of type Unsigned32 and identifies a credit pool within the session.",
      "ja": "G-S-U-Pool-Identifier AVP（AVPコード453）はUnsigned32タイプで、セッション内のクレジットプールを識別します。"
    },
    {
      "indent": 0,
      "text": "8.32. CC-Unit-Type AVP",
      "section_title": true,
      "ja": "8.32。 CC-Unit-Type AVP"
    },
    {
      "indent": 3,
      "text": "The CC-Unit-Type AVP (AVP Code 454) is of type Enumerated and specifies the type of units considered to be pooled into a credit pool.",
      "ja": "CC-Unit-Type AVP（AVPコード454）は列挙型で、クレジットプールにプールされると見なされるユニットのタイプを指定します。"
    },
    {
      "indent": 3,
      "text": "The following values are defined for the CC-Unit-Type AVP:",
      "ja": "CC-Unit-Type AVPには次の値が定義されています。"
    },
    {
      "indent": 6,
      "text": "TIME 0 MONEY 1 TOTAL-OCTETS 2 INPUT-OCTETS 3 OUTPUT-OCTETS 4 SERVICE-SPECIFIC-UNITS 5",
      "ja": "時間0お金1合計オクタット2入力オクタット3出力オクタット4サービス固有ユニット5"
    },
    {
      "indent": 0,
      "text": "8.33. Validity-Time AVP",
      "section_title": true,
      "ja": "8.33。 有効期間AVP"
    },
    {
      "indent": 3,
      "text": "The Validity-Time AVP is of type Unsigned32 (AVP Code 448). It is sent from the credit-control server to the credit-control client. The AVP contains the validity time of the granted service units. The measurement of the Validity-Time is started upon receipt of the Credit-Control-Answer Message containing this AVP. If the granted service units have not been consumed within the validity time specified in this AVP, the credit-control client MUST send a Credit-Control-Request message to the server, with CC-Request-Type set to UPDATE_REQUEST. The value field of the Validity-Time AVP is given in seconds.",
      "ja": "Validity-Time AVPは、Unsigned32タイプです（AVPコード448）。 これは、与信管理サーバーから与信管理クライアントに送信されます。 AVPには、付与されたサービスユニットの有効期間が含まれます。 有効期間の測定は、このAVPを含むCredit-Control-Answerメッセージの受信時に開始されます。 付与されたサービスユニットがこのAVPで指定された有効期間内に消費されなかった場合、クレジット制御クライアントはCC-Request-TypeをUPDATE_REQUESTに設定して、Credit-Control-Requestメッセージをサーバーに送信する必要があります。 Validity-Time AVPの値フィールドは秒単位で与えられます。"
    },
    {
      "indent": 3,
      "text": "The Validity-Time AVP is also used for the graceful service termination (see section 5.6) to indicate to the credit-control client how long the subscriber is allowed to use network resources after the specified action (i.e., REDIRECT or RESTRICT_ACCESS) started. When the Validity-Time elapses, a new intermediate interrogation is sent to the server.",
      "ja": "Validity-Time AVPは、適切なサービス終了（セクション5.6を参照）にも使用され、指定されたアクション（つまり、REDIRECTまたはRESTRICT_ACCESS）が開始されてからサブスクライバーがネットワークリソースの使用を許可される期間をクレジット制御クライアントに示します。 Validity-Timeが経過すると、新しい中間尋問がサーバーに送信されます。"
    },
    {
      "indent": 0,
      "text": "8.34. Final-Unit-Indication AVP",
      "section_title": true,
      "ja": "8.34。 最終単位表示AVP"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Indication AVP (AVP Code 430) is of type Grouped and indicates that the Granted-Service-Unit AVP in the Credit-Control-Answer, or in the AA answer, contains the final units for the service. After these units have expired, the Diameter credit-control client is responsible for executing the action indicated in the Final-Unit-Action AVP (see section 5.6).",
      "ja": "最終単位表示AVP（AVPコード430）はタイプがグループ化されており、Credit-Control-AnswerまたはAA回答のGranted-Service-Unit AVPにサービスの最終単位が含まれていることを示します。 これらのユニットの有効期限が切れた後、Diameterクレジット管理クライアントは、Final-Unit-Action AVPに示されたアクションの実行を担当します（セクション5.6を参照）。"
    },
    {
      "indent": 3,
      "text": "If more than one unit type is received in the Credit-Control-Answer, the unit type that first expired SHOULD cause the credit-control client to execute the specified action.",
      "ja": "Credit-Control-Answerで複数のユニットタイプを受信した場合、最初に期限切れになったユニットタイプによって、クレジットコントロールクライアントが指定されたアクションを実行する必要があります。"
    },
    {
      "indent": 3,
      "text": "In the first interrogation, the Final-Unit-Indication AVP with Final-Unit-Action REDIRECT or RESTRICT_ACCESS can also be present with no Granted-Service-Unit AVP in the Credit-Control-Answer or in the AA answer. This indicates to the Diameter credit-control client to execute the specified action immediately. If the home service provider policy is to terminate the service, naturally, the server SHOULD return the appropriate transient failure (see section 9.1) in order to implement the policy-defined action.",
      "ja": "最初の質問では、Final-Unit-Action REDIRECTまたはRESTRICT_ACCESSを持つFinal-Unit-Indication AVPは、Credit-Control-AnswerまたはAA回答にGranted-Service-Unit AVPなしでも存在できます。 これは、指定されたアクションをすぐに実行することをDiameterクレジット管理クライアントに示します。 ホームサービスプロバイダーポリシーがサービスを終了する場合、当然、サーバーはポリシー定義のアクションを実装するために適切な一時的な障害（セクション9.1を参照）を返すべきです（SHOULD）。"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Action AVP defines the behavior of the service element when the user's account cannot cover the cost of the service and MUST always be present if the Final-Unit-Indication AVP is included in a command.",
      "ja": "Final-Unit-Action AVPは、ユーザーのアカウントがサービスの費用を賄えない場合のサービス要素の動作を定義し、Final-Unit-Indication AVPがコマンドに含まれる場合は常に存在しなければなりません。"
    },
    {
      "indent": 3,
      "text": "If the Final-Unit-Action AVP is set to TERMINATE, no other AVPs MUST be present.",
      "ja": "Final-Unit-Action AVPがTERMINATEに設定されている場合、他のAVPは存在してはなりません。"
    },
    {
      "indent": 3,
      "text": "If the Final-Unit-Action AVP is set to REDIRECT at least the Redirect-Server AVP MUST be present. The Restriction-Filter-Rule AVP or the Filter-Id AVP MAY be present in the Credit-Control-Answer message if the user is also allowed to access other services that are not accessible through the address given in the Redirect-Server AVP.",
      "ja": "Final-Unit-Action AVPがREDIRECTに設定されている場合、少なくともRedirect-Server AVPが存在する必要があります。 ユーザーがRedirect-Server AVPで指定されたアドレスからアクセスできない他のサービスへのアクセスも許可されている場合、Restriction-Filter-Rule AVPまたはFilter-Id AVPがCredit-Control-Answerメッセージに存在する場合があります。"
    },
    {
      "indent": 3,
      "text": "If the Final-Unit-Action AVP is set to RESTRICT_ACCESS, either the Restriction-Filter-Rule AVP or the Filter-Id AVP SHOULD be present.",
      "ja": "Final-Unit-Action AVPがRESTRICT_ACCESSに設定されている場合、Restriction-Filter-Rule AVPまたはFilter-Id AVPが存在する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Filter-Id AVP is defined in [NASREQ]. The Filter-Id AVP can be used to reference an IP filter list installed in the access device by means other than the Diameter credit-control application, e.g., locally configured or configured by another entity.",
      "ja": "Filter-Id AVPは[NASREQ]で定義されています。 Filter-Id AVPを使用して、Diameterクレジット制御アプリケーション以外の手段（たとえば、ローカルで構成されているか、別のエンティティによって構成されている）によって、アクセスデバイスにインストールされたIPフィルターリストを参照できます。"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Indication AVP is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "Final-Unit-Indication AVPは、次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defに従って）。"
    },
    {
      "indent": 6,
      "text": "Final-Unit-Indication ::= < AVP Header: 430 >\n                          { Final-Unit-Action }\n                         *[ Restriction-Filter-Rule ]\n                         *[ Filter-Id ]\n                          [ Redirect-Server ]",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.35. Final-Unit-Action AVP",
      "section_title": true,
      "ja": "8.35。 最終ユニットアクションAVP"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Action AVP (AVP Code 449) is of type Enumerated and indicates to the credit-control client the action to be taken when the user's account cannot cover the service cost.",
      "ja": "最終単位アクションAVP（AVPコード449）は列挙型であり、ユーザーのアカウントがサービスコストをカバーできない場合に実行するアクションをクレジット管理クライアントに示します。"
    },
    {
      "indent": 3,
      "text": "The Final-Unit-Action can be one of the following:",
      "ja": "Final-Unit-Actionは次のいずれかです。"
    },
    {
      "indent": 3,
      "text": "TERMINATE 0 The credit-control client MUST terminate the service session. This is the default handling, applicable whenever the credit-control client receives an unsupported Final-Unit-Action value, and it MUST be supported by all the Diameter credit-control client implementations conforming to this specification.",
      "ja": "TERMINATE 0クレジット管理クライアントは、サービスセッションを終了する必要があります。 これは、クレジット制御クライアントがサポートされていないFinal-Unit-Action値を受信するたびに適用されるデフォルトの処理であり、この仕様に準拠するすべてのDiameterクレジット制御クライアント実装でサポートされなければなりません。"
    },
    {
      "indent": 3,
      "text": "REDIRECT 1 The service element MUST redirect the user to the address specified in the Redirect-Server-Address AVP. The redirect action is defined in section 5.6.2.",
      "ja": "REDIRECT 1サービス要素は、Redirect-Server-Address AVPで指定されたアドレスにユーザーをリダイレクトする必要があります。 リダイレクトアクションはセクション5.6.2で定義されています。"
    },
    {
      "indent": 3,
      "text": "RESTRICT_ACCESS 2 The access device MUST restrict the user access according to the IP packet filters defined in the Restriction-Filter-Rule AVP or according to the IP packet filters identified by the Filter-Id AVP. All the packets not matching the filters MUST be dropped (see section 5.6.3).",
      "ja": "RESTRICT_ACCESS 2アクセスデバイスは、Restriction-Filter-Rule AVPで定義されたIPパケットフィルタ、またはFilter-Id AVPで識別されたIPパケットフィルタに従って、ユーザーアクセスを制限する必要があります。 フィルタに一致しないすべてのパケットをドロップする必要があります（セクション5.6.3を参照）。"
    },
    {
      "indent": 0,
      "text": "8.36. Restriction-Filter-Rule AVP",
      "section_title": true,
      "ja": "8.36。 制限フィルタールールAVP"
    },
    {
      "indent": 3,
      "text": "The Restriction-Filter-Rule AVP (AVP Code 438) is of type IPFilterRule and provides filter rules corresponding to services that are to remain accessible even if there are no more service units granted. The access device has to configure the specified filter rules for the subscriber and MUST drop all the packets not matching these filters. Zero, one, or more such AVPs MAY be present in a Credit-Control-Answer message or in an AA answer message.",
      "ja": "Restriction-Filter-Rule AVP（AVP Code 438）はタイプIPFilterRuleであり、許可されたサービスユニットがなくてもアクセス可能なサービスに対応するフィルタールールを提供します。 アクセスデバイスは、サブスクライバに対して指定されたフィルタルールを設定する必要があり、これらのフィルタに一致しないすべてのパケットをドロップする必要があります。 0、1、またはそれ以上のそのようなAVPは、Credit-Control-AnswerメッセージまたはAA応答メッセージに存在する場合があります。"
    },
    {
      "indent": 0,
      "text": "8.37. Redirect-Server AVP",
      "section_title": true,
      "ja": "8.37。 リダイレクトサーバーAVP"
    },
    {
      "indent": 3,
      "text": "The Redirect-Server AVP (AVP Code 434) is of type Grouped and contains the address information of the redirect server (e.g., HTTP redirect server, SIP Server) with which the end user is to be connected when the account cannot cover the service cost. It MUST be present when the Final-Unit-Action AVP is set to REDIRECT.",
      "ja": "リダイレクトサーバーAVP（AVPコード434）はタイプがグループ化され、アカウントがサービスコストを賄えない場合にエンドユーザーが接続するリダイレクトサーバー（HTTPリダイレクトサーバー、SIPサーバーなど）のアドレス情報を含みます 。 Final-Unit-Action AVPがREDIRECTに設定されている場合に存在する必要があります。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "Redirect-Server ::= < AVP Header: 434 >\n                    { Redirect-Address-Type }\n                    { Redirect-Server-Address }",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.38. Redirect-Address-Type AVP",
      "section_title": true,
      "ja": "8.38。 リダイレクトアドレスタイプAVP"
    },
    {
      "indent": 3,
      "text": "The Redirect-Address-Type AVP (AVP Code 433) is of type Enumerated and defines the address type of the address given in the Redirect-Server-Address AVP.",
      "ja": "Redirect-Address-Type AVP（AVP Code 433）は列挙型であり、Redirect-Server-Address AVPで指定されたアドレスのアドレスタイプを定義します。"
    },
    {
      "indent": 3,
      "text": "The address type can be one of the following:",
      "ja": "アドレスタイプは次のいずれかです。"
    },
    {
      "indent": 3,
      "text": "IPv4 Address 0 The address type is in the form of \"dotted-decimal\" IPv4 address, as defined in [IPv4].",
      "ja": "IPv4アドレス0アドレスタイプは、[IPv4]で定義されているように、「ドット付き10進」IPv4アドレスの形式です。"
    },
    {
      "indent": 3,
      "text": "IPv6 Address 1 The address type is in the form of IPv6 address, as defined in [IPv6Addr]. The address is a text representation of the address in either the preferred or alternate text form [IPv6Addr]. Conformant implementations MUST support the preferred form and SHOULD support the alternate text form for IPv6 addresses.",
      "ja": "IPv6アドレス1アドレスタイプは、[IPv6Addr]で定義されているように、IPv6アドレスの形式です。 アドレスは、優先または代替テキスト形式[IPv6Addr]のアドレスのテキスト表現です。 適合実装は優先形式をサポートする必要があり、IPv6アドレスの代替テキスト形式をサポートする必要があります。"
    },
    {
      "indent": 3,
      "text": "URL 2 The address type is in the form of Uniform Resource Locator, as defined in [URL].",
      "ja": "URL 2アドレスタイプは、[URL]で定義されているUniform Resource Locatorの形式です。"
    },
    {
      "indent": 3,
      "text": "SIP URI 3 The address type is in the form of SIP Uniform Resource Identifier, as defined in [SIP].",
      "ja": "SIP URI 3アドレスタイプは、[SIP]で定義されているSIP Uniform Resource Identifierの形式です。"
    },
    {
      "indent": 0,
      "text": "8.39. Redirect-Server-Address AVP",
      "section_title": true,
      "ja": "8.39。 リダイレクトサーバーアドレスAVP"
    },
    {
      "indent": 3,
      "text": "The Redirect-Server-Address AVP (AVP Code 435) is of type UTF8String and defines the address of the redirect server (e.g., HTTP redirect server, SIP Server) with which the end user is to be connected when the account cannot cover the service cost.",
      "ja": "Redirect-Server-Address AVP（AVP Code 435）はUTF8String型で、アカウントがサービスをカバーできない場合にエンドユーザーが接続するリダイレクトサーバー（HTTPリダイレクトサーバー、SIPサーバーなど）のアドレスを定義します コスト。"
    },
    {
      "indent": 0,
      "text": "8.40. Multiple-Services-Indicator AVP",
      "section_title": true,
      "ja": "8.40。 複数サービスインジケータAVP"
    },
    {
      "indent": 3,
      "text": "The Multiple-Services-Indicator AVP (AVP Code 455) is of type Enumerated and indicates whether the Diameter credit-control client is capable of handling multiple services independently within a (sub-) session. The absence of this AVP means that independent credit-control of multiple services is not supported.",
      "ja": "Multiple-Services-Indicator AVP（AVP Code 455）はEnumeratedタイプであり、Diameterクレジット制御クライアントが（サブ）セッション内で複数のサービスを個別に処理できるかどうかを示します。 このAVPが存在しないということは、複数のサービスの独立した信用管理がサポートされていないことを意味します。"
    },
    {
      "indent": 3,
      "text": "A server not implementing the independent credit-control of multiple services MUST treat the Multiple-Services-Indicator AVP as an invalid AVP.",
      "ja": "複数のサービスの独立した信用管理を実装していないサーバーは、Multiple-Services-Indicator AVPを無効なAVPとして扱わなければなりません。"
    },
    {
      "indent": 3,
      "text": "The following values are defined for the Multiple-Services-Indicator AVP:",
      "ja": "Multiple-Services-Indicator AVPには次の値が定義されています。"
    },
    {
      "indent": 3,
      "text": "MULTIPLE_SERVICES_NOT_SUPPORTED 0 Client does not support independent credit-control of multiple services within a (sub-)session.",
      "ja": "MULTIPLE_SERVICES_NOT_SUPPORTED 0クライアントは、（サブ）セッション内の複数のサービスの独立したクレジット管理をサポートしていません。"
    },
    {
      "indent": 3,
      "text": "MULTIPLE_SERVICES_SUPPORTED 1 Client supports independent credit-control of multiple services within a (sub-)session.",
      "ja": "MULTIPLE_SERVICES_SUPPORTED 1クライアントは、（サブ）セッション内の複数のサービスの独立したクレジット管理をサポートします。"
    },
    {
      "indent": 0,
      "text": "8.41. Requested-Action AVP",
      "section_title": true,
      "ja": "8.41。 要求されたアクションAVP"
    },
    {
      "indent": 3,
      "text": "The Requested-Action AVP (AVP Code 436) is of type Enumerated and contains the requested action being sent by Credit-Control-Request command where the CC-Request-Type is set to EVENT_REQUEST. The following values are defined for the Requested-Action AVP:",
      "ja": "Requested-Action AVP（AVP Code 436）は列挙型であり、CC-Request-TypeがEVENT_REQUESTに設定されているCredit-Control-Requestコマンドによって送信される要求されたアクションが含まれています。 Requested-Action AVPには次の値が定義されています。"
    },
    {
      "indent": 3,
      "text": "DIRECT_DEBITING 0 This indicates a request to decrease the end user's account according to information specified in the Requested-Service-Unit AVP and/or Service-Identifier AVP (additional rating information may be included in service-specific AVPs or in the Service-Parameter-Info AVP). The Granted-Service-Unit AVP in the Credit-Control-Answer command contains the debited units.",
      "ja": "DIRECT_DEBITING 0これは、Requested-Service-Unit AVPおよび/またはService-Identifier AVPで指定された情報に従って、エンドユーザーのアカウントを減らす要求を示します（追加の評価情報は、サービス固有のAVPまたはService-Parameter- 情報AVP）。 Credit-Control-AnswerコマンドのGranted-Service-Unit AVPには、借方単位が含まれています。"
    },
    {
      "indent": 3,
      "text": "REFUND_ACCOUNT 1 This indicates a request to increase the end user's account according to information specified in the Requested-Service-Unit AVP and/or Service-Identifier AVP (additional rating information may be included in service-specific AVPs or in the Service-Parameter-Info AVP). The Granted-Service-Unit AVP in the Credit-Control-Answer command contains the refunded units.",
      "ja": "REFUND_ACCOUNT 1これは、Requested-Service-Unit AVPおよび/またはService-Identifier AVPで指定された情報に従って、エンドユーザーのアカウントを増やす要求を示します（追加の評価情報は、サービス固有のAVPまたはService-Parameter- 情報AVP）。 Credit-Control-AnswerコマンドのGranted-Service-Unit AVPには、返金されたユニットが含まれます。"
    },
    {
      "indent": 3,
      "text": "CHECK_BALANCE 2 This indicates a balance check request. In this case, the checking of the account balance is done without any credit reservation from the account. The Check-Balance-Result AVP in the Credit-Control-Answer command contains the result of the balance check.",
      "ja": "CHECK_BALANCE 2これは、残高チェック要求を示します。 この場合、口座残高の確認は口座からのクレジット予約なしで行われます。 Credit-Control-AnswerコマンドのCheck-Balance-Result AVPには、残高チェックの結果が含まれています。"
    },
    {
      "indent": 3,
      "text": "PRICE_ENQUIRY 3 This indicates a price enquiry request. In this case, neither checking of the account balance nor reservation from the account will be done; only the price of the service will be returned in the Cost-Information AVP in the Credit-Control-Answer Command.",
      "ja": "PRICE_ENQUIRY 3これは価格照会リクエストを示します。 この場合、口座残高の確認も口座からの予約も行われません。 Credit-Control-Answer CommandのCost-Information AVPには、サービスの価格のみが返されます。"
    },
    {
      "indent": 0,
      "text": "8.42. Service-Context-Id AVP",
      "section_title": true,
      "ja": "8.42。 サービスコンテキストID AVP"
    },
    {
      "indent": 3,
      "text": "The Service-Context-Id AVP is of type UTF8String (AVP Code 461) and contains a unique identifier of the Diameter credit-control service specific document that applies to the request (as defined in section 4.1.2). This is an identifier allocated by the service provider, by the service element manufacturer, or by a standardization body, and MUST uniquely identify a given Diameter credit-control service specific document. The format of the Service-Context-Id is:",
      "ja": "Service-Context-Id AVPは、UTF8Stringタイプ（AVPコード461）であり、要求に適用されるDiameterクレジット制御サービス固有のドキュメントの一意の識別子を含みます（セクション4.1.2で定義）。 これは、サービスプロバイダー、サービス要素メーカー、または標準化団体によって割り当てられた識別子であり、特定のDiameterクレジットコントロールサービス固有のドキュメントを一意に識別しなければなりません。 Service-Context-Idの形式は次のとおりです。"
    },
    {
      "indent": 3,
      "text": "\"service-context\" \"@\" \"domain\"",
      "ja": "「サービスコンテキスト」「@」「ドメイン」"
    },
    {
      "indent": 3,
      "text": "service-context = Token",
      "ja": "service-context =トークン"
    },
    {
      "indent": 3,
      "text": "The Token is an arbitrary string of characters and digits.",
      "ja": "トークンは、文字と数字の任意の文字列です。"
    },
    {
      "indent": 3,
      "text": "'domain' represents the entity that allocated the Service-Context-Id. It can be ietf.org, 3gpp.org, etc., if the identifier is allocated by a standardization body, or it can be the FQDN of the service provider (e.g., provider.example.com) or of the vendor (e.g., vendor.example.com) if the identifier is allocated by a private entity.",
      "ja": "「ドメイン」は、Service-Context-Idを割り当てたエンティティを表します。 識別子が標準化団体によって割り当てられている場合はietf.org、3gpp.orgなど、またはサービスプロバイダー（たとえばprovider.example.com）またはベンダー（たとえば、 vendor.example.com）識別子がプライベートエンティティによって割り当てられている場合。"
    },
    {
      "indent": 3,
      "text": "This AVP SHOULD be placed as close to the Diameter header as possible.",
      "ja": "このAVPは、Diameterヘッダーのできるだけ近くに配置する必要があります。"
    },
    {
      "indent": 3,
      "text": "Service-specific documents that are for private use only (i.e., to one provider's own use, where no interoperability is deemed useful) may define private identifiers without need of coordination. However, when interoperability is wanted, coordination of the identifiers via, for example, publication of an informational RFC is RECOMMENDED in order to make Service-Context-Id globally available.",
      "ja": "私用のみ（つまり、相互運用性が役に立たないと考えられる1つのプロバイダー自身の使用）専用のサービス固有のドキュメントは、調整の必要なく私用識別子を定義できます。 ただし、相互運用性が必要な場合は、Service-Context-Idをグローバルに利用できるようにするために、たとえば情報RFCの公開を介した識別子の調整が推奨されます。"
    },
    {
      "indent": 0,
      "text": "8.43. Service-Parameter-Info AVP",
      "section_title": true,
      "ja": "8.43。 サービスパラメータ情報AVP"
    },
    {
      "indent": 3,
      "text": "The Service-Parameter-Info AVP (AVP Code 440) is of type Grouped and contains service-specific information used for price calculation or rating. The Service-Parameter-Type AVP defines the service parameter type, and the Service-Parameter-Value AVP contains the parameter value. The actual contents of these AVPs are not within the scope of this document and SHOULD be defined in another Diameter application, in standards written by other standardization bodies, or in service-specific documentation.",
      "ja": "Service-Parameter-Info AVP（AVP Code 440）はタイプがグループ化されており、価格の計算または評価に使用されるサービス固有の情報が含まれています。 Service-Parameter-Type AVPはサービスパラメータタイプを定義し、Service-Parameter-Value AVPにはパラメータ値が含まれます。 これらのAVPの実際の内容はこのドキュメントの範囲外であり、別のDiameterアプリケーション、他の標準化団体によって作成された標準、またはサービス固有のドキュメントで定義する必要があります。"
    },
    {
      "indent": 3,
      "text": "In the case of an unknown service request (e.g., unknown Service-Parameter-Type), the corresponding answer message MUST contain the error code DIAMETER_RATING_FAILED. A Credit-Control-Answer message with this error MUST contain one or more Failed-AVP AVPs containing the Service-Parameter-Info AVPs that caused the failure.",
      "ja": "不明なサービスリクエスト（不明なService-Parameter-Typeなど）の場合、対応する応答メッセージにはエラーコードDIAMETER_RATING_FAILEDが含まれている必要があります。 このエラーのあるCredit-Control-Answerメッセージには、失敗の原因となったService-Parameter-Info AVPを含む1つ以上のFailed-AVP AVPを含める必要があります。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "Service-Parameter-Info ::= < AVP Header: 440 >\n                           { Service-Parameter-Type }\n                           { Service-Parameter-Value }",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.44. Service-Parameter-Type AVP",
      "section_title": true,
      "ja": "8.44。 サービスパラメータタイプAVP"
    },
    {
      "indent": 3,
      "text": "The Service-Parameter-Type AVP is of type Unsigned32 (AVP Code 441) and defines the type of the service event specific parameter (e.g., it can be the end-user location or service name). The different parameters and their types are service specific, and the meanings of these parameters are not defined in this document. Whoever allocates the Service-Context-Id (i.e., unique identifier of a service-specific document) is also responsible for assigning Service-Parameter-Type values for the service and ensuring their uniqueness within the given service. The Service-Parameter-Value AVP contains the value associated with the service parameter type.",
      "ja": "Service-Parameter-Type AVPは、Unsigned32タイプ（AVP Code 441）であり、サービスイベント固有のパラメーターのタイプを定義します（例：エンドユーザーの場所またはサービス名）。 さまざまなパラメータとそのタイプはサービス固有であり、これらのパラメータの意味はこのドキュメントでは定義されていません。 Service-Context-Id（つまり、サービス固有のドキュメントの一意の識別子）を割り当てる人は、サービスにService-Parameter-Type値を割り当て、特定のサービス内での一意性を保証する責任も負います。 Service-Parameter-Value AVPには、サービスパラメータタイプに関連付けられた値が含まれます。"
    },
    {
      "indent": 0,
      "text": "8.45. Service-Parameter-Value AVP",
      "section_title": true,
      "ja": "8.45。 サービスパラメータ値AVP"
    },
    {
      "indent": 3,
      "text": "The Service-Parameter-Value AVP is of type OctetString (AVP Code 442) and contains the value of the service parameter type.",
      "ja": "Service-Parameter-Value AVPはOctetStringタイプ（AVPコード442）であり、サービスパラメータタイプの値が含まれています。"
    },
    {
      "indent": 0,
      "text": "8.46. Subscription-Id AVP",
      "section_title": true,
      "ja": "8.46。 サブスクリプションID AVP"
    },
    {
      "indent": 3,
      "text": "The Subscription-Id AVP (AVP Code 443) is used to identify the end user's subscription and is of type Grouped. The Subscription-Id AVP includes a Subscription-Id-Data AVP that holds the identifier and a Subscription-Id-Type AVP that defines the identifier type.",
      "ja": "Subscription-Id AVP（AVP Code 443）は、エンドユーザーのサブスクリプションを識別するために使用され、タイプはグループ化されています。 Subscription-Id AVPには、識別子を保持するSubscription-Id-Data AVPと、識別子タイプを定義するSubscription-Id-Type AVPが含まれます。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "Subscription-Id ::= < AVP Header: 443 >\n                    { Subscription-Id-Type }\n                    { Subscription-Id-Data }",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.47. Subscription-Id-Type AVP",
      "section_title": true,
      "ja": "8.47。 サブスクリプションIDタイプAVP"
    },
    {
      "indent": 3,
      "text": "The Subscription-Id-Type AVP (AVP Code 450) is of type Enumerated, and it is used to determine which type of identifier is carried by the Subscription-Id AVP.",
      "ja": "Subscription-Id-Type AVP（AVP Code 450）は列挙型であり、Subscription-Id AVPによって運ばれる識別子のタイプを決定するために使用されます。"
    },
    {
      "indent": 3,
      "text": "This specification defines the following subscription identifiers. However, new Subscription-Id-Type values can be assigned by an IANA designated expert, as defined in section 12. A server MUST implement all the Subscription-Id-Types required to perform credit authorization for the services it supports, including possible future values. Unknown or unsupported Subscription-Id-Types MUST be treated according to the 'M' flag rule, as defined in [DIAMBASE].",
      "ja": "この仕様では、次のサブスクリプション識別子を定義しています。 ただし、セクション12で定義されているように、新しいSubscription-Id-Type値はIANA指定エキスパートによって割り当てることができます。サーバーは、可能な将来の値を含む、サポートするサービスのクレジット認証を実行するために必要なすべてのSubscription-Id-Typesを実装する必要があります 。 [DIAMBASE]で定義されているように、不明またはサポートされていないSubscription-Id-Typesは、 'M'フラグルールに従って処理する必要があります。"
    },
    {
      "indent": 3,
      "text": "END_USER_E164 0 The identifier is in international E.164 format (e.g., MSISDN), according to the ITU-T E.164 numbering plan defined in [E164] and [CE164].",
      "ja": "END_USER_E164 0 [E164]および[CE164]で定義されたITU-T E.164番号計画に従って、識別子は国際E.164形式（MSISDNなど）です。"
    },
    {
      "indent": 3,
      "text": "END_USER_IMSI 1 The identifier is in international IMSI format, according to the ITU-T E.212 numbering plan as defined in [E212] and [CE212].",
      "ja": "END_USER_IMSI 1 [E212]および[CE212]で定義されているITU-T E.212番号計画に従って、識別子は国際IMSI形式です。"
    },
    {
      "indent": 3,
      "text": "END_USER_SIP_URI 2 The identifier is in the form of a SIP URI, as defined in [SIP].",
      "ja": "END_USER_SIP_URI 2識別子は、[SIP]で定義されているSIP URIの形式です。"
    },
    {
      "indent": 3,
      "text": "END_USER_NAI 3 The identifier is in the form of a Network Access Identifier, as defined in [NAI].",
      "ja": "END_USER_NAI 3識別子は、[NAI]で定義されているように、ネットワークアクセス識別子の形式です。"
    },
    {
      "indent": 3,
      "text": "END_USER_PRIVATE 4 The Identifier is a credit-control server private identifier.",
      "ja": "END_USER_PRIVATE 4識別子は、信用管理サーバーのプライベート識別子です。"
    },
    {
      "indent": 0,
      "text": "8.48. Subscription-Id-Data AVP",
      "section_title": true,
      "ja": "8.48。 サブスクリプションIDデータAVP"
    },
    {
      "indent": 3,
      "text": "The Subscription-Id-Data AVP (AVP Code 444) is used to identify the end user and is of type UTF8String. The Subscription-Id-Type AVP defines which type of identifier is used.",
      "ja": "Subscription-Id-Data AVP（AVP Code 444）は、エンドユーザーを識別するために使用され、タイプはUTF8Stringです。 Subscription-Id-Type AVPは、使用される識別子のタイプを定義します。"
    },
    {
      "indent": 0,
      "text": "8.49. User-Equipment-Info AVP",
      "section_title": true,
      "ja": "8.49。 ユーザー機器情報AVP"
    },
    {
      "indent": 3,
      "text": "The User-Equipment-Info AVP (AVP Code 458) is of type Grouped and allows the credit-control client to indicate the identity and capability of the terminal the subscriber is using for the connection to network.",
      "ja": "User-Equipment-Info AVP（AVP Code 458）はタイプがグループ化されており、クレジット制御クライアントが加入者がネットワークへの接続に使用している端末のIDと機能を示すことができます。"
    },
    {
      "indent": 3,
      "text": "It is defined as follows (per the grouped-avp-def of RFC 3588 [DIAMBASE]):",
      "ja": "次のように定義されます（RFC 3588 [DIAMBASE]のgrouped-avp-defによる）："
    },
    {
      "indent": 6,
      "text": "User-Equipment-Info ::= < AVP Header: 458 >\n                        { User-Equipment-Info-Type }\n                        { User-Equipment-Info-Value }",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "8.50. User-Equipment-Info-Type AVP",
      "section_title": true,
      "ja": "8.50。 User-Equipment-Info-Type AVP"
    },
    {
      "indent": 3,
      "text": "The User-Equipment-Info-Type AVP is of type Enumerated (AVP Code 459) and defines the type of user equipment information contained in the User-Equipment-Info-Value AVP.",
      "ja": "User-Equipment-Info-Type AVPは列挙型（AVP Code 459）であり、User-Equipment-Info-Value AVPに含まれるユーザー機器情報のタイプを定義します。"
    },
    {
      "indent": 3,
      "text": "This specification defines the following user equipment types. However, new User-Equipment-Info-Type values can be assigned by an IANA designated expert, as defined in section 12.",
      "ja": "この仕様では、次のユーザー機器タイプを定義しています。 ただし、セクション12で定義されているように、新しいUser-Equipment-Info-Type値は、IANA指定エキスパートによって割り当てることができます。"
    },
    {
      "indent": 3,
      "text": "IMEISV 0 The identifier contains the International Mobile Equipment Identifier and Software Version in the international IMEISV format according to 3GPP TS 23.003 [3GPPIMEI].",
      "ja": "IMEISV 0識別子には、3GPP TS 23.003 [3GPPIMEI]に準拠した国際IMEISV形式の国際モバイル機器識別子とソフトウェアバージョンが含まれています。"
    },
    {
      "indent": 3,
      "text": "MAC 1 The 48-bit MAC address is formatted as described in [RAD802.1X].",
      "ja": "MAC 1 48ビットMACアドレスは、[RAD802.1X]で説明されているようにフォーマットされます。"
    },
    {
      "indent": 3,
      "text": "EUI64 2 The 64-bit identifier used to identify hardware instance of the product, as defined in [EUI64].",
      "ja": "EUI64 2 [EUI64]で定義されている、製品のハードウェアインスタンスを識別するために使用される64ビットの識別子。"
    },
    {
      "indent": 3,
      "text": "MODIFIED_EUI64 3 There are a number of types of terminals that have identifiers other than IMEI, IEEE 802 MACs, or EUI-64. These identifiers can be converted to modified EUI-64 format as described in [IPv6Addr] or by using some other methods referred to in the service-specific documentation.",
      "ja": "MODIFIED_EUI64 3 IMEI、IEEE 802 MAC、またはEUI-64以外の識別子を持つ多くのタイプの端末があります。 これらの識別子は、[IPv6Addr]で説明されているように、またはサービス固有のドキュメントで参照されている他の方法を使用して、変更されたEUI-64形式に変換できます。"
    },
    {
      "indent": 0,
      "text": "8.51. User-Equipment-Info-Value AVP",
      "section_title": true,
      "ja": "8.51。 User-Equipment-Info-Value AVP"
    },
    {
      "indent": 3,
      "text": "The User-Equipment-Info-Value AVP (AVP Code 460) is of type OctetString. The User-Equipment-Info-Type AVP defines which type of identifier is used.",
      "ja": "User-Equipment-Info-Value AVP（AVP Code 460）はOctetStringタイプです。 User-Equipment-Info-Type AVPは、使用される識別子のタイプを定義します。"
    },
    {
      "indent": 0,
      "text": "9. Result Code AVP Values",
      "section_title": true,
      "ja": "9.結果コードAVP値"
    },
    {
      "indent": 3,
      "text": "This section defines new Result-Code AVP [DIAMBASE] values that must be supported by all Diameter implementations that conform to this specification.",
      "ja": "このセクションでは、この仕様に準拠するすべてのDiameter実装でサポートする必要がある新しい結果コードAVP [DIAMBASE]値を定義します。"
    },
    {
      "indent": 3,
      "text": "The Credit-Control-Answer message includes the Result-Code AVP, which may indicate that an error was present in the Credit-Control-Request message. A rejected Credit-Control-Request message SHOULD cause the user's session to be terminated.",
      "ja": "Credit-Control-AnswerメッセージにはResult-Code AVPが含まれます。これは、Credit-Control-Requestメッセージにエラーが存在したことを示す場合があります。 拒否されたCredit-Control-Requestメッセージは、ユーザーのセッションを終了させる必要があります。"
    },
    {
      "indent": 0,
      "text": "9.1. Transient Failures",
      "section_title": true,
      "ja": "9.1。 一時的な障害"
    },
    {
      "indent": 3,
      "text": "Errors that fall within the transient failures category are used to inform a peer that the request could not be satisfied at the time it was received, but that the request MAY be able to be satisfied in the future.",
      "ja": "一時的な障害のカテゴリに分類されるエラーは、要求を受信した時点では満たせなかったが、将来的には要求を満たせる可能性があることをピアに通知するために使用されます。"
    },
    {
      "indent": 3,
      "text": "DIAMETER_END_USER_SERVICE_DENIED 4010 The credit-control server denies the service request due to service restrictions. If the CCR contained used-service-units, they are deducted, if possible.",
      "ja": "DIAMETER_END_USER_SERVICE_DENIED 4010クレジット管理サーバーは、サービスの制限のためにサービス要求を拒否します。 CCRにused-service-unitsが含まれていた場合、可能であればそれらが差し引かれます。"
    },
    {
      "indent": 3,
      "text": "DIAMETER_CREDIT_CONTROL_NOT_APPLICABLE 4011 The credit-control server determines that the service can be granted to the end user but that no further credit-control is needed for the service (e.g., service is free of charge).",
      "ja": "DIAMETER_CREDIT_CONTROL_NOT_APPLICABLE 4011クレジット管理サーバーは、エンドユーザーにサービスを許可できるが、サービスにそれ以上のクレジット管理は不要であると判断します（たとえば、サービスは無料です）。"
    },
    {
      "indent": 3,
      "text": "DIAMETER_CREDIT_LIMIT_REACHED 4012 The credit-control server denies the service request because the end user's account could not cover the requested service. If the CCR contained used-service-units they are deducted, if possible.",
      "ja": "DIAMETER_CREDIT_LIMIT_REACHED 4012エンドユーザーのアカウントが要求されたサービスをカバーできなかったため、与信管理サーバーはサービス要求を拒否します。 CCRにused-service-unitsが含まれていた場合、可能な場合は差し引かれます。"
    },
    {
      "indent": 0,
      "text": "9.2. Permanent Failures",
      "section_title": true,
      "ja": "9.2。 永続的な障害"
    },
    {
      "indent": 3,
      "text": "Errors that fall within the permanent failure category are used to inform the peer that the request failed and should not be attempted again.",
      "ja": "永続的な障害カテゴリに含まれるエラーは、要求が失敗したため再試行しないことをピアに通知するために使用されます。"
    },
    {
      "indent": 3,
      "text": "DIAMETER_USER_UNKNOWN 5030 The specified end user is unknown in the credit-control server.",
      "ja": "DIAMETER_USER_UNKNOWN 5030指定されたエンドユーザーは、与信管理サーバーで不明です。"
    },
    {
      "indent": 3,
      "text": "DIAMETER_RATING_FAILED 5031 This error code is used to inform the credit-control client that the credit-control server cannot rate the service request due to insufficient rating input, an incorrect AVP combination, or an AVP or an AVP value that is not recognized or supported in the rating. The Failed-AVP AVP MUST be included and contain a copy of the entire AVP(s) that could not be processed successfully or an example of the missing AVP complete with the Vendor-Id if applicable. The value field of the missing AVP should be of correct minimum length and contain zeros.",
      "ja": "DIAMETER_RATING_FAILED 5031このエラーコードは、信用管理サーバーが、不十分なレーティング入力、不正なAVPの組み合わせ、またはAVPまたはAVP値が認識またはサポートされていないためにサービスリクエストを評価できないことを信用管理クライアントに通知するために使用されます 評価。 Failed-AVP AVPを含める必要があり、正常に処理できなかったAVP全体のコピーまたは欠落しているAVPの例がベンダーIDで完了している場合はそれを含める必要があります。 欠落しているAVPの値フィールドは、正しい最小長であり、ゼロを含んでいる必要があります。"
    },
    {
      "indent": 0,
      "text": "10. AVP Occurrence Table",
      "section_title": true,
      "ja": "10. AVPオカレンステーブル"
    },
    {
      "indent": 3,
      "text": "The following table presents the AVPs defined in this document and specifies in which Diameter messages they MAY or MAY NOT be present. Note that AVPs that can only be present within a Grouped AVP are not represented in this table.",
      "ja": "次の表は、このドキュメントで定義されているAVPを示し、どのDiameterメッセージに存在する場合と存在しない場合があるかを指定します。 グループ化されたAVP内にのみ存在できるAVPは、このテーブルには表されていないことに注意してください。"
    },
    {
      "indent": 3,
      "text": "The table uses the following symbols:",
      "ja": "この表では、次の記号を使用しています。"
    },
    {
      "indent": 6,
      "text": "0 The AVP MUST NOT be present in the message. 0+ Zero or more instances of the AVP MAY be present in the message. 0-1 Zero or one instance of the AVP MAY be present in the message. It is considered an error if there is more than one instance of the AVP. 1 One instance of the AVP MUST be present in the message. 1+ At least one instance of the AVP MUST be present in the message.",
      "ja": "0メッセージにAVPが存在してはなりません。 0+ AVPのゼロ以上のインスタンスがメッセージに存在する場合があります。 0-1 AVPのゼロまたは1つのインスタンスがメッセージに存在する場合があります。 AVPのインスタンスが複数ある場合、エラーと見なされます。 1 AVPの1つのインスタンスがメッセージに存在しなければなりません。 1+ AVPの少なくとも1つのインスタンスがメッセージに存在しなければなりません。"
    },
    {
      "indent": 0,
      "text": "10.1. Credit-Control AVP Table",
      "section_title": true,
      "ja": "10.1。 与信管理AVPテーブル"
    },
    {
      "indent": 3,
      "text": "The table in this section is used to represent which credit-control applications specific AVPs defined in this document are to be present in the credit-control messages.",
      "ja": "このセクションの表は、このドキュメントで定義されている特定のAVPがクレジット制御メッセージに存在するクレジット制御アプリケーションを表すために使用されます。"
    },
    {
      "indent": 9,
      "text": "                              +-----------+\n                              |  Command  |\n                              |   Code    |\n                              |-----+-----+\nAttribute Name                | CCR | CCA |\n------------------------------|-----+-----+\nAcct-Multi-Session-Id         | 0-1 | 0-1 |\nAuth-Application-Id           | 1   | 1   |\nCC-Correlation-Id             | 0-1 | 0   |\nCC-Session-Failover           | 0   | 0-1 |\nCC-Request-Number             | 1   | 1   |\nCC-Request-Type               | 1   | 1   |\nCC-Sub-Session-Id             | 0-1 | 0-1 |\nCheck-Balance-Result          | 0   | 0-1 |\nCost-Information              | 0   | 0-1 |\nCredit-Control-Failure-       | 0   | 0-1 |\n   Handling                   |     |     |\nDestination-Host              | 0-1 | 0   |\nDestination-Realm             | 1   | 0   |\nDirect-Debiting-Failure-      | 0   | 0-1 |\n   Handling                   |     |     |\nEvent-Timestamp               | 0-1 | 0-1 |\nFailed-AVP                    | 0   | 0+  |\nFinal-Unit-Indication         | 0   | 0-1 |\nGranted-Service-Unit          | 0   | 0-1 |\nMultiple-Services-Credit-     | 0+  | 0+  |\n   Control                    |     |     |\nMultiple-Services-Indicator   | 0-1 | 0   |\nOrigin-Host                   | 1   | 1   |\nOrigin-Realm                  | 1   | 1   |\nOrigin-State-Id               | 0-1 | 0-1 |\nProxy-Info                    | 0+  | 0+  |\nRedirect-Host                 | 0   | 0+  |\nRedirect-Host-Usage           | 0   | 0-1 |\nRedirect-Max-Cache-Time       | 0   | 0-1 |\nRequested-Action              | 0-1 | 0   |\nRequested-Service-Unit        | 0-1 | 0   |\nRoute-Record                  | 0+  | 0+  |\nResult-Code                   | 0   | 1   |\nService-Context-Id            | 1   | 0   |\nService-Identifier            | 0-1 | 0   |\nService-Parameter-Info        | 0+  | 0   |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 9,
      "text": "Session-Id                    | 1   | 1   |\nSubscription-Id               | 0+  | 0   |\nTermination-Cause             | 0-1 | 0   |\nUser-Equipment-Info           | 0-1 | 0   |\nUsed-Service-Unit             | 0+  | 0   |\nUser-Name                     | 0-1 | 0-1 |\nValidity-Time                 | 0   | 0-1 |\n------------------------------|-----+-----+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "10.2. Re-Auth-Request/Answer AVP Table",
      "section_title": true,
      "ja": "10.2。 再認証要求/応答AVPテーブル"
    },
    {
      "indent": 3,
      "text": "This section defines AVPs that are specific to the Diameter credit-control application and that MAY be included in the Diameter Re-Auth-Request/Answer (RAR/RAA) message [DIAMBASE].",
      "ja": "このセクションでは、Diameterクレジット管理アプリケーションに固有のAVPを定義し、Diameter Re-Auth-Request / Answer（RAR / RAA）メッセージ[DIAMBASE]に含めることができます。"
    },
    {
      "indent": 3,
      "text": "Re-Auth-Request/Answer command MAY include the following additional AVPs:",
      "ja": "Re-Auth-Request / Answerコマンドには、次の追加のAVPを含めることができます。"
    },
    {
      "indent": 9,
      "text": "                              +---------------+\n                              | Command Code  |\n                              |-------+-------+\nAttribute Name                |  RAR  |  RAA  |\n------------------------------+-------+-------+\nCC-Sub-Session-Id             |  0-1  |  0-1  |\nG-S-U-Pool-Identifier         |  0-1  |  0-1  |\nService-Identifier            |  0-1  |  0-1  |\nRating-Group                  |  0-1  |  0-1  |\n------------------------------+-------+-------+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "11. RADIUS/Diameter Credit-Control Interworking Model",
      "section_title": true,
      "ja": "11. RADIUS /直径クレジット制御インターワーキングモデル"
    },
    {
      "indent": 3,
      "text": "This section defines the basic principles for the Diameter credit-control/RADIUS prepaid inter-working model; that is, a message translation between a RADIUS based prepaid solution and a Diameter credit-control application. A complete description of the protocol translations between RADIUS and the Diameter credit-control application is beyond the scope of this specification and SHOULD be addressed in another appropriate document, such as the RADIUS prepaid specification.",
      "ja": "このセクションでは、Diameterクレジット管理/ RADIUSプリペイドインターワーキングモデルの基本原則を定義します。 つまり、RADIUSベースのプリペイドソリューションとDiameterクレジット制御アプリケーション間のメッセージ変換です。 RADIUSとDiameterクレジット制御アプリケーション間のプロトコル変換の完全な説明は、この仕様の範囲外であり、RADIUSプリペイド仕様などの別の適切なドキュメントで対処する必要があります。"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control architecture may have a Translation Agent capable of translation between RADIUS prepaid and Diameter credit-control protocols. An AAA server (usually the home AAA server) may act as a Translation Agent and as a Diameter credit-control client for service elements that use credit-control mechanisms other than Diameter credit control for instance, RADIUS prepaid. In this case, the home AAA server contacts the Diameter credit-control server as part of the authorization process. The interworking architecture is illustrated in Figure 7, and interworking flow in Figure 8. In a roaming situation the service element (e.g., the NAS) may be located in the visited network, and a visited AAA server is usually contacted. The visited AAA server connects then to the home AAA server.",
      "ja": "Diameterクレジット制御アーキテクチャには、RADIUSプリペイドプロトコルとDiameterクレジット制御プロトコル間の変換が可能な翻訳エージェントがあります。 AAAサーバー（通常はホームAAAサーバー）は、翻訳エージェントとして、およびDiameterプリペイドなどのDiameterクレジット制御以外のクレジット制御メカニズムを使用するサービス要素のDiameterクレジット制御クライアントとして機能します。 この場合、ホームAAAサーバーは、承認プロセスの一部としてDiameterクレジット制御サーバーに接続します。 インターワーキングアーキテクチャを図7に、インターワーキングフローを図8に示します。ローミング状況では、サービス要素（NASなど）が訪問先ネットワークに配置され、通常は訪問先AAAサーバーに接続されます。 訪問先のAAAサーバーは、ホームAAAサーバーに接続します。"
    },
    {
      "indent": 3,
      "text": "                               RADIUS Prepaid\n+--------+       +---------+   protocol +------------+  +--------+\n|  End   |<----->| Service |<---------->| Home AAA   |  |Business|\n|  User  |       | Element |            |  Server    |  |Support |\n+--------+   +-->|         |            |+----------+|->|System  |\n             |   +---------+            ||CC Client ||  |        |\n             |                          |+----------+|  |        |\n+--------+   |                          +------^-----+  +----^---+\n|  End   |<--+                Credit-Control   |             |\n|  User  |                          Protocol   |             |\n+--------+                             +-------V--------+    |\n                                       |Credit-Control  |----+\n                                       |   Server       |\n                                       +----------------+",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 8,
      "text": "Figure 7: Credit-control architecture with service element\n          containing translation agent, translating RADIUS\n          prepaid to Diameter credit-control protocol",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 3,
      "text": "When the AAA server acting as a Translation Agent receives an initial RADIUS Access-Request message from service element (e.g., NAS access), it performs regular authentication and authorization. If the RADIUS Access-Request message indicates that the service element is capable of credit-control, and if the home AAA server finds that the subscriber is a prepaid subscriber, then a Diameter credit-control request SHOULD be sent toward the credit-control server to perform credit authorization and to establish a credit-control session. After the Diameter credit-control server checks the end user's account balance, rates the service, and reserves credit from the end user's account, the reserved quota is returned to the home AAA server in the Diameter Credit-Control-Answer. Then the home AAA server sends the reserved quota to the service element in the RADIUS Access-Accept.",
      "ja": "翻訳エージェントとして機能するAAAサーバーは、サービス要素（NASアクセスなど）から最初のRADIUS Access-Requestメッセージを受信すると、定期的な認証と承認を実行します。 RADIUS Access-Requestメッセージがサービス要素にクレジット制御が可能であることを示し、ホームAAAサーバーが加入者がプリペイド加入者であることを検出した場合、Diameterクレジット制御要求をクレジット制御サーバーに送信する必要があります（SHOULD） 与信認証を実行し、与信管理セッションを確立します。 Diameterクレジット制御サーバーがエンドユーザーのアカウント残高を確認し、サービスを評価し、エンドユーザーのアカウントからクレジットを予約した後、予約されたクォータはDiameter Credit-Control-AnswerのホームAAAサーバーに返されます。 次に、ホームAAAサーバーは、予約済みクォータをRADIUS Access-Acceptのサービス要素に送信します。"
    },
    {
      "indent": 3,
      "text": "At the expiry of the allocated quota, the service element sends a new RADIUS Access-Request containing the units used this far to the home AAA server. The home AAA server shall map a RADIUS Access-Request containing the reported units to the Diameter credit-control server in a Diameter Credit-Control-Request (UPDATE_REQUEST). The Diameter credit-control server debits the used units from the end user's account and allocates a new quota that is returned to the home AAA server in the Diameter Credit-Control-Answer. The quota is transferred to the service element in the RADIUS Access-Accept. When the end user terminates the service, or when the entire quota has been used, the service element sends a RADIUS Access-Request. To debit the used units from the end user's account and to stop the credit-control session, the home AAA server sends a Diameter Credit-Control-Request (TERMINATION_REQUEST) to the credit-control server. The Diameter credit-control server acknowledges the session termination by sending a Diameter Credit-Control-Answer to the home AAA server. The RADIUS Access-Accept is sent to the NAS.",
      "ja": "割り当てられたクォータが期限切れになると、サービス要素は、これまでに使用されたユニットを含む新しいRADIUS Access-RequestをホームAAAサーバーに送信します。ホームAAAサーバーは、報告されたユニットを含むRADIUS Access-RequestをDiameter Credit-Control-Request（UPDATE_REQUEST）のDiameterクレジット制御サーバーにマップします。 Diameterクレジット制御サーバーは、エンドユーザーのアカウントから使用単位を引き落とし、Diameter Credit-Control-AnswerでホームAAAサーバーに返される新しいクォータを割り当てます。クォータは、RADIUS Access-Acceptのサービス要素に転送されます。エンドユーザーがサービスを終了するか、クォータ全体が使用されると、サービス要素はRADIUS Access-Requestを送信します。エンドユーザーのアカウントから使用単位を引き落とし、クレジット制御セッションを停止するには、ホームAAAサーバーがDiameterクレジット制御要求（TERMINATION_REQUEST）をクレジット制御サーバーに送信します。 Diameterクレジット制御サーバーは、Diameter Credit-Control-AnswerをホームAAAサーバーに送信することにより、セッションの終了を確認します。 RADIUS Access-AcceptがNASに送信されます。"
    },
    {
      "indent": 3,
      "text": "A following diagram illustrates a RADIUS prepaid - Diameter credit-control interworking sequence.",
      "ja": "次の図は、RADIUSプリペイド-Diameterクレジット制御インターワーキングシーケンスを示しています。"
    },
    {
      "indent": 6,
      "text": "Service Element         Translation Agent\n  (e.g., NAS)               (CC Client)             CC Server\n      |     Access-Request     |                        |\n      |----------------------->|                        |\n      |                        |    CCR (initial)       |\n      |                        |----------------------->|\n      |                        |    CCA (Granted-Units) |\n      |                        |<-----------------------|\n      |     Access-Accept      |                        |\n      |     (Granted-Units)    |                        |\n      |<-----------------------|                        |\n      :                        :                        :\n      |     Access-Request     |                        |\n      |     (Used-Units)       |                        |\n      |----------------------->|                        |\n      |                        |    CCR (update,        |\n      |                        |         Used-Units)    |\n      |                        |----------------------->|\n      |                        |    CCA (Granted-Units) |\n      |                        |<-----------------------|\n      |     Access-Accept      |                        |\n      |     (Granted-Units)    |                        |\n      |<-----------------------|                        |\n      :                        :                        :\n      |     Access-Request     |                        |\n      |----------------------->|                        |\n      |                        |     CCR (terminate,    |\n      |                        |          Used-Units)   |\n      |                        |----------------------->|\n      |                        |     CCA                |\n      |                        |<-----------------------|\n      |     Access-Accept      |                        |\n      |<-----------------------|                        |\n      |                        |                        |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 11,
      "text": "Figure 8: Message flow example with RADIUS prepaid -\n       Diameter credit-control interworking",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 0,
      "text": "12. IANA Considerations",
      "section_title": true,
      "ja": "12. IANAの考慮事項"
    },
    {
      "indent": 3,
      "text": "This section contains the namespaces that have either been created in this specification, or the values assigned to existing namespaces managed by IANA.",
      "ja": "このセクションには、この仕様で作成されたネームスペース、またはIANAによって管理される既存のネームスペースに割り当てられた値が含まれます。"
    },
    {
      "indent": 3,
      "text": "In the subsections below, when we speak about review by a Designated Expert, please note that the designated expert will be assigned by the IESG. Initially, such Expert discussions take place on the AAA WG mailing list.",
      "ja": "以下のサブセクションでは、指定エキスパートによるレビューについて話すとき、指定エキスパートがIESGによって割り当てられることに注意してください。 当初、このような専門家の議論はAAA WGメーリングリストで行われます。"
    },
    {
      "indent": 0,
      "text": "12.1. Application Identifier",
      "section_title": true,
      "ja": "12.1。 アプリケーション識別子"
    },
    {
      "indent": 3,
      "text": "This specification assigns the value 4, 'Diameter Credit Control', to the Application Identifier namespace defined in [DIAMBASE]. See section 1.3 for more information.",
      "ja": "この仕様は、[DIAMBASE]で定義されたApplication Identifier名前空間に値4、「Diameter Credit Control」を割り当てます。 詳細については、セクション1.3を参照してください。"
    },
    {
      "indent": 0,
      "text": "12.2. Command Codes",
      "section_title": true,
      "ja": "12.2。 コマンドコード"
    },
    {
      "indent": 3,
      "text": "This specification uses the value 272 from the Command code namespace defined in [DIAMBASE] for the Credit-Control-Request (CCR) and Credit-Control-Answer (CCA) commands.",
      "ja": "この仕様は、Credit-Control-Request（CCR）およびCredit-Control-Answer（CCA）コマンドに対して[DIAMBASE]で定義されたコマンドコード名前空間の値272を使用します。"
    },
    {
      "indent": 0,
      "text": "12.3. AVP Codes",
      "section_title": true,
      "ja": "12.3。 AVPコード"
    },
    {
      "indent": 3,
      "text": "This specification assigns the values 411 - 461 from the AVP code namespace defined in [DIAMBASE]. See section 8 for the assignment of the namespace in this specification.",
      "ja": "この仕様は、[DIAMBASE]で定義されたAVPコード名前空間から値411-461を割り当てます。 この仕様の名前空間の割り当てについては、セクション8を参照してください。"
    },
    {
      "indent": 0,
      "text": "12.4. Result-Code AVP Values",
      "section_title": true,
      "ja": "12.4。 結果コードAVP値"
    },
    {
      "indent": 3,
      "text": "This specification assigns the values 4010, 4011, 4012, 5030, 5031 from the Result-Code AVP value namespace defined in [DIAMBASE]. See section 9 for the assignment of the namespace in this specification.",
      "ja": "この仕様は、[DIAMBASE]で定義された結果コードAVP値名前空間から値4010、4011、4012、5030、5031を割り当てます。 この仕様の名前空間の割り当てについては、セクション9を参照してください。"
    },
    {
      "indent": 0,
      "text": "12.5. CC-Request-Type AVP",
      "section_title": true,
      "ja": "12.5。 CC-Request-Type AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.3, the CC-Request-Type AVP includes Enumerated type values 1 - 4. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.3で定義されているように、CC-Request-Type AVPには列挙型の値1〜4が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.6. CC-Session-Failover AVP",
      "section_title": true,
      "ja": "12.6。 CC-Session-Failover AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.4, the CC-Failover-Supported AVP includes Enumerated type values 0 - 1. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.4で定義されているように、CC-Failover-Supported AVPには列挙型の値0〜1が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.7. CC-Unit-Type AVP",
      "section_title": true,
      "ja": "12.7。 CC-Unit-Type AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.32, the CC-Unit-Type AVP includes Enumerated type values 0 - 5. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.32で定義されているように、CC-Unit-Type AVPには列挙型の値0〜5が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.8. Check-Balance-Result AVP",
      "section_title": true,
      "ja": "12.8。 チェックバランス結果AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.6, the Check-Balance-Result AVP includes Enumerated type values 0 - 1. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.6で定義されているように、Check-Balance-Result AVPには列挙型の値0〜1が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.9. Credit-Control AVP",
      "section_title": true,
      "ja": "12.9。 クレジット管理AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.13, the Credit-Control AVP includes Enumerated type values 0 - 1. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.13で定義されているように、Credit-Control AVPには列挙型の値0〜1が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.10. Credit-Control-Failure-Handling AVP",
      "section_title": true,
      "ja": "12.10。 Credit-Control-Failure-Handling AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.14, the Credit-Control-Failure-Handling AVP includes Enumerated type values 0 - 2. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.14で定義されているように、Credit-Control-Failure-Handling AVPには列挙型の値0〜2が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.11. Direct-Debiting-Failure-Handling AVP",
      "section_title": true,
      "ja": "12.11。 口座引き落とし障害処理AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.15, the Direct-Debiting-Failure-Handling AVP includes Enumerated type values 0 - 1. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.15で定義されているように、Direct-Debiting-Failure-Handling AVPには列挙型の値0〜1が含まれています。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.12. Final-Unit-Action AVP",
      "section_title": true,
      "ja": "12.12。 最終ユニットアクションAVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.35, the Final-Unit-Action AVP includes Enumerated type values 0 - 2. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.35で定義されているように、Final-Unit-Action AVPには列挙型の値0〜2が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.13. Multiple-Services-Indicator AVP",
      "section_title": true,
      "ja": "12.13。 複数サービスインジケータAVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.40, the Multiple-Services-Indicator AVP includes Enumerated type values 0 - 1. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.40で定義されているように、Multiple-Services-Indicator AVPには列挙型の値0〜1が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.14. Redirect-Address-Type AVP",
      "section_title": true,
      "ja": "12.14。 リダイレクトアドレスタイプAVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.38, the Redirect-Address-Type AVP includes Enumerated type values 0 - 3. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.38で定義されているように、Redirect-Address-Type AVPには列挙型の値0〜3が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.15. Requested-Action AVP",
      "section_title": true,
      "ja": "12.15。 要求されたアクションAVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.41, the Requested-Action AVP includes Enumerated type values 0 - 3. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.41で定義されているように、Requested-Action AVPには列挙型の値0〜3が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.16. Subscription-Id-Type AVP",
      "section_title": true,
      "ja": "12.16。 サブスクリプションIDタイプAVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.47, the Subscription-Id-Type AVP includes Enumerated type values 0 - 4. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.47で定義されているように、Subscription-Id-Type AVPには列挙型の値0〜4が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.17. Tariff-Change-Usage AVP",
      "section_title": true,
      "ja": "12.17。 関税変更利用AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.27, the Tariff-Change-Usage AVP includes Enumerated type values 0 - 2. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.27で定義されているように、Tariff-Change-Usage AVPには列挙型の値0〜2が含まれています。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "12.18. User-Equipment-Info-Type AVP",
      "section_title": true,
      "ja": "12.18。 User-Equipment-Info-Type AVP"
    },
    {
      "indent": 3,
      "text": "As defined in section 8.50, the User-Equipment-Info-Type AVP includes Enumerated type values 0 - 3. IANA has created and is maintaining a namespace for this AVP. All remaining values are available for assignment by a Designated Expert [IANA].",
      "ja": "セクション8.50で定義されているように、User-Equipment-Info-Type AVPには列挙型の値0〜3が含まれます。IANAはこのAVPの名前空間を作成し、維持しています。 残りのすべての値は、指定エキスパート[IANA]による割り当てに利用できます。"
    },
    {
      "indent": 0,
      "text": "13. Credit-Control Application Related Parameters",
      "section_title": true,
      "ja": "13.クレジット管理アプリケーション関連のパラメーター"
    },
    {
      "indent": 3,
      "text": "Tx timer",
      "ja": "Txタイマー"
    },
    {
      "indent": 6,
      "text": "When real-time credit-control is required, the credit-control client contacts the credit-control server before and while the service is provided to an end user. Due to the real-time nature of the application, the communication delays SHOULD be minimized; e.g., to avoid an overly long service setup time experienced by the end user. The Tx timer is introduced to control the waiting time in the client in the Pending state. When the Tx timer elapses, the credit-control client takes an action to the end user according to the value of the Credit-Control-Failure-Handling AVP or Direct-Debiting-Failure-Handling AVP. The recommended value is 10 seconds.",
      "ja": "リアルタイムの与信管理が必要な場合、与信管理クライアントは、サービスがエンドユーザーに提供される前および提供中に与信管理サーバーに接続します。 アプリケーションのリアルタイム性により、通信遅延は最小限に抑える必要があります。 例えば、エンドユーザーが経験する過度に長いサービスセットアップ時間を避けるため。 Txタイマーは、保留状態のクライアントで待機時間を制御するために導入されました。 Txタイマーが経過すると、クレジット制御クライアントは、Credit-Control-Failure-Handling AVPまたはDirect-Debiting-Failure-Handling AVPの値に応じてエンドユーザーに対してアクションを実行します。 推奨値は10秒です。"
    },
    {
      "indent": 3,
      "text": "Tcc timer",
      "ja": "Tccタイマー"
    },
    {
      "indent": 6,
      "text": "The Tcc timer supervises an ongoing credit-control session in the credit-control server. It is RECOMMENDED to use the Validity-Time as input to set the Tcc timer value. In case of transient failures in the network, the Diameter credit-control server might change to Idle state. To avoid this, the Tcc timer MAY be set so that Tcc equals to 2 x Validity-Time.",
      "ja": "Tccタイマーは、クレジット管理サーバーで進行中のクレジット管理セッションを監視します。 入力としてValidity-Timeを使用して、Tccタイマー値を設定することをお勧めします。 ネットワークで一時的な障害が発生した場合、Diameterクレジット制御サーバーがアイドル状態に変わる可能性があります。 これを回避するために、Tccが2 x Validity-Timeに等しくなるようにTccタイマーを設定することができます。"
    },
    {
      "indent": 3,
      "text": "Credit-Control-Failure-Handling and Direct-Debiting-Failure-Handling",
      "ja": "与信管理の失敗処理および口座引落しの失敗処理"
    },
    {
      "indent": 6,
      "text": "Client implementations may offer the possibility of locally configuring these AVPs. In such a case their value and behavior is defined in section 5.7 for the Credit-Control-Failure-Handling and in section 6.5 for the Direct-Debiting-Failure-Handling.",
      "ja": "クライアントの実装により、これらのAVPをローカルで構成できる可能性があります。 このような場合、それらの値と動作は、Credit-Control-Failure-Handlingのセクション5.7およびDirect-Debiting-Failure-Handlingのセクション6.5で定義されています。"
    },
    {
      "indent": 0,
      "text": "14. Security Considerations",
      "section_title": true,
      "ja": "14.セキュリティに関する考慮事項"
    },
    {
      "indent": 3,
      "text": "The Diameter base protocol [DIAMBASE] requires that each Diameter implementation use underlying security; i.e., IPsec or TLS. These mechanisms are believed to provide sufficient protection under the normal Internet threat model; that is, assuming that the authorized nodes engaging in the protocol have not been compromised, but that the attacker has complete control over the communication channels between them. This includes eavesdropping, message modification, insertion, and man-in-the-middle and replay attacks. Note also that this application includes a mechanism for application layer replay protection by means of the Session-Id from [DIAMBASE] and CC-Request-Number, which is specified in this document. The Diameter credit-control application is often used within one domain, and there may be a single hop between the peers. In these environments, the use of TLS or IPsec is sufficient. The details of TLS and IPsec related security considerations are discussed in the [DIAMBASE].",
      "ja": "Diameterベースプロトコル[DIAMBASE]では、各Diameter実装が基礎となるセキュリティを使用する必要があります。 つまり、IPsecまたはTLS。 これらのメカニズムは、通常のインターネット脅威モデルの下で十分な保護を提供すると考えられています。 つまり、プロトコルに関与している承認されたノードは侵害されていないと仮定しますが、攻撃者はそれらの間の通信チャネルを完全に制御できます。 これには、盗聴、メッセージの変更、挿入、および中間者攻撃とリプレイ攻撃が含まれます。 また、このアプリケーションには、[DIAMBASE]からのSession-Idおよびこのドキュメントで指定されているCC-Request-Numberによるアプリケーション層再生保護のメカニズムが含まれていることに注意してください。 Diameterクレジット制御アプリケーションは、多くの場合1つのドメイン内で使用され、ピア間に単一のホップが存在する場合があります。 これらの環境では、TLSまたはIPsecの使用で十分です。 TLSおよびIPsec関連のセキュリティに関する考慮事項の詳細は、[DIAMBASE]で説明されています。"
    },
    {
      "indent": 3,
      "text": "Because this application handles monetary transactions (directly or indirectly), it increases the interest for various security attacks. Therefore, all parties communicating with each other MUST be authenticated, including, for instance, TLS client-side authentication. In addition, authorization of the client SHOULD be emphasized; i.e., that the client is allowed to perform credit-control for a certain user. The specific means of authorization are outside of the scope of this specification but can be, for instance, manual configuration.",
      "ja": "このアプリケーションは金銭的取引を（直接的または間接的に）処理するため、さまざまなセキュリティ攻撃に対する関心が高まります。 したがって、たとえば、TLSクライアント側認証を含む、相互に通信するすべての当事者を認証する必要があります。 さらに、クライアントの承認を強調する必要があります。 つまり、クライアントが特定のユーザーの信用管理を実行できることです。 許可の特定の手段は、この仕様の範囲外ですが、たとえば、手動構成にすることができます。"
    },
    {
      "indent": 3,
      "text": "Another kind of threat is malicious modification, injection, or deletion of AVPs or complete credit-control messages. The credit-control messages contain sensitive billing related information (such as subscription Id, granted units, used units, cost information) whose malicious modification can have financial consequences. Sometimes simply delaying the credit-control messages can cause disturbances in the credit-control client or server.",
      "ja": "別の種類の脅威は、AVPまたは完全なクレジット管理メッセージの悪意のある変更、挿入、削除です。 信用管理メッセージには、重要な請求関連情報（サブスクリプションID、付与されたユニット、使用済みユニット、コスト情報など）が含まれています。 場合によっては、クレジット管理メッセージを単に遅延させるだけで、クレジット管理クライアントまたはサーバーに障害を引き起こす可能性があります。"
    },
    {
      "indent": 3,
      "text": "Even without any modification to the messages, an adversary can invite a security threat by eavesdropping, as the transactions contain private information about the user. Also, by monitoring the credit-control messages one can collect information about the credit-control server's billing models and business relationships.",
      "ja": "トランザクションにはユーザーに関する個人情報が含まれているため、メッセージを変更しなくても、攻撃者は盗聴してセキュリティ上の脅威を招く可能性があります。 また、クレジット管理メッセージを監視することにより、クレジット管理サーバーの請求モデルとビジネス関係に関する情報を収集できます。"
    },
    {
      "indent": 3,
      "text": "When third-party relays or proxy are involved, the hop-by-hop security does not necessarily provide sufficient protection for Diameter user session. In some cases, it may be inappropriate to send Diameter messages, such as CCR and CCA, containing sensitive AVPs via untrusted Diameter proxy agents, as there are no assurances that third-party proxies will not modify the credit-control commands or AVP values.",
      "ja": "サードパーティのリレーまたはプロキシが関係する場合、ホップバイホップセキュリティは必ずしもDiameterユーザーセッションに十分な保護を提供しません。 サードパーティのプロキシがクレジット制御コマンドまたはAVP値を変更しないという保証がないため、場合によっては、信頼できないDiameterプロキシエージェントを介して機密AVPを含むCCRやCCAなどのDiameterメッセージを送信することが不適切な場合があります。"
    },
    {
      "indent": 0,
      "text": "14.1. Direct Connection with Redirects",
      "section_title": true,
      "ja": "14.1。 リダイレクトとの直接接続"
    },
    {
      "indent": 3,
      "text": "A Diameter credit-control agent cannot always know whether agents between it and the end user's Diameter credit-control server are reliable. In this case, the Diameter credit-control agent doesn't have a routing entry in its Diameter Routing Table (defined in [DIAMBASE], section 2.7) for the realm of the credit-control server in the end user's home domain. The Diameter credit-control agent can have a default route configured to a local Redirect agent, and it redirects the CCR message to the redirect agent. The local Redirect agent then returns a redirect notification (Result-code 3006, DIAMETER_REDIRECT_INDICATION) to the credit-control agent, as well as Diameter credit-control server(s) information (Redirect-Host AVP) and information (Redirect-Host-Usage AVP) about how the routing entry resulting from the Redirect-Host is to be used. The Diameter credit-control agent then forwards the CCR message directly to one of the hosts identified by the CCA message from the redirect agent. If the value of the Redirect-Host-Usage AVP is unequal to zero, all following messages are sent to the host specified in the Redirect-Host AVP until the time specified by the Redirect-Max-Cache-Time AVP is expired.",
      "ja": "Diameterクレジット制御エージェントは、自身とエンドユーザーのDiameterクレジット制御サーバーとの間のエージェントが信頼できるかどうかを常に把握できるわけではありません。この場合、Diameter信用管理エージェントは、エンドユーザーのホームドメイン内の信用管理サーバーの領域のDiameterルーティングテーブル（[DIAMBASE]、セクション2.7で定義）にルーティングエントリを持ちません。 Diameterクレジット制御エージェントは、ローカルリダイレクトエージェントに設定されたデフォルトルートを持つことができ、CCRメッセージをリダイレクトエージェントにリダイレクトします。次に、ローカルリダイレクトエージェントは、リダイレクト通知（結果コード3006、DIAMETER_REDIRECT_INDICATION）をクレジット制御エージェントに返し、Diameterクレジット制御サーバー情報（リダイレクトホストAVP）と情報（リダイレクトホスト使用法）を返します。 AVP）Redirect-Hostから生じるルーティングエントリの使用方法について。次に、Diameterクレジット管理エージェントは、リダイレクトエージェントからのCCAメッセージによって識別されるホストの1つにCCRメッセージを直接転送します。 Redirect-Host-Usage AVPの値がゼロでない場合、Redirect-Max-Cache-Time AVPで指定された時間が経過するまで、Redirect-Host AVPで指定されたホストにすべてのメッセージが送信されます。"
    },
    {
      "indent": 3,
      "text": "There are some authorization issues even with redirects. There may be attacks toward nodes that have been properly authorized, but that abuse their authorization or have been compromised. These issues are discussed more widely in [DIAMEAP], section 8.",
      "ja": "リダイレクトを使用する場合でも、承認の問題がいくつかあります。 適切に認証されたノードに対して攻撃が行われる可能性がありますが、ノードの認証を悪用するか、侵害されています。 これらの問題は、[DIAMEAP]、セクション8でさらに詳しく説明されています。"
    },
    {
      "indent": 0,
      "text": "15. References",
      "section_title": true,
      "ja": "15.参照"
    },
    {
      "indent": 0,
      "text": "15.1. Normative References",
      "section_title": true,
      "ja": "15.1。 規範的参考文献"
    },
    {
      "indent": 3,
      "text": "[DIAMBASE] Calhoun, P., Loughney, J., Guttman, E., Zorn, G., and J. Arkko, \"Diameter Base Protocol\", RFC 3588, September 2003.",
      "ja": "[DIAMBASE] Calhoun、P.、Loughney、J.、Guttman、E.、Zorn、G。、およびJ. Arkko、「Diameter Base Protocol」、RFC 3588、2003年9月。"
    },
    {
      "indent": 3,
      "text": "[3GPPCHARG] 3rd Generation Partnership Project; Technical Specification Group Services and System Aspects, Service aspects; Charging and Billing, (release 5), 3GPP TS 22.115 v. 5.2.1, 2002-03.",
      "ja": "[3GPPCHARG]第3世代パートナーシッププロジェクト。 技術仕様グループのサービスとシステムの側面、サービスの側面。 課金と請求、（リリース5）、3GPP TS 22.115 v。5.2.1、2002-03。"
    },
    {
      "indent": 3,
      "text": "[SIP] Rosenberg, J., Schulzrinne, H., Camarillo, G., Johnston, A., Peterson, J., Sparks, R., Handley, M., and E. Schooler, \"SIP: Session Initiation Protocol\", RFC 3261, June 2002.",
      "ja": "[SIP] Rosenberg、J.、Schulzrinne、H.、Camarillo、G.、Johnston、A.、Peterson、J.、Sparks、R.、Handley、M。、およびE. Schooler、「SIP：Session Initiation Protocol」 、RFC 3261、2002年6月。"
    },
    {
      "indent": 3,
      "text": "[NAI] Aboba, B. and M. Beadles, \"The Network Access Identifier\", RFC 2486, January 1999.",
      "ja": "[NAI] Aboba、B。、およびM. Beadles、「ネットワークアクセス識別子」、RFC 2486、1999年1月。"
    },
    {
      "indent": 3,
      "text": "[E164] Recommendation E.164/I.331 (05/97): The International Public Telecommunication Numbering Plan. 1997.",
      "ja": "[E164]推奨事項E.164 / I.331（05/97）：国際公衆通信番号計画。 1997。"
    },
    {
      "indent": 3,
      "text": "[CE164] Complement to ITU-T Recommendation E.164 (05/1997):\"List of ITU-T Recommendation E.164 assigned country codes\", June 2000.",
      "ja": "[CE164] ITU-T勧告E.164（1997年5月）の補足：「ITU-T勧告E.164割り当て国コードのリスト」、2000年6月。"
    },
    {
      "indent": 3,
      "text": "[E212] Recommendation E.212 (11/98): The international identification plan for mobile terminals and mobile users. 1998.",
      "ja": "[E212]推奨事項E.212（11/98）：モバイル端末およびモバイルユーザー向けの国際的な識別計画。 1998年。"
    },
    {
      "indent": 3,
      "text": "[CE212] Complement to ITU-T Recommendation E.212 (11/1997):\" List of mobile country or geographical area codes\", February 1999.",
      "ja": "[CE212] ITU-T勧告E.212（1997年11月）の補足：「モバイル国コードまたは地理的エリアコードのリスト」、1999年2月。"
    },
    {
      "indent": 3,
      "text": "[IANA] Narten, T. and H. Alvestrand, \"Guidelines for Writing an IANA Considerations Section in RFCs\", BCP 26, RFC 2434, October 1998.",
      "ja": "[IANA] Narten、T。、およびH. Alvestrand、「RFCでIANA考慮事項セクションを記述するためのガイドライン」、BCP 26、RFC 2434、1998年10月。"
    },
    {
      "indent": 3,
      "text": "[IPv4] Postel, J., \"Internet Protocol\", STD 5, RFC 791, September 1981.",
      "ja": "[IPv4]ポステル、J。、「インターネットプロトコル」、STD 5、RFC 791、1981年9月。"
    },
    {
      "indent": 3,
      "text": "[IPv6Addr] Hinden, R. and S. Deering, \"Internet Protocol Version 6 (IPv6) Addressing Architecture\", RFC 3513, April 2003.",
      "ja": "[IPv6Addr] Hinden、R。およびS. Deering、「インターネットプロトコルバージョン6（IPv6）アドレス指定アーキテクチャ」、RFC 3513、2003年4月。"
    },
    {
      "indent": 3,
      "text": "[KEYWORDS] Bradner, S., \"Key words for use in RFCs to Indicate Requirement Levels\", BCP 14, RFC 2119, March 1997.",
      "ja": "[キーワード] Bradner、S。、「要件レベルを示すためにRFCで使用するキーワード」、BCP 14、RFC 2119、1997年3月。"
    },
    {
      "indent": 3,
      "text": "[ISO4217] Codes for the representation of currencies and funds, International Standard ISO 4217,2001",
      "ja": "[ISO4217]通貨と資金を表すコード、国際標準ISO 4217,2001"
    },
    {
      "indent": 3,
      "text": "[NASREQ] Calhoun, P., Zorn, G., Spence, D., and D. Mitton, \"Diameter Network Access Server Application\", RFC 4005, August 2005.",
      "ja": "[NASREQ] Calhoun、P.、Zorn、G.、Spence、D。、およびD. Mitton、「Diameter Network Access Server Application」、RFC 4005、2005年8月。"
    },
    {
      "indent": 3,
      "text": "[AAATRANS] Aboba, B. and J. Wood, \"Authentication, Authorization and Accounting (AAA) Transport Profile\", RFC 3539, June 2003.",
      "ja": "[AAATRANS] Aboba、B。、およびJ. Wood、「Authentication、Authorization and Accounting（AAA）Transport Profile」、RFC 3539、2003年6月。"
    },
    {
      "indent": 3,
      "text": "[URL] Berners-Lee, T., Masinter, L., and M. McCahill, \"Uniform Resource Locators (URL)\", RFC 1738, December 1994.",
      "ja": "[URL] Berners-Lee、T.、Masinter、L。、およびM. McCahill、「Uniform Resource Locators（URL）」、RFC 1738、1994年12月。"
    },
    {
      "indent": 3,
      "text": "[RAD802.1X] Congdon, P., Aboba, B., Smith, A., Zorn, G., and J. Roese, \"IEEE 802.1X Remote Authentication Dial In User Service (RADIUS) Usage Guidelines\", RFC 3580, September 2003.",
      "ja": "[RAD802.1X] Congdon、P.、Aboba、B.、Smith、A.、Zorn、G。、およびJ. Roese、「IEEE 802.1Xリモート認証ダイヤルインユーザーサービス（RADIUS）使用ガイドライン」、RFC 3580、 2003年9月。"
    },
    {
      "indent": 3,
      "text": "[EUI64] IEEE, \"Guidelines for 64-bit Global Identifier (EUI-64) Registration Authority\", http://standards.ieee.org/regauth/oui/tutorials/ EUI64.html March 1997.",
      "ja": "[EUI64] IEEE、「64ビットグローバル識別子（EUI-64）登録機関のガイドライン」、http：//standards.ieee.org/regauth/oui/tutorials/ EUI64.html 1997年3月。"
    },
    {
      "indent": 3,
      "text": "[3GPPIMEI] 3rd Generation Partnership Project; Technical Specification Group Core Network, Numbering, addressing and identification, (release 5), 3GPP TS 23.003 v. 5.8.0, 2003-12",
      "ja": "[3GPPIMEI]第3世代パートナーシッププロジェクト。 技術仕様グループコアネットワーク、番号付け、アドレス指定および識別、（リリース5）、3GPP TS 23.003 v。5.8.0、2003-12"
    },
    {
      "indent": 0,
      "text": "15.2. Informative References",
      "section_title": true,
      "ja": "15.2。 参考資料"
    },
    {
      "indent": 3,
      "text": "[RFC2866] Rigney, C., \"RADIUS Accounting\", RFC 2866, June 2000.",
      "ja": "[RFC2866]リグニー、C。、「RADIUS Accounting」、RFC 2866、2000年6月。"
    },
    {
      "indent": 3,
      "text": "[DIAMMIP] Calhoun, P., Johansson, T., Perkins, C., Hiller, T., and P. McCann, \"Diameter Mobile IPv4 Application\", RFC 4004, August 2005.",
      "ja": "[DIAMMIP] Calhoun、P.、Johansson、T.、Perkins、C.、Hiller、T。、およびP. McCann、「Diameter Mobile IPv4 Application」、RFC 4004、2005年8月。"
    },
    {
      "indent": 3,
      "text": "[DIAMEAP] Eronen, P., Hiller, T., and G. Zorn, \"Diameter Extensible Authentication Protocol (EAP) Application\", Work in Progress.",
      "ja": "[DIAMEAP] Eronen、P.、Hiller、T。、およびG. Zorn、「Diameter Extensible Authentication Protocol（EAP）Application」、Work in Progress。"
    },
    {
      "indent": 3,
      "text": "[RFC3725] Rosenberg, J., Peterson, J., Schulzrinne, H., and G. Camarillo, \"Best Current Practices for Third Party Call Control (3pcc) in the Session Initiation Protocol (SIP)\", BCP 85, RFC 3725, April 2004.",
      "ja": "[RFC3725]ローゼンバーグ、J。、ピーターソン、J。、シュルズリンネ、H。、およびG.カマリロ、「セッション開始プロトコル（SIP）でのサードパーティコール制御（3pcc）のベストプラクティス」、BCP 85、RFC 3725 、2004年4月。"
    },
    {
      "indent": 0,
      "text": "16. Acknowledgements",
      "section_title": true,
      "ja": "16.謝辞"
    },
    {
      "indent": 3,
      "text": "The authors would like to thank Bernard Aboba, Jari Arkko, Robert Ekblad, Pasi Eronen, Benny Gustafsson, Robert Karlsson, Avi Lior, Paco Marin, Jussi Maki, Jeff Meyer, Anne Narhi, John Prudhoe, Christopher Richards, Juha Vallinen, and Mark Watson for their comments and suggestions.",
      "ja": "著者は、バーナード・アボバ、ヤリ・アルコ、ロバート・エクブラッド、パシ・エロネン、ベニー・グスタフソン、ロバート・カールソン、アヴィ・リオール、パコ・マリン、ジュッシ・マキ、ジェフ・マイヤー、アン・ナルヒ、ジョン・プルドー、クリストファー・リチャーズ、ジュハ・ヴァリネン、マークに感謝します ワトソンのコメントと提案。"
    },
    {
      "indent": 0,
      "text": "Appendix A. Credit-Control Sequences",
      "ja": "付録A.クレジット管理シーケンス"
    },
    {
      "indent": 0,
      "text": "A.1. Flow I",
      "ja": "A.1。 フローI"
    },
    {
      "indent": 3,
      "text": "                      NAS\nEnd User          (CC Client)         AAA Server           CC Server\n   |(1)User Logon      |(2)AA Request (CC AVPs)                  |\n   |------------------>|------------------->|                    |\n   |                   |                    |(3)CCR(initial, CC AVPs)\n   |                   |                    |------------------->|\n   |                   |                    | (4)CCA(Granted-Units)\n   |                   |                    |<-------------------|\n   |                   |(5)AA Answer(Granted-Units)              |\n   |(6)Access granted  |<-------------------|                    |\n   |<----------------->|                    |                    |\n   |                   |                    |                    |\n   :                   :                    :                    :\n   |                   |(7)CCR(update,Used-Units)                |\n   |                   |------------------->|(8)CCR              |\n   |                   |                    |   (update,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                    |(9)CCA(Granted-Units)\n   |                   |(10)CCA(Granted-Units)<------------------|\n   |                   |<-------------------|                    |\n   :                   :                    :                    :\n   |         (Auth. lifetime expires)       |                    |\n   |                   |(11) AAR (CC AVP)   |                    |\n   |                   |------------------->|                    |\n   |                   |          (12) AAA  |                    |\n   |                   |<-------------------|                    |\n   :                   :                    :                    :\n   :                   :                    :                    :\n   |(13) User logoff   |                    |                    |\n   |------------------>|(14)CCR(term.,Used-Units)                |\n   |                   |------------------->|(15)CCR             |\n   |                   |                    |   (term.,Used-Units)\n   |                   |                    |------------------->|\n   |                   |                    |            (16)CCA |\n   |                   |            (17)CCA |<-------------------|\n   |                   |<-------------------|                    |\n   |                   |(18)STR             |                    |\n   |                   |------------------->|                    |\n   |                   |            (19)STA |                    |\n   |                   |<-------------------|                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 28,
      "text": "Figure A.1: Flow I",
      "ja": "図A.1：フローI"
    },
    {
      "indent": 3,
      "text": "A credit-control flow for Network Access Services prepaid is shown in Figure A.1. The Diameter [NASREQ] is implemented in the Network Access Server (NAS). The focus of this flow is in the credit authorization.",
      "ja": "前払いのネットワークアクセスサービスのクレジット管理フローを図A.1に示します。 Diameter [NASREQ]は、ネットワークアクセスサーバー（NAS）に実装されています。 このフローの焦点は、クレジット認証にあります。"
    },
    {
      "indent": 3,
      "text": "The user logs on to the network (1). The Diameter NAS sends a Diameter AA-Request (AAR) to the home Diameter AAA server. The credit-control client populates the AAR with the Credit-Control AVP set to CREDIT_AUTHORIZATION, and service-specific AVPs are included, as usual [NASREQ]. The home Diameter AAA server performs service-specific Authentication and Authorization, as usual. The home Diameter AAA server determines that the user is a prepaid user and notices from the Credit-Control AVP that the NAS has credit-control capabilities. It sends a Diameter Credit-Control-Request with CC-Request-Type set to INITIAL_REQUEST to the Diameter credit-control server to perform credit authorization (3) and to establish a credit-control session. (The home Diameter AAA server may forward service-specific AVPs received from the NAS as input for the rating process.) The Diameter credit-control server checks the end user's account balance, rates the service, and reserves credit from the end user's account. The reserved quota is returned to the home Diameter AAA server in the Diameter Credit-Control-Answer (4). The home Diameter AAA server sends the reserved quota to the NAS in the Diameter AA-Answer (AAA). Upon successful AAA, the NAS starts the credit-control session and starts monitoring the granted units (5). The NAS grants access to the end user (6). At the expiry of the allocated quota, the NAS sends a Diameter Credit-Control-Request with CC-Request-Type set to UPDATE_REQUEST to the Home Diameter AAA server (7). This message contains the units used thus far. The home Diameter AAA server forwards the CCR to the Diameter credit-control server (8). The Diameter credit-control server debits the used units from the end user's account and allocates a new quota that is returned to the home Diameter AAA server in the Diameter Credit-Control-Answer (9). The message is forwarded to the NAS (10). During the ongoing credit-control session, the authorization lifetime expires, and the authorization/authentication client in the NAS performs service specific re-authorization to the home Diameter AAA server, as usual. The credit-control client populates the AAR with the Credit-Control AVP set to RE_AUTHORIZATION, indicating that the credit-control server shall not be contacted, as the credit authorization is controlled by the burning rate of the granted units (11). The home Diameter AAA server performs service-specific re-authorization as usual and returns the AA-Answer to the NAS (12). The end user logs off from the network (13). To debit the used units from the end user's account and to stop the credit-control session, the NAS sends a Diameter Credit-Control-Request with CC-Request-Type set to TERMINATION_REQUEST to the home Diameter AAA server (14). The home Diameter AAA server forwards the CCR to the credit-control server (15). The Diameter credit-control server acknowledges the session termination by sending a Diameter Credit-Control-Answer to the home Diameter AAA server (16). The home Diameter AAA server forwards the answer to the NAS (17). STR/STA takes place between the NAS and home Diameter AAA server, as usual (18-19).",
      "ja": "ユーザーがネットワークにログオンします（1）。 Diameter NASは、Diameter AA-Request（AAR）をホームDiameter AAAサーバに送信します。信用管理クライアントは、CREDIT_AUTHORIZATIONに設定された信用管理AVPをAARに入力し、通常のようにサービス固有のAVPが含まれます[NASREQ]。ホームDiameter AAAサーバーは、通常どおり、サービス固有の認証と承認を実行します。ホームDiameter AAAサーバーは、ユーザーがプリペイドユーザーであると判断し、NASにクレジット制御機能があることをCredit-Control AVPから通知します。 CC-Request-TypeをINITIAL_REQUESTに設定したDiameter Credit-Control-RequestをDiameterクレジット制御サーバーに送信して、クレジット認証（3）を実行し、クレジット制御セッションを確立します。 （ホームDiameter AAAサーバーは、NASから受信したサービス固有のAVPを評価プロセスの入力として転送できます。）Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高を確認し、サービスを評価し、エンドユーザーのアカウントからクレジットを予約します。予約されたクォータは、Diameter Credit-Control-Answer（4）のホームDiameter AAAサーバーに返されます。ホームDiameter AAAサーバーは、Diameter AA-Answer（AAA）内のNASに予約済みクォータを送信します。 AAAが成功すると、NASはクレジット制御セッションを開始し、許可されたユニットの監視を開始します（5）。 NASはエンドユーザーにアクセスを許可します（6）。割り当てられたクォータが期限切れになると、NASは、CC-Request-TypeをUPDATE_REQUESTに設定したDiameter Credit-Control-RequestをHome Diameter AAAサーバーに送信します（7）。このメッセージには、これまでに使用された単位が含まれています。ホームDiameter AAAサーバーは、CCRをDiameterクレジット管理サーバーに転送します（8）。 Diameterクレジット制御サーバーは、エンドユーザーのアカウントから使用済み単位を引き落とし、Diameter Credit-Control-Answer（9）でホームDiameter AAAサーバーに返される新しいクォータを割り当てます。メッセージはNAS（10）に転送されます。進行中のクレジット制御セッション中に、認証ライフタイムは期限切れになり、NASの認証/認証クライアントは、通常どおり、ホームDiameter AAAサーバーに対してサービス固有の再認証を実行します。与信管理クライアントは、AARにRE_AUTHORIZATIONに設定された与信管理AVPを入力します。これは、与信承認が付与されたユニットの書き込み速度によって制御されるため、与信管理サーバーに接続しないことを示します（11）。ホームDiameter AAAサーバーは、通常どおりサービス固有の再認証を実行し、AA-AnswerをNASに返します（12）。エンドユーザーはネットワークからログオフします（13）。エンドユーザーのアカウントから使用ユニットを引き落とし、クレジット制御セッションを停止するために、NASはCC-Request-TypeをTERMINATION_REQUESTに設定したDiameter Credit-Control-RequestをホームDiameter AAAサーバーに送信します（14）。ホームDiameter AAAサーバーは、CCRをクレジット管理サーバーに転送します（15）。 Diameterクレジット制御サーバーは、Diameter Credit-Control-AnswerをホームDiameter AAAサーバーに送信することにより、セッションの終了を確認します（16）。ホームDiameter AAAサーバーは、回答をNASに転送します（17）。 STR / STAは、通常どおりNASとホームDiameter AAAサーバーの間で行われます（18-19）。"
    },
    {
      "indent": 0,
      "text": "A.2. Flow II",
      "ja": "A.2。 フローII"
    },
    {
      "indent": 8,
      "text": "      SIP Proxy/Registrar   AAA\nA           (CC Client)     Server           B        CC Server\n|(i)  REGISTER |              |              |              |\n|------------->|(ii)          |              |              |\n|              |------------->|              |              |\n|              |authentication &             |              |\n|              |authorization |              |              |\n|              |<-------------|              |              |\n|(iii)200 OK   |                             |              |\n|<-------------|                             |              |\n:              :                             :              :\n|(1)  INVITE   |                                            :\n|------------->|\n|              |(2)  CCR (Initial, SIP specific AVP)        |\n|              |------------------------------------------->|\n|              |(3)  CCA (Granted-Units)                    |\n|              |<-------------------------------------------|\n|              |(4)  INVITE                  |              |\n|              |---------------------------->|              |\n:              :                             :              :\n|              |(5)  CCR (update, Used-Units)               |\n|              |------------------------------------------->|\n|              |(6)  CCA (Granted-Units)                    |\n|              |<-------------------------------------------|\n:              :                             :              :\n|(7)  BYE      |                             |              |\n|------------->|                             |              |\n|              |(8)  BYE                     |              |\n|              |---------------------------->|              |\n|              |(9)  CCR (termination, Used-Units)          |\n|              |------------------------------------------->|\n|              |(10) CCA ()                                 |\n|              |<-------------------------------------------|\n|              |                             |              |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 27,
      "text": "Figure A.2: Flow II",
      "ja": "図A.2：フローII"
    },
    {
      "indent": 3,
      "text": "This is an example of Diameter credit-control for SIP sessions. Although the flow focuses on illustrating the usage of credit-control messages, the SIP signaling is inaccurate, and the diagram is not by any means an attempt to define a service provider's SIP network. However, for the sake of this example, some assumptions are made below.",
      "ja": "これは、SIPセッションのDiameterクレジット制御の例です。 フローはクレジット制御メッセージの使用法の説明に焦点を当てていますが、SIPシグナリングは不正確であり、この図はサービスプロバイダーのSIPネットワークを定義する試みではありません。 ただし、この例のために、いくつかの前提を以下に示します。"
    },
    {
      "indent": 3,
      "text": "Typically, prepaid services based, for example, on time usage for SIP session require an entity in the service provider network to intercept all the requests within the SIP dialog in order to detect events, such as session establishment and session release, that are essential to perform credit-control operations with the credit-control server. Therefore, in this example, it is assumed that the SIP Proxy adds a Record-Route header in the initial SIP INVITE to make sure that all the future requests in the created dialog traverse through it (for the definitions of 'Record-Route' and 'dialog' please refer to [SIP]). Finally, the degree of credit-control measuring of the media by the proxy depends on the business model design used in setting up the end system and proxies in the SIP network.",
      "ja": "通常、たとえばSIPセッションの時間使用に基づくプリペイドサービスでは、サービスプロバイダーネットワークのエンティティが、セッション確立やセッションリリースなどのイベントを検出するために、SIPダイアログ内のすべてのリクエストをインターセプトする必要があります。 クレジット管理サーバーでクレジット管理操作を実行します。 したがって、この例では、SIPプロキシが最初のSIP INVITEにRecord-Routeヘッダーを追加して、作成されたダイアログ内の今後のすべての要求が（「Record-Route」の定義について） 「ダイアログ」は[SIP]を参照してください）。 最後に、プロキシによるメディアのクレジット管理の測定の程度は、SIPネットワークでエンドシステムとプロキシを設定する際に使用されるビジネスモデルの設計に依存します。"
    },
    {
      "indent": 3,
      "text": "The end user (SIP User Agent A) sends REGISTER with credentials (i). The SIP Proxy sends a request to the home AAA server to perform Multimedia authentication and authorization by using, for instance, Diameter Multimedia application (ii). The home AAA server checks that the credentials are correct and checks the user profile. Eventually, 200 OK response (iii) is sent to the UA. Note that the Authentication and Authorization is valid for the registration validity period duration (i.e., until re-registration is performed). Several SIP sessions may be established without re-authorization.",
      "ja": "エンドユーザー（SIPユーザーエージェントA）は、資格情報（REGISTER）を送信します。 SIPプロキシは、たとえばDiameterマルチメディアアプリケーション（ii）を使用して、ホームAAAサーバーに要求を送信し、マルチメディアの認証と承認を実行します。 ホームAAAサーバーは、資格情報が正しいことを確認し、ユーザープロファイルを確認します。 最終的に、200 OK応答（iii）がUAに送信されます。 認証と承認は、登録の有効期間中（つまり、再登録が実行されるまで）有効であることに注意してください。 再認証なしで複数のSIPセッションを確立できます。"
    },
    {
      "indent": 3,
      "text": "UA A sends an INVITE (1). The SIP Proxy sends a Diameter Credit-Control-Request (INITIAL_REQUEST) to the Diameter credit-control server (2). The Credit-Control-Request contains information obtained from the SIP signaling describing the requested service (e.g., calling party, called party, Session Description Protocol attributes). The Diameter credit-control server checks the end user's account balance, rates the service, and reserves credit from the end user's account. The reserved quota is returned to the SIP Proxy in the Diameter Credit-Control-Answer (3). The SIP Proxy forwards the SIP INVITE to UA B (4). B's phone rings, and B answers. The media flows between them, and the SIP Proxy starts measuring the quota. At the expiry of the allocated quota, the SIP Proxy sends a Diameter Credit-Control-Request (UPDATE_REQUEST) to the Diameter credit-control server (5). This message contains the units used thus far. The Diameter credit-control server debits the used units from the end user's account and allocates new credit that is returned to the SIP Proxy in the Diameter Credit-Control-Answer (6). The end user terminates the service by sending a BYE (7). The SIP Proxy forwards the BYE message to UA B (8) and sends a Diameter Credit-Control-Request (TERMINATION_REQUEST) to the credit-control server (9). The Diameter credit-control server acknowledges the session termination by sending a Diameter Credit-Control-Answer to the SIP Proxy (10).",
      "ja": "UA AはINVITE（1）を送信します。 SIPプロキシはDiameter Credit-Control-Request（INITIAL_REQUEST）をDiameterクレジット制御サーバーに送信します（2）。 Credit-Control-Requestには、要求されたサービスを説明するSIPシグナリングから取得した情報が含まれます（たとえば、発呼側、被呼側、セッション記述プロトコル属性）。 Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高を確認し、サービスを評価し、エンドユーザーのアカウントからクレジットを予約します。予約されたクォータは、Diameter Credit-Control-Answer（3）でSIPプロキシに返されます。 SIPプロキシはSIP INVITEをUA Bに転送します（4）。 Bの電話が鳴り、Bが応答します。メディアはそれらの間を流れ、SIPプロキシはクォータの測定を開始します。割り当てられたクォータの有効期限が切れると、SIPプロキシはDiameter Credit-Control-Request（UPDATE_REQUEST）をDiameterクレジット制御サーバに送信します（5）。このメッセージには、これまでに使用された単位が含まれています。 Diameterクレジット制御サーバーは、エンドユーザーのアカウントから使用単位を引き落とし、Diameter Credit-Control-Answer（6）でSIPプロキシに返される新しいクレジットを割り当てます。エンドユーザーは、BYE（7）を送信してサービスを終了します。 SIPプロキシはBYEメッセージをUA Bに転送し（8）、Diameter Credit-Control-Request（TERMINATION_REQUEST）をクレジット制御サーバーに送信します（9）。 Diameterクレジット制御サーバーは、Diameter Credit-Control-AnswerをSIPプロキシに送信することにより、セッションの終了を確認します（10）。"
    },
    {
      "indent": 0,
      "text": "A.3. Flow III",
      "ja": "A.3。 フローIII"
    },
    {
      "indent": 13,
      "text": "             MMS Server\nA           (CC Client)           B           CC Server\n|(1) Send MMS    |                |                |\n|--------------->|                |                |\n|                |(2)  CCR (event, DIRECT_DEBITING,|\n|                |          MMS specific AVP)      |\n|                |-------------------------------->|\n|                |(3)  CCA (Granted-Units)         |\n|                |<--------------------------------|\n|(4) Send MMS Ack|                |                |\n|<---------------|                |                |\n|                |(5) Notify MMS  |                |\n|                |--------------->|                |\n:                :                :                :\n|                |(6) Retrieve MMS|                |\n|                |<---------------|                |\n|                |(7) Retrieve MMS|                |\n|                |    Ack         |                |\n|                |--------------->|                |\n|                |                |                |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 29,
      "text": "Figure A.3: Flow III",
      "ja": "図A.3：フローIII"
    },
    {
      "indent": 3,
      "text": "A credit-control flow for Multimedia Messaging Services is shown in Figure A.3. The sender is charged as soon as the messaging server successfully stores the message.",
      "ja": "マルチメディアメッセージングサービスのクレジット制御フローを図A.3に示します。 メッセージングサーバーがメッセージを正常に保存するとすぐに、送信者に課金されます。"
    },
    {
      "indent": 3,
      "text": "The end user A sends a Multimedia Message (MMS) to the MMS server (1). The MMS server stores the message and sends a Diameter Credit-Control-Request (EVENT_REQUEST with Requested-Action DIRECT_DEBITING) to the Diameter credit-control server (2). The Credit-Control-Request contains information about the MMS message (e.g., size, recipient address, image coding type). The Diameter credit-control server checks the end user's account balance, rates the service, and debits the service from the end user's account. The granted quota is returned to the MMS server in the Diameter Credit-Control-Answer (3). The MMS server acknowledges the successful reception of the MMS message (4). The MMS Server notifies the recipient about the new MMS (5), and end user B retrieves the message from the MMS message store (6),(7).",
      "ja": "エンドユーザーAは、マルチメディアメッセージ（MMS）をMMSサーバーに送信します（1）。 MMSサーバーはメッセージを保存し、Diameter Credit-Control-Request（Requested-Action DIRECT_DEBITINGを含むEVENT_REQUEST）をDiameterクレジット制御サーバーに送信します（2）。 Credit-Control-Requestには、MMSメッセージに関する情報（サイズ、受信者アドレス、画像コーディングタイプなど）が含まれています。 Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高を確認し、サービスを評価し、エンドユーザーのアカウントからサービスの借方を記入します。 許可されたクォータは、Diameter Credit-Control-Answer（3）でMMSサーバーに返されます。 MMSサーバーは、MMSメッセージの正常な受信を確認します（4）。 MMSサーバーは新しいMMSについて受信者に通知し（5）、エンドユーザーBはMMSメッセージストアからメッセージを取得します（6）、（7）。"
    },
    {
      "indent": 0,
      "text": "A.4. Flow IV",
      "ja": "A.4。 フローIV"
    },
    {
      "indent": 6,
      "text": "                    MMS Server\nContent Server     (CC Client)           B           CC Server\n       |(1) Send MMS    |                |                |\n       |--------------->|                |                |\n       |                |(2)  CCR (event, CHECK_BALANCE,  |\n       |                |          MMS specific AVP)      |\n       |                |-------------------------------->|\n       |                |(3)  CCA (ENOUGH_CREDIT)         |\n       |                |<--------------------------------|\n       |(4) Send MMS Ack|                |                |\n       |<---------------|                |                |\n       |                |(5) Notify MMS  |                |\n       |                |--------------->|                |\n       :                :                :                :\n       |                |(6) Retrieve MMS|                |\n       |                |<---------------|                |\n       |                |(7)  CCR (event, DIRECT_DEBITING,|\n       |                |          MMS specific AVP)      |\n       |                |-------------------------------->|\n       |                |(8)  CCA (Granted-Units)         |\n       |                |<--------------------------------|\n       |                |(9) Retrieve MMS|                |\n       |                |    Ack         |                |\n       |                |--------------->|                |\n       |                |                |                |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 30,
      "text": "Figure A.4: Flow IV",
      "ja": "図A.4：フローIV"
    },
    {
      "indent": 3,
      "text": "This is an example of Diameter credit-control for direct debiting using the Multimedia Messaging Service environment. Although the flow focuses on illustrating the usage of credit-control messages, the MMS signaling is inaccurate, and the diagram is not by any means an attempt to define any service provider's MMS configuration or billing model.",
      "ja": "これは、マルチメディアメッセージングサービス環境を使用した口座引落しのためのDiameterクレジット制御の例です。 フローはクレジット制御メッセージの使用法の説明に焦点を当てていますが、MMSシグナリングは不正確であり、この図はサービスプロバイダーのMMS構成または課金モデルを定義する試みではありません。"
    },
    {
      "indent": 3,
      "text": "A credit-control flow for Multimedia Messaging Service is shown in Figure A.4. The recipient is charged at the message delivery.",
      "ja": "マルチメディアメッセージングサービスのクレジット制御フローを図A.4に示します。 受信者は、メッセージの配信時に課金されます。"
    },
    {
      "indent": 3,
      "text": "A content server sends a Multimedia Message (MMS) to the MMS server (1) that stores the message. The message recipient will be charged for the MMS message in this case. As there can be a substantially long time between the receipt of the message at the MMS server and the actual retrieval of the message, the MMS server does not establish any credit-control session to the Diameter credit-control server but performs first only a balance check (without any credit reservation) by sending a Diameter Credit-Control-Request (EVENT_REQUEST with Requested-Action CHECK_BALANCE) to verify that end user B can cover the cost for the MMS (2). The Diameter credit-control server checks the end user's account balance and returns the answer to the MMS server in the Diameter Credit-Control-Answer (3). The MMS server acknowledges the successful reception of the MMS message (4). The MMS server notifies the recipient of the new MMS (5), and after some time end user B retrieves the message from the MMS message store (6). The MMS server sends a Diameter Credit-Control-Request (EVENT_REQUEST with Requested-Action: DIRECT_DEBITING) to the Diameter credit-control server (7). The Credit-Control-Request contains information about the MMS message (e.g., size, recipient address, coding type). The Diameter credit-control server checks the end user's account balance, rates the service, and debits the service from the end user's account. The granted quota is returned to the MMS server in the Diameter Credit-Control-Request (8). The MMS is transferred to end user B (9).",
      "ja": "コンテンツサーバーは、メッセージを保存するMMSサーバー（1）にマルチメディアメッセージ（MMS）を送信します。この場合、メッセージ受信者にMMSメッセージの料金が請求されます。 MMSサーバーでのメッセージの受信から実際のメッセージの取得までにかなり長い時間がかかる可能性があるため、MMSサーバーはDiameterクレジット制御サーバーへのクレジット制御セッションを確立せず、最初に残高のみを実行しますDiameter Credit-Control-Request（Requested-Action CHECK_BALANCEを含むEVENT_REQUEST）を送信して（クレジット予約なしで）チェックし、エンドユーザーBがMMSのコストを賄えることを確認します（2）。 Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高をチェックし、Diameter Credit-Control-Answer（3）でMMSサーバーに回答を返します。 MMSサーバーは、MMSメッセージの正常な受信を確認します（4）。 MMSサーバーは新しいMMSの受信者に通知し（5）、しばらくしてエンドユーザーBがMMSメッセージストアからメッセージを取得します（6）。 MMSサーバーは、Diameter Credit-Control-Request（Requested-Action：DIRECT_DEBITINGを含むEVENT_REQUEST）をDiameterクレジット制御サーバー（7）に送信します。 Credit-Control-Requestには、MMSメッセージに関する情報（サイズ、受信者アドレス、コーディングタイプなど）が含まれています。 Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高を確認し、サービスを評価し、エンドユーザーのアカウントからサービスの借方を記入します。許可されたクォータは、Diameter Credit-Control-Request（8）でMMSサーバーに返されます。 MMSはエンドユーザーBに転送されます（9）。"
    },
    {
      "indent": 3,
      "text": "Note that the transfer of the MMS message can take an extended time and can fail, in which case a recovery action is needed. The MMS server should return the already debited units to the user's account by using the REFUND action described in section 6.4.",
      "ja": "MMSメッセージの転送には時間がかかり、失敗する可能性があることに注意してください。その場合、回復アクションが必要です。 MMSサーバーは、セクション6.4で説明されているREFUNDアクションを使用して、既に借方記入されたユニットをユーザーのアカウントに返す必要があります。"
    },
    {
      "indent": 0,
      "text": "A.5. Flow V",
      "ja": "A.5。 フローV"
    },
    {
      "indent": 13,
      "text": "           SIP Controller\nA           (CC Client)           B           CC Server\n|(1)INVITE B(SDP)|                |                |\n|--------------->|                |                |\n|                |(2)  CCR (event, PRICE_ENQUIRY,  |\n|                |          SIP specific AVPs)     |\n|                |-------------------------------->|\n|                |(3)  CCA (Cost-Information)      |\n|                |<--------------------------------|\n| (4)MESSAGE(URL)|                |                |\n|<---------------|                |                |\n|(5)HTTP GET     |                |                |\n|--------------->|                |                |\n|(6)HTTP POST    |                |                |\n|--------------->|(7)INVITE(SDP)  |                |\n|                |--------------->|                |\n|                |      (8)200 OK |                |\n|      (9)200 OK |<---------------|                |\n|<---------------|                |                |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 28,
      "text": "Figure A.5: Flow V",
      "ja": "図A.5：フローV"
    },
    {
      "indent": 3,
      "text": "This is an example of Diameter credit-control for SIP sessions. Although the flow focuses on illustrating the usage of credit-control messages, the SIP signaling is inaccurate, and the diagram is not by any means an attempt to define a service provider's SIP network.",
      "ja": "これは、SIPセッションのDiameterクレジット制御の例です。 フローはクレジット制御メッセージの使用法の説明に焦点を当てていますが、SIPシグナリングは不正確であり、この図はサービスプロバイダーのSIPネットワークを定義する試みではありません。"
    },
    {
      "indent": 3,
      "text": "Figure A.5 is an example of Advice of Charge (AoC) service for SIP call. User A can be either a postpaid or prepaid subscriber using the AoC service. It is assumed that the SIP controller also has HTTP capabilities and delivers an interactive AoC web page with, for instance, the cost information, the details of the call derived from the SDP, and a button to accept/not accept the charges. (There may be many other ways to deliver AoC information; however, this flow focuses on the use of the credit-control messages.) The user has been authenticated and authorized prior to initiating the call and subscribed to AoC service.",
      "ja": "図A.5は、SIPコールの課金アドバイス（AoC）サービスの例です。 ユーザーAは、AoCサービスを使用するポストペイドまたはプリペイド加入者のいずれかです。 SIPコントローラーはHTTP機能も備えており、たとえば、コスト情報、SDPから派生したコールの詳細、および料金を受け入れる/受け入れないボタンを含むインタラクティブなAoC Webページを配信するものと想定されます。 （AoC情報を配信する方法は他にもたくさんありますが、このフローではクレジット制御メッセージの使用に焦点を当てています。）ユーザーは、通話を開始する前に認証および承認され、AoCサービスにサブスクライブしました。"
    },
    {
      "indent": 3,
      "text": "UA A sends an INVITE with SDP to B (1). The SIP controller determines that the user is subscribed to AoC service and sends a Diameter Credit-Control-Request (EVENT_REQUEST with Requested-Action: PRICE_ENQUIRY) to the Diameter credit-control server (2). The Credit-Control-Request contains SIP specific AVPs derived from the SIP signaling, describing the requested service (e.g., calling party, called party, Session Description Protocol attributes). The Diameter credit-control server determines the cost of the service and returns the Credit-Control-Answer including the Cost-Information AVP (3). The SIP controller manufactures the AoC web page with information received in SIP signaling and with the cost information received from the credit-control server. Then it sends a SIP MESSAGE that contains a URL pointing to the AoC information web page (4). At the receipt of the SIP MESSAGE, A's UA automatically invokes the web browser that retrieves the AoC information (5). The user clicks on a proper button and accepts the charges (6). The SIP controller continues the session and sends the INVITE to the B party, which accepts the call (7,8,9).",
      "ja": "UA Aは、SDPを含むINVITEをB（1）に送信します。 SIPコントローラーは、ユーザーがAoCサービスにサブスクライブしていることを判別し、Diameter Credit-Control-Request（Requested-Action：PRICE_ENQUIRYを含むEVENT_REQUEST）をDiameterクレジット制御サーバーに送信します（2）。 Credit-Control-Requestには、SIPシグナリングから派生したSIP固有のAVPが含まれ、要求されたサービス（たとえば、発呼側、着呼側、セッション記述プロトコル属性）を記述します。 Diameterクレジット制御サーバーは、サービスのコストを決定し、Cost-Information AVP（3）を含むCredit-Control-Answerを返します。 SIPコントローラーは、SIPシグナリングで受信した情報とクレジット管理サーバーから受信したコスト情報を使用して、AoC Webページを製造します。次に、AoC情報Webページを指すURLを含むSIPメッセージを送信します（4）。 SIPメッセージを受信すると、AのUAは、AoC情報を取得するWebブラウザーを自動的に呼び出します（5）。ユーザーは適切なボタンをクリックして、料金を受け入れます（6）。 SIPコントローラーはセッションを継続し、呼び出し（7,8,9）を受け入れるBパーティにINVITEを送信します。"
    },
    {
      "indent": 0,
      "text": "A.6. Flow VI",
      "ja": "A.6。 フローVI"
    },
    {
      "indent": 6,
      "text": "                       Gaming Server\nEnd User                (CC Client)              CC Server\n   |  (1)Service Delivery   |                        |\n   |<---------------------->|                        |\n   :                        :                        :\n   :                        :                        :\n   |                        |(2)CCR(event,REFUND,Requested-\n   |                        |Service-Unit,Service-Parameter-Info)\n   |                        |----------------------->|\n   |                        |  (3)CCA(Cost-Information)\n   |                        |<-----------------------|\n   |        (4)Notification |                        |\n   |<-----------------------|                        |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 26,
      "text": "Figure A.6: Flow VI",
      "ja": "図A.6：フローVI"
    },
    {
      "indent": 3,
      "text": "Figure A.6 illustrates a credit-control flow for the REFUND case. It is assumed that there is a trusted relationship and secure connection between the Gaming server and the Diameter credit-control server. The end user may be a prepaid subscriber or a postpaid subscriber.",
      "ja": "図A.6は、払い戻しの場合のクレジット管理フローを示しています。 ゲームサーバーとDiameterクレジットコントロールサーバー間に信頼関係と安全な接続があると想定されています。 エンドユーザーは、プリペイドサブスクライバーまたはポストペイドサブスクライバーです。"
    },
    {
      "indent": 3,
      "text": "While the end user is playing the game (1), she enters a new level that entitles her to a bonus. The Gaming server sends a Diameter Credit-Control-Request (EVENT_REQUEST with Requested-Action: REFUND_ACCOUNT) to the Diameter credit-control server (2). The Credit-Control-Request Request contains the Requested-Service-Unit AVP with the CC-Service-Specific-Units containing the number of points the user just won. The Service-Parameter-Info AVP is also included in the request and specifies the service event to be rated (e.g., Tetris Bonus). From information received, the Diameter credit-control server determines the amount to be credited, refunds the user's account, and returns the Credit-Control-Answer, including the Cost-Information AVP (3). The Cost-Information indicates the credited amount. At the first opportunity, the Gaming server notifies the end user of the credited amount (4).",
      "ja": "エンドユーザーがゲームをプレイしている間（1）、彼女はボーナスの資格を得る新しいレベルに入ります。 GamingサーバーはDiameter Credit-Control-Request（Requested-Action：REFUND_ACCOUNTを含むEVENT_REQUEST）をDiameterクレジット制御サーバー（2）に送信します。 Credit-Control-Request Requestには、ユーザーがちょうど獲得したポイント数を含むCC-Service-Specific-Unitsを含むRequested-Service-Unit AVPが含まれています。 Service-Parameter-Info AVPもリクエストに含まれ、評価するサービスイベントを指定します（テトリスボーナスなど）。 受信した情報から、Diameterクレジット管理サーバーはクレジットされる金額を決定し、ユーザーのアカウントに返金し、Cost-Information AVP（3）を含むCredit-Control-Answerを返します。 コスト情報は、クレジットされた金額を示します。 最初の機会に、ゲームサーバーはクレジットされた金額をエンドユーザーに通知します（4）。"
    },
    {
      "indent": 0,
      "text": "A.7. Flow VII",
      "ja": "A.7。 フローVII"
    },
    {
      "indent": 8,
      "text": "          SIP Controller    Top-Up\nA          (CC Client)      Server           B      CC Server\n|               |              |             |              |\n|               | (1) CCR(Update,Used-Unit)  |              |\n|               |------------------------------------------>|\n|               |              (2) CCA(Final-Unit, Redirect)|\n|               |<------------------------------------------|\n:               :              :             :              :\n:               :              :             :              :\n|               | (3) CCR(Update, Used-Units)|              |\n|               |------------------------------------------>|\n|               | (3a)INVITE(\"hold\")         |              |\n|               |--------------------------->|              |\n|               |              |      (4) CCA(Validity-Time)|\n|               |<------------------------------------------|\n|     (5)INVITE | (6)INVITE    |             |              |\n|<--------------|------------->|             |              |\n|            (7)RTP            |             |              |\n|..............................|             |              |\n|               |       (8)BYE |             |              |\n|               |<-------------|             |              |\n|               | (9)CCR(Update)             |              |\n|               |------------------------------------------>|\n|               |                     (10)CCA(Granted-Unit) |\n|               |<------------------------------------------|\n|    (12)INVITE | (11)INVITE                 |              |\n|<--------------|--------------------------->|              |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 27,
      "text": "Figure A.7: Flow VII",
      "ja": "図A.7：フローVII"
    },
    {
      "indent": 3,
      "text": "Figure A.7 is an example of the graceful service termination for a SIP call. It is assumed that the call is set up so that the controller is in the call as a B2BUA (Back to Back User Agent) performing third-party call control (3PCC). Note that the SIP signaling is inaccurate, as the focus of this flow is in the graceful service termination and credit-control authorization. The best practice for 3PCC is defined in [RFC3725].",
      "ja": "図A.7は、SIPコールのグレースフルサービス終了の例です。 コントローラがサードパーティコール制御（3PCC）を実行するB2BUA（Back to Back User Agent）としてコール内にあるように、コールがセットアップされていると想定されます。 このフローの焦点はグレースフルサービスの終了とクレジット制御の許可にあるため、SIPシグナリングは不正確であることに注意してください。 3PCCのベストプラクティスは[RFC3725]で定義されています。"
    },
    {
      "indent": 3,
      "text": "The call is ongoing between users A and B; user A has a prepaid subscription. At the expiry of the allocated quota, the SIP controller sends a Diameter Credit-Control-Request (UPDATE_REQUEST) to the Diameter credit-control server (1). This message contains the units used thus far. The Diameter credit-control server debits the used units from the end user's account and allocates the final quota returned to the SIP controller in the Diameter Credit-Control-Answer (2). This message contains the Final-Unit-Indication AVP with the",
      "ja": "ユーザーAとユーザーBの間で通話が継続中です。 ユーザーAにはプリペイドサブスクリプションがあります。 割り当てられたクォータが期限切れになると、SIPコントローラはDiameter Credit-Control-Request（UPDATE_REQUEST）をDiameterクレジット制御サーバ（1）に送信します。 このメッセージには、これまでに使用された単位が含まれています。 Diameterクレジット制御サーバーは、エンドユーザーのアカウントから使用済み単位を引き落とし、Diameter Credit-Control-Answer（2）でSIPコントローラーに返される最終クォータを割り当てます。 このメッセージには、Final-Unit-Indication AVPと"
    },
    {
      "indent": 3,
      "text": "Final-Unit-Action set to REDIRECT, the Redirect-Address-Type set to SIP URI, and the Redirect-Server-Address set to the Top-up server name (e.g., sip:sip-topup-server@domain.com). At the expiry of the final allocated quota, the SIP controller sends a Diameter Credit-Control-Request (UPDATE_REQUEST) to the Diameter credit-control server (3) and places the called party on \"hold\" by sending an INVITE with the appropriate connection address in the SDP (3a). The Credit-Control-Request message contains the units used thus far. The Diameter credit-control server debits the used units from the end user's account but does not make any credit reservation. The Credit-Control-Answer message, which contains the Validity-Time to supervise the graceful service termination, is returned to the SIP controller (4). The SIP controller establishes a SIP session between the prepaid user and the Top-up server (5, 6). The Top-up server plays an announcement and prompts the user to enter a credit card number and the amount of money to be used to replenish the account (7). The Top-up server validates the credit card number and replenishes the user's account (using some means outside the scope of this specification) and releases the SIP session (8). The SIP controller can now assume that communication between the prepaid user and the Top-up server took place. It sends a spontaneous Credit-Control-Request (UPDATE_REQUEST) to the Diameter credit-control server to check whether the account has been replenished (9). The Diameter credit-control server reserves credit from the end user's account and returns the reserved quota to the SIP controller in the Credit-Control-Answer (10). At this point, the SIP controller re-connects the caller and the called party (11,12).",
      "ja": "Final-Unit-ActionはREDIRECTに設定され、Redirect-Address-TypeはSIP URIに設定され、Redirect-Server-Addressはトップアップサーバー名に設定されます（例：sip：sip-topup-server@domain.com） 。最終的に割り当てられた割り当ての有効期限が切れると、SIPコントローラはDiameter Credit-Control-Request（UPDATE_REQUEST）をDiameterクレジット制御サーバ（3）に送信し、適切な接続でINVITEを送信することで着信側を「保留」にします。 SDPのアドレス（3a）。 Credit-Control-Requestメッセージには、これまでに使用されたユニットが含まれています。 Diameterクレジット管理サーバーは、使用済みユニットをエンドユーザーのアカウントから引き落としますが、クレジットの予約は行いません。正常なサービス終了を監視する有効期間を含むCredit-Control-Answerメッセージは、SIPコントローラーに返されます（4）。 SIPコントローラーは、プリペイドユーザーとトップアップサーバーの間にSIPセッションを確立します（5、6）。トップアップサーバーはアナウンスを再生し、ユーザーにクレジットカード番号とアカウントの補充に使用する金額の入力を求めます（7）。トップアップサーバーは、クレジットカード番号を検証し、ユーザーのアカウントに補充し（この仕様の範囲外の何らかの手段を使用）、SIPセッションを解放します（8）。これで、SIPコントローラーは、プリペイドユーザーとトップアップサーバー間の通信が行われたと想定できます。アカウントが補充されたかどうかを確認するために、自発的なCredit-Control-Request（UPDATE_REQUEST）をDiameterクレジット制御サーバーに送信します（9）。 Diameterクレジット制御サーバーは、エンドユーザーのアカウントからクレジットを予約し、予約されたクォータをCredit-Control-Answer（10）のSIPコントローラーに返します。この時点で、SIPコントローラーは発信者と着信者（11、12）を再接続します。"
    },
    {
      "indent": 0,
      "text": "A.8. Flow VIII",
      "ja": "A.8。 フローVIII"
    },
    {
      "indent": 3,
      "text": "                      NAS                           Top-up      CC\nEnd-User         (CC Client)          AAA Server    Server    Server\n  |(1)User Logon      |(2)AA Request (CC AVPs)        |         |\n  |------------------>|------------------->|          |         |\n  |                   |                    |(3)CCR(initial, CC AVPs)\n  |                   |                    |------------------->|\n  |                   |                    |(4)CCA(Final-Unit,  |\n  |                   |                    |      Validity-Time)|\n  |                   |                    |<-------------------|\n  |                   |(5)AA Answer(Final-Unit,Validity-Time)   |\n  |(6)Limited Access  |<-------------------|          |         |\n  |      granted      |                    |          |         |\n  |<----------------->|                    |          |         |\n  |                   |                    |          |         |\n  |   (7)TCP/HTTP     |        (8)TCP/HTTP            |         |\n  |<----------------->|<----------------------------->|         |\n  |                 (9) Replenish account             |         |\n  |<------------------------------------------------->|         |\n  |                   |                    |            (10)RAR |\n  |                   |<-------------------|<-------------------|\n  |                   | (11) RAA           |                    |\n  |                   |------------------->|------------------->|\n  |                   |(12)CCR(update)     |                    |\n  |                   |------------------->|(13)CCR(Update)     |\n  |                   |                    |------------------->|\n  |                   |                    |(14)CCA(Granted-Units)\n  |                   |(15)CCA(Granted-Units)<------------------|\n  |                   |<-------------------|                    |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 25,
      "text": "Figure A.8: Flow VIII",
      "ja": "図A.8：フローVIII"
    },
    {
      "indent": 3,
      "text": "Figure A.8 is an example of the graceful service termination initiated when the first interrogation takes place because the user's account is empty. In this example, the credit-control server supports the server-initiated credit re-authorization. The Diameter [NASREQ] is implemented in the Network Access Server (NAS).",
      "ja": "図A.8は、ユーザーのアカウントが空であるために最初の問い合わせが行われたときに開始されるグレースフルサービス終了の例です。 この例では、クレジット制御サーバーはサーバー起動のクレジット再認証をサポートしています。 Diameter [NASREQ]は、ネットワークアクセスサーバー（NAS）に実装されています。"
    },
    {
      "indent": 3,
      "text": "The user logs on to the network (1). The Diameter NAS sends a Diameter AA-Request to the home Diameter AAA server. The credit-control client populates the AAR with the Credit-Control AVP set to CREDIT_AUTHORIZATION, and service specific AVPs are included, as usual [NASREQ]. The home Diameter AAA server performs service specific Authentication and Authorization, as usual. The home Diameter AAA server determines that the user has a prepaid subscription and notices from the Credit-Control AVP that the NAS has credit-control capabilities. It sends a Diameter Credit-Control-",
      "ja": "ユーザーがネットワークにログオンします（1）。 Diameter NASはDiameter AA-RequestをホームDiameter AAAサーバに送信します。 信用管理クライアントは、CREDIT_AUTHORIZATIONに設定された信用管理AVPをAARに入力し、通常のように[NASREQ]サービス固有のAVPが含まれます。 ホームDiameter AAAサーバーは、通常どおり、サービス固有の認証と承認を実行します。 ホームDiameter AAAサーバーは、ユーザーがプリペイドサブスクリプションを持っていることを判断し、NASにクレジット制御機能があることをCredit-Control AVPから通知します。 Diameter Credit-Control-を送信します"
    },
    {
      "indent": 3,
      "text": "Request with CC-Request-Type set to INITIAL_REQUEST to the Diameter credit-control server to perform credit authorization (3) and to establish a credit-control session. (The home Diameter AAA server may forward service specific AVPs received from the NAS as input for the rating process.) The Diameter credit-control server checks the end user's account balance, determines that the account cannot cover the cost of the service, and initiates the graceful service termination. The Credit-Control-Answer is returned to the home Diameter AAA server (4). This message contains the Final-Unit-Indication AVP and the Validity-Time AVP set to a reasonable amount of time to give the user a chance to replenish his/her account (e.g., 10 minutes). The Final-Unit-Indication AVP includes the Final-Unit-Action set to REDIRECT, the Redirect-Address-Type set to URL, and the Redirect-Server-Address set to the HTTP Top-up server name. The home Diameter AAA server sends the received credit-control AVPs to the NAS in the Diameter AA-Answer (5). Upon successful AAA, the NAS starts the credit-control session and immediately starts the graceful service termination, as instructed by the server. The NAS grants limited access to the user (6). The HTTP client software running in the user's device opens the transport connection redirected by the NAS to the Top-up server (7,8). The user is displayed an appropriate web page on which to enter the credit card number, and the amount of money to be used to replenish the account, and with a notification message that she is granted unlimited access if the replenishment operation will be successfully executed within the next, for example, 10 minutes. The Top-up server validates the credit card number and replenishes the user's account (using some means outside the scope of this specification)(9). After successful account top-up, the credit-control server sends a Re-Auth-Request message to the NAS (10). The NAS acknowledges the request by returning the Re-Auth-Answer message (11) and initiates the credit re-authorization by sending a Credit-Control-request (UPDATE_REQUEST) to the Diameter credit-control server (12,13).",
      "ja": "Diameterクレジット制御サーバーにCC-Request-TypeをINITIAL_REQUESTに設定して、クレジット認証（3）を実行し、クレジット制御セッションを確立する要求。 （ホームDiameter AAAサーバーは、レーティングプロセスの入力としてNASから受信したサービス固有のAVPを転送できます。）Diameterクレジット制御サーバーは、エンドユーザーのアカウント残高を確認し、アカウントがサービスの費用を賄えないと判断し、開始します正常なサービス終了。 Credit-Control-AnswerがホームDiameter AAAサーバーに返されます（4）。このメッセージには、ユーザーにアカウントを補充する機会を与えるために合理的な時間（10分など）に設定された最終単位表示AVPと有効期間AVPが含まれます。 Final-Unit-Indication AVPには、REDIRECTに設定されたFinal-Unit-Action、URLに設定されたRedirect-Address-Type、およびHTTP Top-upサーバー名に設定されたRedirect-Server-Addressが含まれます。ホームDiameter AAAサーバーは、受信したクレジット制御AVPをDiameter AA-Answer（5）のNASに送信します。 AAAが成功すると、NASはクレジット制御セッションを開始し、サーバーの指示に従って、グレースフルサービス終了をすぐに開始します。 NASはユーザーに制限付きアクセスを許可します（6）。ユーザーのデバイスで実行されているHTTPクライアントソフトウェアは、NASによってトップアップサーバー（7,8）にリダイレクトされるトランスポート接続を開きます。ユーザーには、クレジットカード番号とアカウントの補充に使用する金額を入力する適切なWebページが表示され、補充操作が正常に実行されると無制限のアクセスが許可されるという通知メッセージが表示されます。次に、たとえば10分。トップアップサーバーはクレジットカード番号を検証し、ユーザーのアカウントに補充します（この仕様の範囲外の何らかの手段を使用して）（9）。アカウントの追加に成功すると、クレジット制御サーバーはRe-Auth-RequestメッセージをNASに送信します（10）。 NASはRe-Auth-Answerメッセージを返すことで要求を確認し（11）、Credit-Control-request（UPDATE_REQUEST）をDiameterクレジット制御サーバーに送信することでクレジットの再承認を開始します（12,13）。"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control server reserves credit from the end user's account and returns the reserved quota to the NAS via the home Diameter AAA server in the Credit-Control-Answer (14,15). The NAS removes the restriction placed by the graceful service termination and starts monitoring the granted units.",
      "ja": "Diameterクレジット制御サーバーは、エンドユーザーのアカウントからクレジットを予約し、Credit-Control-Answer（14,15）のホームDiameter AAAサーバーを介して、予約されたクォータをNASに返します。 NASは、正常なサービス終了によって課された制限を削除し、許可されたユニットの監視を開始します。"
    },
    {
      "indent": 0,
      "text": "A.9. Flow IX",
      "ja": "A.9。 フローIX"
    },
    {
      "indent": 3,
      "text": "The Diameter credit-control application defines the Multiple-Services-Credit-Control AVP that can be used to support independent credit-control of multiple services in a single credit-control (sub-) session for service elements that have such capabilities. It is possible to request and allocate resources as a credit pool that is shared between services or rating groups.",
      "ja": "Diameterクレジット制御アプリケーションは、複数のサービスの独立したクレジット制御をサポートするために使用できるMultiple-Services-Credit-Control AVPを定義します。 サービスまたは評価グループ間で共有されるクレジットプールとしてリソースを要求および割り当てることができます。"
    },
    {
      "indent": 3,
      "text": "The flow example hereafter illustrates a usage scenario where the credit-control client and server support independent credit-control of multiple services, as defined in section 5.1.2. It is assumed that Service-Identifiers, Rating-Groups, and their associated parameters (e.g., IP 5-tuple) are locally configured in the service element or provisioned by an entity other than the credit-control server.",
      "ja": "以下のフロー例は、セクション5.1.2で定義されているように、クレジット制御クライアントとサーバーが複数のサービスの独立したクレジット制御をサポートする使用シナリオを示しています。 Service-Identifiers、Rating-Groups、およびそれらに関連するパラメーター（IP 5タプルなど）は、サービス要素でローカルに構成されているか、与信管理サーバー以外のエンティティによってプロビジョニングされていると想定されます。"
    },
    {
      "indent": 3,
      "text": "End User         Service Element                           CC Server\n                    (CC client)\n   |(1)User logon      |                                         |\n   |------------------>|(2)CCR(initial, Service-Id access,       |\n   |                   |        Access specific AVPs,            |\n   |                   |        Multiple-Service-Indicator)      |\n   |                   |---------------------------------------->|\n   |                   |(3)CCA(Multiple-Services-CC (            |\n   |                   |        Granted-Units(Total-Octets),     |\n   |                   |        Service-Id access,               |\n   |                   |        Validity-time,                   |\n   |                   |        G-S-U-Pool-Reference(Pool-Id 1,  |\n   |                   |          Multiplier 10)))               |\n   |                   |<----------------------------------------|\n   :                   :                                         :\n   |(4)Service-Request (Service 1)                               |\n   |------------------>|(5)CCR(update, Multiple-Services-CC(     |\n   |                   |        Requested-Units(), Service-Id 1, |\n   |                   |        Rating-Group 1))                 |\n   |                   |---------------------------------------->|\n   |                   |(6)CCA(Multiple-Services-CC (            |\n   |                   |        Granted-Units(Time),             |\n   |                   |        Rating-Group 1,                  |\n   |                   |        G-S-U-Pool-Reference(Pool-Id 1,  |\n   |                   |          Multiplier 1)))                |\n   |                   |<----------------------------------------|\n   :                   :                                         :\n   |(7)Service-Request (Service 2)                               |\n   |------------------>|                                         |",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": ":                   :                                         :\n:                   :                                         :\n|(8)Service-Request (Service 3&4)                             |\n|------------------>|(9)CCR(update, Multiple-Services-CC (    |\n|                   |        Requested-Units(), Service-Id 3, |\n|                   |        Rating-Group 2),                 |\n|                   |        Multiple-Services-CC (           |\n|                   |        Requested-Units(), Service-Id 4, |\n|                   |        Rating-Group 3))                 |\n|                   |---------------------------------------->|\n|                   |(10)CCA(Multiple-Services-CC (           |\n|                   |        Granted-Units(Total-Octets),     |\n|                   |        Service-Id 3, Rating-Group 2,    |\n|                   |        Validity-time,                   |\n|                   |        G-S-U-Pool-Reference(Pool-Id 2,  |\n|                   |          Multiplier 2)),                |\n|                   |        Multiple-Services-CC (           |\n|                   |        Granted-Units(Total-Octets),     |\n|                   |        Service-Id 4, Rating-Group 3     |\n|                   |        Validity-Time,                   |\n|                   |        Final-Unit-Ind.(Terminate),      |\n|                   |        G-S-U-Pool-Reference(Pool-Id 2,  |\n|                   |          Multiplier 5)))                |\n|                   |<----------------------------------------|\n:                   :                                         :\n:                   :                                         :\n| +--------------+  |                                         |\n| |Validity time |  |(11)CCR(update,                          |\n| |expires for   |  |        Multiple-Services-CC (           |\n| |Service-Id    |  |        Requested-Unit(),                |\n| | access       |  |        Used-Units(In-Octets,Out-Octets),|\n| +--------------+  |        Service-Id access))              |\n|                   |---------------------------------------->|\n|                   |(12)CCA(Multiple-Services-CC (           |\n|                   |        Granted-Units(Total-Octets),     |\n|                   |        Service-Id access,               |\n|                   |        Validity-Time,                   |\n|                   |        G-S-U-Pool-Reference(Pool-Id 1,  |\n|                   |          Multiplier 10)))               |\n|                   |<----------------------------------------|\n:                   :                                         :\n:                   :                                         :",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "| +--------------+  |                                         |\n| |Total Quota   |  |(13)CCR(update,                          |\n| |elapses for   |  |       Multiple-Services-CC (            |\n| |pool 2:       |  |        Requested-Unit(),                |\n| |service 4 not |  |        Used-Units(In-Octets,Out-Octets),|\n| |allowed,      |  |        Service-Id 3, Rating-group 2),   |\n| |service 3 cont|  |       Multiple-Services-CC (            |\n| +--------------+  |        Used-Units(In-Octets,Out-Octets),|\n|                   |        Service-Id 4, Rating-Group 3))   |\n|                   |---------------------------------------->|\n|                   |(14)CCA(Multiple-Services-CC (           |\n|                   |        Result-Code 4011,                |\n|                   |        Service-Id 3))                   |\n|                   |<----------------------------------------|\n:                   :                                         :\n:                   :                                         :\n|(15) User logoff   |                                         |\n|------------------>|(16)CCR(term,                            |\n|                   |       Multiple-Services-CC (            |\n|                   |        Used-Units(In-Octets,Out-Octets),|\n|                   |        Service-Id access),              |\n|                   |       Multiple-Services-CC (            |\n|                   |        Used-Units(Time),                |\n|                   |        Service-Id 1, Rating-Group 1),   |\n|                   |       Multiple-Services-CC (            |\n|                   |        Used-Units(Time),                |\n|                   |        Service-Id 2, Rating-Group 1))   |\n|                   |---------------------------------------->|\n|                   |(17)CCA(term)                            |\n|                   |<----------------------------------------|",
      "raw": true,
      "ja": ""
    },
    {
      "indent": 6,
      "text": "Figure A.9: Flow example independent credit-control of multiple services in a credit-control (sub-)Session",
      "ja": "図A.9：信用管理（サブ）セッションでの複数のサービスの独立した信用管理のフロー例"
    },
    {
      "indent": 3,
      "text": "The user logs on to the network (1). The service element sends a Diameter Credit-Control-Request with CC-Request-Type set to INITIAL_REQUEST to the Diameter credit-control server to perform credit authorization for the bearer service (e.g., Internet access service) and to establish a credit-control session (2). In this message, the credit-control client indicates support for independent credit-control of multiple services within the session by including the Multiple-Service-Indicator AVP. The Diameter credit-control server checks the end user's account balance, with rating information received from the client (i.e., Service-Id and access specific AVPs), rates the request, and reserves credit from the end user's account. Suppose that the server reserves $5 and determines that the cost is $1/MB. It then returns to the service element a Credit-Control-Answer message that includes the Multiple-Services-Credit-Control AVP with a quota of 5MB associated to the Service-Id (access), to a multiplier value of 10, and to the Pool-Id 1 (3).",
      "ja": "ユーザーがネットワークにログオンします（1）。サービス要素は、CC-Request-TypeをINITIAL_REQUESTに設定したDiameter Credit-Control-RequestをDiameterクレジット制御サーバーに送信して、ベアラサービス（インターネットアクセスサービスなど）のクレジット認証を実行し、クレジット制御セッションを確立します。 （2）。このメッセージでは、クレジット管理クライアントは、Multiple-Service-Indicator AVPを含めることにより、セッション内の複数のサービスの独立したクレジット管理のサポートを示します。 Diameterクレジット制御サーバーは、クライアントから受信した評価情報（つまり、Service-Idおよびアクセス固有のAVP）でエンドユーザーのアカウント残高をチェックし、リクエストを評価し、エンドユーザーのアカウントからクレジットを予約します。サーバーが$ 5を予約し、コストが$ 1 / MBであると判断したとします。次に、Service-Id（アク​​セス）、乗数値10、およびに関連付けられた5MBのクォータを持つMultiple-Services-Credit-Control AVPを含むCredit-Control-Answerメッセージをサービス要素に返します。プールID 1（3）。"
    },
    {
      "indent": 3,
      "text": "The user uses Service 1 (4). The service element sends a Diameter Credit-Control-Request with CC-Request-Type set to UPDATE_REQUEST to the credit-control server to perform credit authorization for service 1 (5). This message includes the Multiple-Services-Credit-Control AVP to request service units for Service 1 that belong to Rating-Group 1. The Diameter credit-control server determines that Service 1 draws credit resources from the same account as the access service (i.e., pool 1). It rates the request according to Service-Id/Rating-Group and updates the existing reservation by requesting more credit. Suppose that the server reserves $5 more (now the reservation is $10) and determines that the cost is $0.1/minute. The server authorizes the whole Rating-Group. It then returns to the service element a Credit-Control-Answer message that includes the Multiple-Services-Credit-Control AVP with a quota of 50min. associated to the Rating-Group 1, to a multiplier value of 1, and to the Pool-Id 1 (6). The client adjusts the total amount of resources for pool 1 according the received quota, which gives S for Pool 1 = 100.",
      "ja": "ユーザーはサービス1（4）を使用します。サービス要素は、CC-Request-TypeをUPDATE_REQUESTに設定したDiameter Credit-Control-Requestをクレジット制御サーバーに送信して、サービス1（5）のクレジット認証を実行します。このメッセージには、Rating-Group 1に属するサービス1のサービスユニットを要求するMultiple-Services-Credit-Control AVPが含まれます。Diameterクレジット制御サーバーは、サービス1がアクセスサービスと同じアカウントからクレジットリソースを引き出すと判断します（つまり、 、プール1）。 Service-Id / Rating-Groupに従って要求を評価し、追加のクレジットを要求することで既存の予約を更新します。サーバーがさらに5ドルを予約し（現在の予約は10ドル）、コストが0.1ドル/分であると判断したとします。サーバーは、評価グループ全体を承認します。その後、サービス要素に、50分を割り当てたMultiple-Services-Credit-Control AVPを含むCredit-Control-Answerメッセージを返します。 Rating-Group 1、乗数値1、およびPool-Id 1（6）に関連付けられています。クライアントは、受信したクォータに従ってプール1のリソースの合計量を調整します。これにより、プール1のSは100になります。"
    },
    {
      "indent": 3,
      "text": "The user uses Service 2, which belongs to the authorized Rating-Group, 1 (7). Resources are then consumed from the pool 1.",
      "ja": "ユーザーは、認可された評価グループ1（7）に属するサービス2を使用します。 その後、リソースはプール1から消費されます。"
    },
    {
      "indent": 3,
      "text": "The user now requests Services 3 and 4 as well, which are not authorized (8). The service element sends a Diameter Credit-Control-Request with CC-Request-Type set to UPDATE_REQUEST to the credit-control server in order to perform credit authorization for Services 3 and 4 (9). This message includes two instances of the Multiple-Services-Credit-Control AVP to request service units for Service 3 that belong to Rating-Group 2 and for Service 4 that belong to Rating-Group 3. The Diameter credit-control server determines that Services 3 and 4 draw credit resources from another account (i.e., pool 2). It checks the end user's account balance and, according to Service-Ids/Rating-Groups information, rates the request. Then it reserves credit from pool 2.",
      "ja": "これで、ユーザーはサービス3と4も要求しますが、これらは許可されていません（8）。 サービス要素は、CC-Request-TypeがUPDATE_REQUESTに設定されたDiameter Credit-Control-Requestをクレジットコントロールサーバーに送信して、サービス3および4のクレジット認証を実行します（9）。 このメッセージには、Rating-Group 2に属するService 3およびRating-Group 3に属するService 4のサービスユニットを要求するMultiple-Services-Credit-Control AVPの2つのインスタンスが含まれています。 3と4は、別のアカウント（プール2）からクレジットリソースを引き出します。 エンドユーザーのアカウントの残高を確認し、Service-Ids / Rating-Groups情報に従って、リクエストを評価します。 次に、プール2からクレジットを予約します。"
    },
    {
      "indent": 3,
      "text": "For example, the server reserves $5 and determines that Service 3 costs $0.2/MB and Service 4 costs $0.5/MB. The server authorizes only Services 3 and 4. It returns to the service element a Credit-Control-Answer message that includes two instances of the Multiple-Services-Credit-Control AVP (10). One instance grants a quota of 12.5MB associated to the Service-Id 3 to a multiplier value of 2 and to the Pool-Id 2. The other instance grants a quota of 5 MB associated to the Service-Id 4 to a multiplier value of 5 and to the Pool-Id 2.",
      "ja": "たとえば、サーバーは5ドルを予約し、サービス3が1 MBあたり0.2ドル、サービス4が1 MBあたり0.5ドルと判断します。 サーバーは、サービス3と4のみを承認します。サービス要素に、Multiple-Services-Credit-Control AVPの2つのインスタンスを含むCredit-Control-Answerメッセージを返します（10）。 1つのインスタンスは、Service-Id 3に2の乗数値とPool-Id 2に関連付けられた12.5MBのクォータを許可します。もう1つのインスタンスは、Service-Id 4に乗数値に関連付けられた5 MBのクォータを許可します 5およびPool-Id 2。"
    },
    {
      "indent": 3,
      "text": "The server also determines that pool 2 is exhausted and Service 4 is not allowed to continue after these units will be consumed. Therefore the Final-Unit-Indication AVP with action TERMINATE is associated to the Service-Id 4. The client calculates the total amount of resources that can be used for pool 2 according the received quotas and multipliers, which gives S for Pool 2 = 50.",
      "ja": "サーバーは、これらのユニットが消費された後、プール2が使い果たされ、サービス4の続行が許可されないことも決定します。 したがって、アクションTERMINATEを持つ最終単位表示AVPは、サービスID 4に関連付けられます。クライアントは、受信したクォータと乗数に従ってプール2に使用できるリソースの合計量を計算します。 。"
    },
    {
      "indent": 3,
      "text": "The Validity-Time for the access service expires. The service element sends a Credit-Control-Request message to the server in order to perform credit re-authorization for Service-Id (access) (11). This message carries one instance of the Multiple-Services-Credit-Control AVP that includes the units used by this service. Suppose that the total amount of used units is 4MB. The client adjusts the total amount of resources for pool 1 accordingly, which gives S for Pool 1 = 60.",
      "ja": "アクセスサービスの有効期限が切れます。 サービス要素は、Service-Id（アクセス）に対するクレジットの再承認を実行するために、Credit-Control-Requestメッセージをサーバーに送信します（11）。 このメッセージには、このサービスで使用されるユニットを含むMultiple-Services-Credit-Control AVPの1つのインスタンスが含まれています。 使用済みユニットの合計量が4MBであるとします。 クライアントはそれに応じてプール1のリソースの合計量を調整します。これにより、プール1のSが60になります。"
    },
    {
      "indent": 3,
      "text": "The server deducts $4 from the user's account and updates the reservation by requesting more credit. Suppose that the server reserves $5 more (now the reservation is $11) and already knows the cost of the Service-Id (access), which is $1/MB. It then returns to the service element a Credit-Control-Answer message that includes the Multiple-Services-Credit-Control AVP with a quota of 5 MB associated to the Service-Id (access), to a multiplier value of 10, and to the Pool-Id 1 (12). The client adjusts the total amount of resources for pool 1 according the received quota, which gives S for Pool 1 = 110.",
      "ja": "サーバーはユーザーのアカウントから4ドルを差し引き、追加のクレジットをリクエストして予約を更新します。 サーバーがさらに5ドルを予約し（現在の予約は11ドル）、Service-Id（アクセス）のコスト（MBあたり1ドル）を既に知っているとします。 次に、Service-Id（アクセス）、乗数値10、およびに関連付けられた5 MBのクォータを持つMultiple-Services-Credit-Control AVPを含むCredit-Control-Answerメッセージをサービス要素に返します。 Pool-Id 1（12）。 クライアントは、受信したクォータに従ってプール1のリソースの合計量を調整します。これにより、プール1のSが110になります。"
    },
    {
      "indent": 3,
      "text": "Services 3 and 4 consume the total amount of pool 2 credit resources (i.e., C1*2 + C2*5 >= S). The service element immediately starts the TERMINATE action concerning Service 4 and sends a Credit-Control-Request message with CC-Request-Type set to UPDATE_REQUEST to the credit-control server in order to perform credit re-authorization for Service 3 (13). This message contains two instances of the Multiple-Services-Credit-Control AVP to report the units used by Services 3 and 4. The server deducts the last $5 from the user's account (pool 2) and returns the answer with Result-Code 4011 in the Multiple-Services-Credit-Control AVP to indicate that Service 3 can continue without credit-control (14).",
      "ja": "サービス3および4は、プール2のクレジットリソースの合計量を消費します（つまり、C1 * 2 + C2 * 5> = S）。 サービス要素は、サービス4に関するTERMINATEアクションをすぐに開始し、CC-Request-TypeをUPDATE_REQUESTに設定したCredit-Control-Requestメッセージをクレジット制御サーバーに送信して、サービス3のクレジット再認証を実行します（13）。 このメッセージには、サービス3および4で使用されるユニットを報告するMultiple-Services-Credit-Control AVPの2つのインスタンスが含まれます。サーバーは、ユーザーのアカウント（プール2）から最後の5ドルを差し引き、結果コード4011 サービス3がクレジットコントロールなしで続行できることを示すMultiple-Services-Credit-Control AVP。"
    },
    {
      "indent": 3,
      "text": "The end user logs off from the network (15). To debit the used units from the end user's account and to stop the credit-control session, the service element sends a Diameter Credit-Control-Request with CC-Request-Type set to TERMINATION_REQUEST to the credit-control server (16). This message contains the units consumed by each of the used services in multiple instances of the Multiple-Services-Credit-Control AVP. The used units are associated with the relevant Service-Identifier and Rating-Group. The Diameter credit-control server debits the used units to the user's account (Pool 1) and acknowledges the session termination by sending a Diameter Credit-Control-Answer to the service element (17).",
      "ja": "エンドユーザーはネットワークからログオフします（15）。 使用済みユニットをエンドユーザーのアカウントから引き落とし、クレジット制御セッションを停止するために、サービス要素はCC-Request-TypeがTERMINATION_REQUESTに設定されたDiameter Credit-Control-Requestをクレジット制御サーバーに送信します（16）。 このメッセージには、Multiple-Services-Credit-Control AVPの複数のインスタンスで使用される各サービスによって消費されるユニットが含まれます。 使用されるユニットは、関連するService-IdentifierおよびRating-Groupに関連付けられています。 Diameterクレジット制御サーバーは、使用済みユニットをユーザーのアカウント（プール1）から引き落とし、Diameter Credit-Control-Answerをサービス要素に送信することでセッションの終了を確認します（17）。"
    },
    {
      "indent": 0,
      "text": "Authors' Addresses",
      "ja": "著者のアドレス"
    },
    {
      "indent": 3,
      "text": "Harri Hakala Oy L M Ericsson Ab Joukahaisenkatu 1 20520 Turku Finland",
      "ja": "Harri Hakala Oy L M Ericsson Ab Joukahaisenkatu 1 20520 Turku Finland"
    },
    {
      "indent": 3,
      "text": "Phone: +358 2 265 3722 EMail: Harri.Hakala@ericsson.com",
      "ja": "電話：+358 2 265 3722電子メール：Harri.Hakala@ericsson.com"
    },
    {
      "indent": 3,
      "text": "Leena Mattila Oy L M Ericsson Ab Joukahaisenkatu 1 20520 Turku Finland",
      "ja": "Leena Mattila Oy L M Ericsson Ab Joukahaisenkatu 1 20520 Turku Finland"
    },
    {
      "indent": 3,
      "text": "Phone: +358 2 265 3731 EMail: Leena.Mattila@ericsson.com",
      "ja": "電話：+358 2 265 3731 Eメール：Leena.Mattila@ericsson.com"
    },
    {
      "indent": 3,
      "text": "Juha-Pekka Koskinen Nokia Networks Hatanpaanvaltatie 30 33100 Tampere Finland",
      "ja": "Juha-Pekka Koskinen Nokia Networks Hatanpaanvaltatie 30 33100タンペレフィンランド"
    },
    {
      "indent": 3,
      "text": "Phone: +358 7180 74027 EMail: juha-pekka.koskinen@nokia.com",
      "ja": "電話：+358 7180 74027メール：juha-pekka.koskinen@nokia.com"
    },
    {
      "indent": 3,
      "text": "Marco Stura Nokia Networks Hiomotie 32 00380 Helsinki Finland",
      "ja": "Marco Stura Nokia Networks Hiomotie 32 00380ヘルシンキフィンランド"
    },
    {
      "indent": 3,
      "text": "Phone: +358 7180 64308 EMail: marco.stura@nokia.com",
      "ja": "電話：+358 7180 64308電子メール：marco.stura@nokia.com"
    },
    {
      "indent": 3,
      "text": "John Loughney Nokia Research Center Itamerenkatu 11-13 00180 Helsinki Finland",
      "ja": "John Loughney Nokia Research Center Itamerenkatu 11-13 00180 Helsinki Finland"
    },
    {
      "indent": 3,
      "text": "Phone: +358 50 483 642 EMail: John.Loughney@nokia.com",
      "ja": "電話：+358 50 483 642 Eメール：John.Loughney@nokia.com"
    },
    {
      "indent": 0,
      "text": "Full Copyright Statement",
      "ja": "完全な著作権表示"
    },
    {
      "indent": 3,
      "text": "Copyright (C) The Internet Society (2005).",
      "ja": "著作権（C）インターネット協会（2005）。"
    },
    {
      "indent": 3,
      "text": "This document is subject to the rights, licenses and restrictions contained in BCP 78, and except as set forth therein, the authors retain all their rights.",
      "ja": "この文書は、BCP 78に含まれる権利、ライセンス、制限の対象となります。また、そこに記載されている場合を除き、著者はすべての権利を保持します。"
    },
    {
      "indent": 3,
      "text": "This document and the information contained herein are provided on an \"AS IS\" basis and THE CONTRIBUTOR, THE ORGANIZATION HE/SHE REPRESENTS OR IS SPONSORED BY (IF ANY), THE INTERNET SOCIETY AND THE INTERNET ENGINEERING TASK FORCE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.",
      "ja": "本書および本書に含まれる情報は「現状のまま」提供され、寄稿者、代表者または代表者（もしあれば）、インターネット協会、インターネットエンジニアリングタスクフォースはすべての保証を放棄します 黙示的であるが、ここに記載されている情報の使用が商品性または特定の目的への適合性の黙示的保証を侵害しないという保証に限定されない。"
    },
    {
      "indent": 0,
      "text": "Intellectual Property",
      "ja": "知的財産"
    },
    {
      "indent": 3,
      "text": "The IETF takes no position regarding the validity or scope of any Intellectual Property Rights or other rights that might be claimed to pertain to the implementation or use of the technology described in this document or the extent to which any license under such rights might or might not be available; nor does it represent that it has made any independent effort to identify any such rights. Information on the procedures with respect to rights in RFC documents can be found in BCP 78 and BCP 79.",
      "ja": "IETFは、本書に記載されている技術の実装または使用に関連すると主張される可能性のある知的財産権またはその他の権利の有効性または範囲、またはそのような権利の下でのライセンスの有無に関して、立場をとりません。 利用可能 また、そのような権利を特定するための独立した努力を行ったことを表すものでもありません。 RFC文書の権利に関する手順に関する情報は、BCP 78およびBCP 79に記載されています。"
    },
    {
      "indent": 3,
      "text": "Copies of IPR disclosures made to the IETF Secretariat and any assurances of licenses to be made available, or the result of an attempt made to obtain a general license or permission for the use of such proprietary rights by implementers or users of this specification can be obtained from the IETF on-line IPR repository at http://www.ietf.org/ipr.",
      "ja": "IETF事務局に行われたIPR開示のコピーおよび利用可能になるライセンスの保証、またはこの仕様の実装者またはユーザーによる一般的なライセンスまたはそのような所有権の使用許可の取得を試みた結果を取得できます。 IETFオンラインIPRリポジトリ（http://www.ietf.org/ipr）から。"
    },
    {
      "indent": 3,
      "text": "The IETF invites any interested party to bring to its attention any copyrights, patents or patent applications, or other proprietary rights that may cover technology that may be required to implement this standard. Please address the information to the IETF at ietf-ipr@ietf.org.",
      "ja": "IETFは、この標準を実装するために必要な技術を対象とする著作権、特許、特許出願、またはその他の所有権に関心を寄せるよう、あらゆる利害関係者を招待します。 IETFのietf-ipr@ietf.orgに情報を送信してください。"
    },
    {
      "indent": 0,
      "text": "Acknowledgement",
      "ja": "了承"
    },
    {
      "indent": 3,
      "text": "Funding for the RFC Editor function is currently provided by the Internet Society.",
      "ja": "RFC Editor機能の資金は、現在インターネット協会によって提供されています。"
    }
  ]
}