<!DOCTYPE html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>RFC 5625 - DNS Proxy Implementation Guidelines 日本語訳</title>

  
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

  <script>
    var host = window.location.hostname;
    if (host != "localhost") {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-75892425-1', 'auto');
      ga('send', 'pageview');
    }
  </script>

</head>
<body>
    <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="privacy-policy.html">Privacy Policy</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <div style="height: 1ex;"></div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h4 class="alert-heading">RFC 5625 - DNS Proxy Implementation Guidelines 日本語訳</h4>
          <span class="URL">URL :
            <a href="https://tools.ietf.org/html/rfc5625">
              https://tools.ietf.org/html/rfc5625
            </a>
          </span><br>
          <span class="title_ja">
            タイトル : <strong>RFC 5625 - DNSプロキシ実装のガイドライン</strong></span><br>
          <span class="updated_by">翻訳編集 : 自動生成</span><br>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Network Working Group                                          R. Bellis
Request for Comments: 5625                                    Nominet UK
BCP: 152                                                     August 2009
Category: Best Current Practice
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                  DNS Proxy Implementation Guidelines
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
抽象
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document provides guidelines for the implementation of DNS proxies, as found in broadband gateways and other similar network devices.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ブロードバンドゲートウェイおよび他の同様のネットワーク機器で見られるように、この文書では、DNSプロキシの実装のためのガイドラインを提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このメモのステータス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements. Distribution of this memo is unlimited.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このドキュメントはインターネットコミュニティのためのインターネットBest Current Practicesを指定し、改善のための議論と提案を要求します。このメモの配布は無制限です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Copyright (c) 2009 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著作権（C）2009 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents in effect on the date of publication of this document (http://trustee.ietf.org/license-info). Please review these documents carefully, as they describe your rights and restrictions with respect to this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書では、BCP 78と、この文書（http://trustee.ietf.org/license-info）の発行日に有効なIETFドキュメントに関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   1. Introduction ....................................................2
   2. Terminology .....................................................3
   3. The Transparency Principle ......................................3
   4. Protocol Conformance ............................................4
      4.1. Unexpected Flags and Data ..................................4
      4.2. Label Compression ..........................................4
      4.3. Unknown Resource Record Types ..............................4
      4.4. Packet Size Limits .........................................4
           4.4.1. TCP Transport .......................................5
           4.4.2. Extension Mechanisms for DNS (EDNS0) ................6
           4.4.3. IP Fragmentation ....................................6
      4.5. Secret Key Transaction Authentication for DNS (TSIG) .......7
   5. DHCP&#39;s Interaction with DNS .....................................7
      5.1. Domain Name Server (DHCP Option 6) .........................7
      5.2. Domain Name (DHCP Option 15) ...............................8
      5.3. DHCP Leases ................................................8
   6. Security Considerations .........................................9
      6.1. Forgery Resilience .........................................9
      6.2. Interface Binding .........................................10
      6.3. Packet Filtering ..........................................10
   7. Acknowledgements ...............................................10
   8. References .....................................................11
      8.1. Normative References ......................................11
      8.2. Informative References ....................................12
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Research has found ([SAC035], [DOTSE]) that many commonly used broadband gateways (and similar devices) contain DNS proxies that are incompatible in various ways with current DNS standards.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
研究は、一般的に使用されるブロードバンド・ゲートウェイ（と同様のデバイス）の多くは、現在のDNS標準とさまざまな方法で互換性のないDNSプロキシが含まれていること（[SAC035]、[DOTSE]）が見つかりました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
These proxies are usually simple DNS forwarders, but typically do not have any caching capabilities. The proxy serves as a convenient default DNS resolver for clients on the LAN, but relies on an upstream resolver (e.g., at an ISP) to perform recursive DNS lookups.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これらのプロキシは、通常、単純なDNSフォワーダですが、典​​型的には、任意のキャッシュ機能を持っていません。プロキシは、LAN上のクライアントのための便利なデフォルトのDNSリゾルバとして機能するが、再帰的DNSルックアップを実行する（ISPで、例えば）上流リゾルバに依存しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Note that to ensure full DNS protocol interoperability it is preferred that client stub resolvers should communicate directly with full-feature, upstream recursive resolvers wherever possible.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
可能な限りクライアントスタブリゾルバは、フル機能、上流の再帰リゾルバと直接通信することが好ましいフルDNSプロトコルの相互運用性を確保するためのことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
That notwithstanding, this document describes the incompatibilities that have been discovered and offers guidelines to implementors on how to provide better interoperability in those cases where the client must use the broadband gateway&#39;s DNS proxy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
それにもかかわらずは、この文書が発見された非互換性を説明し、クライアントは、ブロードバンドゲートウェイのDNSプロキシを使用しなければならないような場合には、より良い相互運用性を提供する方法についての実装者への指針を提供しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Terminology
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.用語
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書のキーワード &#34;MUST&#34;、 &#34;MUST NOT&#34;、 &#34;REQUIRED&#34;、、、、 &#34;べきではない&#34; &#34;べきである&#34; &#34;ないもの&#34; &#34;ものとし&#34;、 &#34;推奨&#34;、 &#34;MAY&#34;、および &#34;OPTIONAL&#34; はあります[RFC2119]に記載されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. The Transparency Principle
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.透明性の原則
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is not considered practical for a simple DNS proxy to implement all current and future DNS features.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これは、現在および将来のすべてのDNS機能を実装するための簡単なDNSプロキシのために実用的とはみなされません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
There are several reasons why this is the case:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これが事実である理由はいくつかあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Broadband gateways usually have limited hardware resources.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Oブロードバンドゲートウェイは通常、ハードウェア・リソースが限られています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Firmware upgrade cycles are long, and many users do not routinely apply upgrades when they become available.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Oファームウェアのアップグレードサイクルが長く、彼らが利用可能になったときに多くのユーザーが日常のアップグレードを適用しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o No one knows what those future DNS features will be or how they might be implemented.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O誰もがこれらの将来のDNS機能がなるか、彼らがどのように実装されるかもしれないものを知っていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Doing so would substantially complicate the configuration user interface (UI) of the device.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Oそうすることで、実質的にデバイスのコンフィギュレーション・ユーザ・インターフェース（UI）を複雑にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Furthermore, some modern DNS protocol extensions (see, e.g., EDNS0 below) are intended to be used as &#34;hop-by-hop&#34; mechanisms. If the DNS proxy is considered to be such a &#34;hop&#34; in the resolution chain, then for it to function correctly, it would need to be fully compliant with all such mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
さらに、いくつかの近代的なDNSプロトコルの拡張（例えば、EDNS0以下、参照）、「ホップバイホップ」メカニズムとして使用されることが意図されます。 DNSプロキシは、このような解像度のチェーンに「ホップ」と見なされた場合、それが正しく機能するためには、すべてのそのようなメカニズムに完全に準拠する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[SAC035] shows that the more actively a proxy participates in the DNS protocol, the more likely it is that it will somehow interfere with the flow of messages between the DNS client and the upstream recursive resolvers.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[SAC035】より積極的プロキシはDNSプロトコルに関与することを示し、可能性が高いそれは何らかの形でDNSクライアントと上流再帰リゾルバ間のメッセージの流れを妨害することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The role of the proxy should therefore be no more and no less than to receive DNS requests from clients on the LAN side, forward those verbatim to one of the known upstream recursive resolvers on the WAN side, and ensure that the whole response is returned verbatim to the original client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
プロキシの役割は、したがって、より多くのと、LAN側のクライアントからのDNS要求を受信WAN側に知られている上流の再帰リゾルバの一つにそのままそれらを転送し、全体の応答がそのまま返されることを保証するよりも劣らず一切あってはなりません元のクライアントへ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is RECOMMENDED that proxies should be as transparent as possible, such that any &#34;hop-by-hop&#34; mechanisms or newly introduced protocol extensions operate as if the proxy were not there.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
プロキシが存在しないかのように、任意の「ホップバイホップ」機構又は新たに導入されたプロトコルの拡張機能が動作するように、プロキシはできるだけ透明であることが推奨されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Except when required to enforce an active security or network policy (such as maintaining a pre-authentication &#34;walled garden&#34;), end-users SHOULD be able to send their DNS queries to specified upstream resolvers, thereby bypassing the proxy altogether. In this case, the gateway SHOULD NOT modify the DNS request or response packets in any way.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
（例えば、事前認証「ウォールドガーデン」を維持するように）アクティブなセキュリティまたはネットワークポリシーを適用するために必要な場合を除いて、エンドユーザはそれによって完全にプロキシをバイパスし、指定された上流のレゾルバへのDNSクエリを送信することができるべきです。この場合、ゲートウェイは、任意の方法でDNS要求または応答パケットを変更しないでください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Protocol Conformance
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.プロトコルコンフォーマンス
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Unexpected Flags and Data
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1。予期しないフラグとデータ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Transparency Principle above, when combined with Postel&#39;s Robustness Principle [RFC0793], suggests that DNS proxies should not arbitrarily reject or otherwise drop requests or responses based on perceived non-compliance with standards.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ポステルの頑健性原理[RFC0793]と組み合わせて上記の透明性の原則は、DNSプロキシが任意に拒否するか、そうでない場合は標準と認識される非遵守に基づいて要求や応答を落としてはならないことを示唆しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
For example, some proxies have been observed to drop any packet containing either the &#34;Authentic Data&#34; (AD) or &#34;Checking Disabled&#34; (CD) bits from DNSSEC [RFC4035]. This may be because [RFC1035] originally specified that these unused &#34;Z&#34; flag bits &#34;MUST&#34; be zero. However, these flag bits were always intended to be reserved for future use, so refusing to proxy any packet containing these flags (now that uses for those flags have indeed been defined) is not appropriate.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
例えば、いくつかのプロキシは、「本物のデータ」（AD）又はDNSSECから（CD）ビット[RFC4035]「無効確認」のいずれかを含む任意のパケットをドロップすることが観察されています。 [RFC1035]は、元々これらの未使用の「Z」フラグビットがゼロで「なければなりません」と指定されたためと考えられます。しかしながら、これらのフラグビットがいつも（今では、実際に定義されているそれらのフラグのために使用する）プロキシにこれらのフラグを含む任意のパケットを拒否することは適切ではない、将来の使用のために予約されることを意図しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Therefore, proxies MUST ignore any unknown DNS flags and proxy those packets as usual.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
そのため、プロキシは未知のDNSフラグとプロキシいつものように、これらのパケットを無視しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2. Label Compression
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.2。ラベルの圧縮
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Compression of labels as per Section 4.1.4 of [RFC1035] is optional.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1035]のセクション4.1.4あたりとしてラベルの圧縮はオプションです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Proxies MUST forward packets regardless of the presence or absence of compressed labels therein.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
プロキシは関係なく、その中に圧縮された標識の存在または非存在のパケットを転送しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3. Unknown Resource Record Types
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.3。不明なリソースレコードのタイプ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3597] requires that resolvers MUST handle Resource Records (RRs) of unknown type transparently.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3597]はリゾルバが透過的に未知のタイプのリソースレコード（RR）を処理しなければならないことが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
All requests and responses MUST be proxied regardless of the values of the QTYPE and QCLASS fields.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
すべての要求と応答は関係なく、QTYPEとQCLASSフィールドの値のプロキシなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Similarly, all responses MUST be proxied regardless of the values of the TYPE and CLASS fields of any Resource Record therein.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
同様に、すべての応答に関係なく、その中に任意のリソースレコードのタイプとクラスフィールドの値のプロキシされなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4. Packet Size Limits
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4。パケットサイズの制限
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1035] specifies that the maximum size of the DNS payload in a UDP packet is 512 octets. Where the required portions of a response would not fit inside that limit, the DNS server MUST set the
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1035]はUDPパケット内のDNSペイロードの最大サイズが512個のオクテットであることを指定します。応答の必要な部分は、その制限内で収まらない場合は、DNSサーバが設定されなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
&#34;TrunCation&#34; (TC) bit in the DNS response header to indicate that truncation has occurred. There are however two standard mechanisms (described in Sections 4.4.1 and 4.4.2) for transporting responses larger than 512 octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
切り捨てが発生したことを示すためにDNS応答ヘッダー内の「切り捨て」（TC）ビット。 512オクテットよりも大きい応答を搬送する（セクション4.4.1および4.4.2に記載）は、2つの標準的なメカニズムがしかしあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Many proxies have been observed to truncate all responses at 512 octets, and others at a packet size related to the WAN MTU, in either case doing so without correctly setting the TC bit.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
多くのプロキシは正しくTCビットを設定せずにそうすることのいずれかの場合には、WAN MTUに関連するパケット・サイズで512オクテット、および他のすべての応答を切り捨てることが観察されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Other proxies have been observed to remove the TC bit in server responses that correctly had the TC bit set by the server.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
他のプロキシが正しく、サーバーによって設定されたTCビットを持っていたサーバーの応答でTCビットを削除することが観察されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If a DNS response is truncated but the TC bit is not set, then client failures may result. In particular, a naive DNS client library might suffer crashes due to reading beyond the end of the data actually received.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNS応答が切り捨てられますが、TCビットがセットされていない場合は、クライアントの障害が発生することがあります。特に、ナイーブDNSクライアントライブラリが原因実際に受信したデータの終わりを超えて読みにクラッシュを被る可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Since UDP packets larger than 512 octets are now expected in normal operation, proxies SHOULD NOT truncate UDP packets that exceed that size. See Section 4.4.3 for recommendations for packet sizes exceeding the WAN MTU.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
UDPパケットがより大きい512個のオクテットは、現在、通常の動作で期待されているので、プロキシはそのサイズを超えるUDPパケットを切り捨てるべきではありません。 WAN MTUを超えるパケットサイズのための推奨事項については、4.4.3項を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If a proxy must unilaterally truncate a response, then the proxy MUST set the TC bit. Similarly, proxies MUST NOT remove the TC bit from responses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
プロキシが一方的に応答を切り捨てる必要がある場合は、プロキシはTCビットを設定しなければなりません。同様に、プロキシは応答からTCビットを削除してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.1. TCP Transport
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.1。 TCPトランスポート
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Should a UDP query fail because of truncation, the standard fail-over mechanism is to retry the query using TCP, as described in Section 6.1.3.2 of [RFC1123].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
UDPクエリが原因で切り捨ての障害が発生すると、標準のフェイルオーバーメカニズムは[RFC1123]のセクション6.1.3.2で説明したように、TCPを使用してクエリを再試行することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Whilst TCP transport is not strictly mandatory, it is supported by the vast majority of stub resolvers and recursive servers. Lack of support in the proxy prevents this fail-over mechanism from working.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
TCPトランスポートは厳密に必須ではありませんであるが、それはスタブリゾルバと再帰的なサーバの大半でサポートされています。プロキシでのサポートの欠如は、作業からこのフェイルオーバーメカニズムを防ぐことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNS proxies MUST therefore be prepared to receive and forward queries over TCP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSプロキシは、したがって、受信およびTCP上でクエリを転送するために準備しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Note that it is unlikely that a client would send a request over TCP unless it had already received a truncated UDP response. Some &#34;smart&#34; proxies have been observed to first forward any request received over TCP to an upstream resolver over UDP, only for the response to be truncated, causing the proxy to retry over TCP. Such behaviour increases network traffic and causes delay in DNS resolution since the initial UDP request is doomed to fail.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
すでに切り捨てUDP応答を受信して​​いない限り、クライアントはTCP上でリクエストを送信するとは考えにくいことに注意してください。いくつかの「スマート」プロキシは、TCPを超える再試行するプロキシを引き起こして、応答が切り捨てられるだけのために、最初にすべての要求はUDP上で上流のリゾルバにTCPを介して受信転送することが観察されています。このような行動は、ネットワークトラフィックが増加し、初期UDP要求は失敗する運命にあるため、DNS解決の遅れの原因となります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Therefore, whenever a proxy receives a request over TCP, the proxy SHOULD forward the query over TCP and SHOULD NOT attempt the same query over UDP first.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
プロキシがTCPでリクエストを受信するたびにそのため、プロキシは、TCP上でクエリを転送する必要があり、最初のUDP上の同じクエリを試みるべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.2. Extension Mechanisms for DNS (EDNS0)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.2。 DNS用拡張メカニズム（EDNS0）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The &#34;Extension Mechanism for DNS&#34; [RFC2671] was introduced to allow the transport of larger DNS packets over UDP and also to allow for additional request and response flags.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
「DNS用拡張メカニズム」[RFC2671]はUDP上大きいDNSパケットの輸送を可能にするために導入し、また、追加の要求と応答フラグを可能にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A client may send an OPT Resource Record (OPT RR) in the Additional Section of a request to indicate that it supports a specific receive buffer size. The OPT RR also includes the &#34;DNSSEC OK&#34; (DO) flag used by DNSSEC to indicate that DNSSEC-related RRs should be returned to the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、それが特定の受信バッファサイズをサポートしていることを示すために、要求の追加セクションにOPTリソースレコード（OPT RRを）送ることができます。 OPT RRはまたDNSSEC関連のRRがクライアントに返されるべきであることを示すためにDNSSECによって使用される、「DNSSEC OK」（DO）フラグを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
However, some proxies have been observed to either reject (with a FORMERR response code) or black-hole any packet containing an OPT RR. As per Section 4.1, proxies MUST NOT refuse to proxy such packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
しかし、いくつかのプロキシはOPT RRを含む任意のパケット（FORMERR応答コードで）拒否またはブラックホールのいずれかに観察されています。セクション4.1に従って、プロキシはプロキシそのようなパケットを拒否してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.3. IP Fragmentation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.4.3。 IPフラグメンテーション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Support for UDP packet sizes exceeding the WAN MTU depends on the gateway&#39;s algorithm for handling fragmented IP packets. Several methods are possible:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
WAN MTUを超えるUDPパケットサイズのサポートは、断片化されたIPパケットを処理するためのゲートウェイのアルゴリズムに依存します。いくつかの方法が考えられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Fragments are dropped.
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.フラグメントは廃棄されます。
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Fragments are forwarded individually as they&#39;re received.
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
彼らが受け取っているとして2フラグメントは、個別に転送されます。
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
3. Complete packets are reassembled on the gateway and then re-fragmented (if necessary) as they&#39;re forwarded to the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
彼らはクライアントに転送している3.完全なパケットを（必要ならば）ゲートウェイ上で再度組み立てた後、再断片化されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Method 1 above will cause compatibility problems with EDNS0 unless the DNS client is configured to advertise an EDNS0 buffer size limited to the WAN MTU less the size of the IP header. Note that RFC 2671 does recommend that the path MTU should be taken into account when using EDNS0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSクライアントがIPヘッダのより少ないサイズWAN MTUに制限EDNS0バッファサイズをアドバタイズするように構成されていない限り、方法1は、上記EDNS0との互換性の問題を引き起こすであろう。 RFC 2671がEDNS0を使用した場合、パスMTUが考慮されるべきであることをお勧めしないことに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Also, whilst the EDNS0 specification allows for a buffer size of up to 65535 octets, most common DNS server implementations do not support a buffer size above 4096 octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
EDNS0仕様は、最大65535オクテットのバッファサイズを可能にしながらも、最も一般的なDNSサーバの実装は、4096オクテット以上のバッファサイズをサポートしていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Therefore (irrespective of which of the above methods is in use), proxies SHOULD be capable of forwarding UDP packets up to a payload size of at least 4096 octets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
従って（かかわらず使用されている上記の方法のうち）、プロキシは少なくとも4096オクテットのペイロードサイズにUDPパケットを転送することができなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB: in theory, IP fragmentation may also occur if the LAN MTU is smaller than the WAN MTU, although the author has not observed such a configuration in use on any residential broadband service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB：著者はあらゆる家庭用ブロードバンドサービスに使用されているような構成を認められていないがLAN MTUは、WAN MTUよりも小さい場合は理論的には、IPフラグメンテーションが発生することがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5. Secret Key Transaction Authentication for DNS (TSIG)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.5。 DNSのための秘密鍵トランザクション認証（TSIG）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2845] defines TSIG, which is a mechanism for authenticating DNS requests and responses at the packet level.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2845]は、パケットレベルでのDNS要求と応答を認証するための機構であるTSIGを、定義します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Any modifications made to the DNS portions of a TSIG-signed query or response packet (with the exception of the Query ID) will cause a TSIG authentication failure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
（クエリIDを除く）TSIG署名クエリーまたは応答パケットのDNS部分に行われた変更は、TSIG認証失敗の原因となります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNS proxies MUST implement Section 4.7 of [RFC2845] and either forward packets unchanged (as recommended above) or fully implement TSIG.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSプロキシは、[RFC2845]のセクション4.7を実装し、いずれかのパケットを転送不変（上記推奨されるように）、または完全TSIGを実装しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
As per Section 4.3, DNS proxies MUST be capable of proxying packets containing TKEY [RFC2930] Resource Records.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
4.3節に従って、DNSプロキシはTKEY [RFC2930]リソースレコードを含むパケットをプロキシすることができなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB: any DNS proxy (such as those commonly found in WiFi hotspot &#34;walled gardens&#34;) that transparently intercepts all DNS queries and that returns unsigned responses to signed queries, will also cause TSIG authentication failures.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB：透過的にすべてのDNSクエリを傍受し、それが署名したクエリに符号なしの応答を返します（たとえば、一般的にWiFiホットスポット「壁に囲まれた庭園」に見られるような）任意のDNSプロキシは、またTSIG認証の失敗の原因となります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. DHCP&#39;s Interaction with DNS
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
DNSとDHCPの対話5.
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Whilst this document is primarily about DNS proxies, most consumers rely on DHCP [RFC2131] to obtain network configuration settings. Such settings include the client machine&#39;s IP address, subnet mask, and default gateway, but also include DNS-related settings.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書はDNSプロキシについて、主であるが、ほとんどの消費者は、ネットワークの構成設定を取得するためにDHCP [RFC2131]に依存しています。このような設定は、クライアントマシンのIPアドレス、サブネットマスク、デフォルトゲートウェイを含むが、DNS関連の設定が含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is therefore appropriate to examine how DHCP affects client DNS configuration.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DHCPクライアントのDNS設定をどのように影響するかを検討することが適切です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Domain Name Server (DHCP Option 6)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1。ドメインネームサーバ（DHCPオプション6）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Most gateways default to supplying their own IP address in the DHCP &#34;Domain Name Server&#34; option [RFC2132]. The net result is that without explicit re-configuration many DNS clients will, by default, send queries to the gateway&#39;s DNS proxy. This is understandable behaviour given that the correct upstream settings are not usually known at boot time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DHCP「ドメインネームサーバ」オプション[RFC2132]で独自のIPアドレスを供給するほとんどのゲートウェイのデフォルト。最終結果は、明示的に再設定することなく、多くのDNSクライアントは、デフォルトでは、ゲートウェイのDNSプロキシにクエリを送信することです。これは正しい上流の設定は通常、ブート時に知られていないことを考えると理解しやすい動作です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Most gateways learn their own DNS settings via values supplied by an ISP via DHCP or PPP over the WAN interface. However, whilst many gateways do allow the device administrator to override those values, some gateways only use those supplied values to affect the proxy&#39;s own forwarding function, and do not offer these values via DHCP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ほとんどのゲートウェイは、WANインターフェイス上でDHCPまたはPPP経由でISPによって提供される値を経由して、独自のDNS設定を学びます。多くのゲートウェイは、デバイスの管理者は、これらの値を上書きすることができませんしながらしかし、一部のゲートウェイは、プロキシ自身の転送機能に影響を与えるために、これらの指定された値を使用して、DHCP経由でこれらの値を提供していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When using such a device, the only way to avoid using the DNS proxy is to hard-code the required values in the client operating system. This may be acceptable for a desktop system but it is inappropriate for mobile devices that are regularly used on many different networks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このようなデバイスを使用する場合は、DNSプロキシを使用しないようにする唯一の方法は、ハードコードするクライアント・オペレーティング・システムで必要な値です。これは、デスクトップシステム用に許容可能であるが、それは定期的に多くの異なるネットワーク上で使用されているモバイルデバイスには不適切です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
As per Section 3, end-users SHOULD be able to send their DNS queries directly to specified upstream resolvers, ideally without hard-coding those settings in their stub resolver.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
第3節ごとのように、エンド・ユーザーは、自分のスタブリゾルバでこれらの設定をハードコーディングすることなく、理想的には、指定された上流のレゾルバに直接自分のDNSクエリを送信することができるべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is therefore RECOMMENDED that gateways SHOULD support device-administrator configuration of values for the &#34;Domain Name Server&#34; DHCP option.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
したがって、ゲートウェイは「ドメインネームサーバ」DHCPオプションの値のデバイス管理者の設定をサポートすることをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. Domain Name (DHCP Option 15)
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2。ドメイン名（DHCPオプション15）
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A significant amount of traffic to the DNS Root Name Servers is for invalid top-level domain names, and some of that traffic can be attributed to particular equipment vendors whose firmware defaults this DHCP option to specific values.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSルートネームサーバへのトラフィックのかなりの量は、無効なトップレベルドメイン名のためであり、そのトラフィックのいくつかは、そのファームウェアのデフォルト特定の値に、このDHCPオプションを特定の機器ベンダーに起因することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Since no standard exists for a &#34;local&#34; scoped domain name suffix, it is RECOMMENDED that the default value for this option SHOULD be empty, and that this option MUST NOT be sent to clients when no value is configured.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
標準的には、「ローカル」スコープのドメイン名サフィックスのために存在していないので、このオプションのデフォルト値は空にすることを推奨し、そして何も値が設定されていない場合は、このオプションは、クライアントに送信されてはならないこと。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. DHCP Leases
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3。 DHCPのリース
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is noted that some DHCP servers in broadband gateways offer, by default, their own IP address for the &#34;Domain Name Server&#34; option (as described above) but then automatically start offering the upstream servers&#39; addresses once they&#39;ve been learnt over the WAN interface.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
（上記のような）ブロードバンドゲートウェイでのいくつかのDHCPサーバは、デフォルトでは、「ドメインネームサーバ」オプションのために独自のIPアドレスを提供することを指摘したが、その後、自動的に、彼らは上で学習されてきた後、上流のサーバのアドレスを提供開始していますWANインターフェイス。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In general, this behaviour is highly desirable, but the effect for the end-user is that the settings used depend on whether the DHCP lease was obtained before or after the WAN link was established.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
一般に、この現象は非常に望ましいが、エンドユーザのための効果は、使用される設定は、DHCPリースの前またはWANリンクが確立された後に得られたかどうかに依存することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the DHCP lease is obtained whilst the WAN link is down, then the DHCP client (and hence the DNS client) will not receive the correct values until the DHCP lease is renewed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
WANリンクがダウンしている間、DHCPリースが得られた場合のDHCPリースが更新されるまで、DHCPクライアント（したがって、DNSクライアント）が正しい値を受け取ることができません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Whilst no specific recommendations are given here, vendors may wish to give consideration to the length of DHCP leases and to whether some mechanism for forcing a DHCP lease renewal might be appropriate.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
具体的な勧告は、ここで指定されていない一方で、ベンダーは、DHCPリースの長さにし、DHCPリースの更新を強制するためのいくつかのメカニズムが適切かもしれないかどうかに配慮することもできます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Another possibility is that the learnt upstream values might be persisted in non-volatile memory such that on reboot the same values can be automatically offered via DHCP. However, this does run the risk that incorrect values are initially offered if the device is moved or connected to another ISP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
別の可能性は、学んだ上流の値が再起動時に同じ値が自動的にDHCP経由で提供することができるような不揮発性メモリに永続化されるかもしれないということです。しかし、これは、デバイスが移動または別のISPに接続されている場合、誤った値が最初に提供されている危険性がありますありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Alternatively, the DHCP server might only issue very short (i.e., 60 second) leases while the WAN link is down, only reverting to more typical lease lengths once the WAN link is up and the upstream DNS servers are known. Indeed, with such a configuration it may be possible to avoid the need to implement a DNS proxy function in the broadband gateway at all.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
また、DHCPサーバにのみだけ、より一般的なリースWANのリンクが立ち上がっていて、上流のDNSサーバが知られた後の長さに戻す、（すなわち、60秒）のWANリンクがダウンしている間、リース、非常に短い発行するかもしれません。実際、このような構成で、すべてでブロードバンドゲートウェイでのDNSプロキシ機能を実装する必要性を回避することが可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.セキュリティの考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document introduces no new protocols. However, there are some security-related recommendations for vendors that are listed here.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書は、新しいプロトコルを導入していません。しかし、ここに記載されているベンダーのためのいくつかのセキュリティ関連の推奨事項があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. Forgery Resilience
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1。偽造回復力
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Whilst DNS proxies are not usually full-feature resolvers, they nevertheless share some characteristics with them.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSプロキシは通常、フル機能のリゾルバではない一方で、彼らはそれにもかかわらず、彼らといくつかの特徴を共有します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Notwithstanding the recommendations above about transparency, many DNS proxies are observed to pick a new Query ID for outbound requests to ensure that responses are directed to the correct client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
透明性上記の勧告にもかかわらず、多くのDNSプロキシは、応答が正しいクライアントに向けられていることを確認するために、発信要求のための新しいクエリIDを選択することが観察されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB: changing the Query ID is acceptable and compatible with proxying TSIG-signed packets since the TSIG signature calculation is based on the original message ID, which is carried in the TSIG RR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
NB：クエリIDを変更することが許容されるとTSIG署名計算はTSIG RRで運ばれる元のメッセージIDに基づいているので、TSIG署名パケットをプロキシと互換性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It has been standard guidance for many years that each DNS query should use a randomly generated Query ID. However, many proxies have been observed picking sequential Query IDs for successive requests.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これは、各DNSクエリがランダムに生成されたクエリIDを使用する必要があり、多くの年のための標準的な指針となっています。しかし、多くのプロキシは、連続した要求に対してシーケンシャルクエリIDを選んで観察されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
It is strongly RECOMMENDED that DNS proxies follow the relevant recommendations in [RFC5452], particularly those in Section 9.2 relating to randomisation of Query IDs and source ports. This also applies to source port selection within any NAT function.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
強くDNSプロキシは、特にセクション9.2でクエリIDと送信元ポートのランダム化に関連する、[RFC5452]に関連する推奨事項に従うことが推奨されます。これはまた、任意のNAT機能の中にポートの選択をソースに適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If a DNS proxy is running on a broadband gateway with NAT that is compliant with [RFC4787], then it SHOULD also follow the recommendations in Section 10 of [RFC5452] concerning how long DNS state is kept.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
DNSプロキシは[RFC4787]に準拠しているNATのブロードバンドゲートウェイ上で実行されている場合、それはまた、DNSの状態が保たれているどのくらいの期間に関する[RFC5452]のセクション10の勧告に従うべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. Interface Binding
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2。インターフェイスのバインド
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Some gateways have been observed to have their DNS proxy listening on both internal (LAN) and external (WAN) interfaces. In this configuration, it is possible for the proxy to be used to mount reflector attacks as described in [RFC5358].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
いくつかのゲートウェイは、その両方の内部（LAN）上のDNSプロキシのリスニングと外部（WAN）のインターフェイスを持つことが観察されています。プロキシは[RFC5358]に記載されているように反射攻撃をマウントするために使用されるため、この構成では、それが可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The DNS proxy in a gateway SHOULD NOT, by default, be accessible from the WAN interfaces of the device.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ゲートウェイにおけるDNSプロキシは、デフォルトでは、デバイスのWANインターフェイスからアクセスされるべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. Packet Filtering
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3。パケットフィルタリング
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Transparency and Robustness Principles are not entirely compatible with the deep packet-inspection features of security appliances such as firewalls, which are intended to protect systems on the inside of a network from rogue traffic.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
透明性と堅牢性の原則は、そのような不正なトラフィックからネットワークの内側にシステムを保護することを意図しているファイアウォールなどのセキュリティアプライアンスのディープパケットインスペクション機能と完全に互換性がありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
However, a clear distinction may be made between traffic that is intrinsically malformed and that which merely contains unexpected data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
しかし、明確な区別は本質的に不正な、単に予期しないデータが含まれているものであるトラフィックの間で行うことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Examples of malformed packets that MAY be dropped include:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
破棄される可能性があり、不正な形式のパケットの例は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o invalid compression pointers (i.e., those that point outside of the current packet or that might cause a parsing loop)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O無効圧縮ポインタ（すなわち、現在のパケットの外側点又はそれが解析ループを引き起こす可能性のあるもの）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o incorrect counts for the Question, Answer, Authority, and Additional Sections (although care should be taken where truncation is a possibility)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O間違った質問のカウント、回答、権限、および追加セクション（切捨てが可能であるところには注意しなければならないが）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Dropped packets will cause the client to repeatedly retransmit the original request, with the client only detecting the error after several retransmit intervals.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
繰り返しクライアントにのみ、いくつかの再送信間隔の後にエラーを検出すると、元の要求を再送信するようにドロップされたパケットは、クライアントの原因となります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In these circumstances, proxies SHOULD synthesise a suitable DNS error response to the client (i.e., SERVFAIL) instead of dropping the packet completely. This will allow the client to detect the error immediately.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このような状況では、プロキシは、代わりに完全にパケットを落とすのクライアント（すなわち、SERVFAIL）に適切なDNSエラー応答を合成するべきです。これは、クライアントがすぐにエラーを検出することができるようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. Acknowledgements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The author would particularly like to acknowledge the assistance of Lisa Phifer of Core Competence. In addition, the author is grateful for the feedback from the members of the DNSEXT Working Group.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著者は、特にコア・コンピタンスのリサ・ファイファーの支援を承認したいと思います。また、著者はDNSEXTワーキンググループのメンバーからのフィードバックに感謝です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.参照文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.1。引用規格
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC0793] Postel, J., &#34;Transmission Control Protocol&#34;, STD 7, RFC 793, September 1981.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC0793]ポステル、J.、 &#34;伝送制御プロトコル&#34;、STD 7、RFC 793、1981年9月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1035] Mockapetris, P., &#34;Domain names - implementation and specification&#34;, STD 13, RFC 1035, November 1987.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1035] Mockapetris、P.、 &#34;ドメイン名 - 実装及び仕様&#34;、STD 13、RFC 1035、1987年11月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1123] Braden, R., &#34;Requirements for Internet Hosts - Application and Support&#34;, STD 3, RFC 1123, October 1989.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC1123]ブレーデン、R.、 &#34;インターネットホストのための要件 - 、アプリケーションとサポート&#34;、STD 3、RFC 1123、1989年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2119]ブラドナーの、S.、 &#34;要件レベルを示すためにRFCsにおける使用のためのキーワード&#34;、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2131] Droms, R., &#34;Dynamic Host Configuration Protocol&#34;, RFC 2131, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2131] Droms、R.、 &#34;動的ホスト構成プロトコル&#34;、RFC 2131、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2132] Alexander, S. and R. Droms, &#34;DHCP Options and BOOTP Vendor Extensions&#34;, RFC 2132, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2132]アレクサンダー、S.とR. Droms、 &#34;DHCPオプションとBOOTPベンダー拡張機能&#34;、RFC 2132、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2671] Vixie, P., &#34;Extension Mechanisms for DNS (EDNS0)&#34;, RFC 2671, August 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2671]いるVixie、P.、 &#34;DNS用拡張メカニズム（EDNS0）&#34;、RFC 2671、1999年8月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2845] Vixie, P., Gudmundsson, O., Eastlake, D., and B. Wellington, &#34;Secret Key Transaction Authentication for DNS (TSIG)&#34;, RFC 2845, May 2000.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2845]いるVixie、P.、グドムンソン、O.、イーストレイク、D.、およびB.ウェリントン、 &#34;DNSのための秘密鍵トランザクション認証（TSIG）&#34;、RFC 2845、2000年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2930] Eastlake, D., &#34;Secret Key Establishment for DNS (TKEY RR)&#34;, RFC 2930, September 2000.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2930]イーストレイク、D.、 &#34;DNSのための秘密鍵確立（TKEYのRR）&#34;、RFC 2930、2000年9月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3597] Gustafsson, A., &#34;Handling of Unknown DNS Resource Record (RR) Types&#34;, RFC 3597, September 2003.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3597]グスタフソン、A.、 &#34;未知のDNSリソースレコード（RR）の取扱いタイプ&#34;、RFC 3597、2003年9月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4035] Arends, R., Austein, R., Larson, M., Massey, D., and S. Rose, &#34;Protocol Modifications for the DNS Security Extensions&#34;, RFC 4035, March 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4035]アレンズ、R.、Austeinと、R.、ラーソン、M.、マッシー、D.、およびS.ローズ、 &#34;DNSセキュリティ拡張のためのプロトコル変更&#34;、RFC 4035、2005年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4787] Audet, F. and C. Jennings, &#34;Network Address Translation (NAT) Behavioral Requirements for Unicast UDP&#34;, BCP 127, RFC 4787, January 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4787] Audet、F.とC.ジェニングス、 &#34;ネットワークアドレス変換（NAT）ユニキャストUDPのための行動の要件&#34;、BCP 127、RFC 4787、2007年1月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5358] Damas, J. and F. Neves, &#34;Preventing Use of Recursive Nameservers in Reflector Attacks&#34;, BCP 140, RFC 5358, October 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5358]ダマ、J.およびF.ネベス、 &#34;反射攻撃に再帰ネームサーバの使用を防止する&#34;、BCP 140、RFC 5358、2008年10月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5452] Hubert, A. and R. van Mook, &#34;Measures for Making DNS More Resilient against Forged Answers&#34;, RFC 5452, January 2009.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5452]ヒューバート、A.とR.バンムック、RFC 5452、2009年1月 &#34;鍛造回答に対するDNSは、より弾力性を作るための措置&#34;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.2。参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[DOTSE] Ahlund and Wallstrom, &#34;DNSSEC Tests of Consumer Broadband Routers&#34;, February 2008, &lt;http://www.iis.se/docs/Routertester_en.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[DOTSE] AhlundとWallstrom、 &#34;消費者ブロードバンドルータのDNSSECテスト&#34;、2008年2月、&lt;http://www.iis.se/docs/Routertester_en.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[SAC035] Bellis, R. and L. Phifer, &#34;Test Report: DNSSEC Impact on Broadband Routers and Firewalls&#34;, September 2008, &lt;http://www.icann.org/committees/security/sac035.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[SAC035]ベリス、R.とL.ファイファー、 &#34;テストレポート：ブロードバンドルータやファイアウォールのDNSSECへの影響&#34;、2008年9月、&lt;http://www.icann.org/committees/security/sac035.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Author&#39;s Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Ray Bellis Nominet UK Edmund Halley Road Oxford OX4 4DQ United Kingdom
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
レイ・ベリスNominet英国エドモンド・ハレー道路オックスフォードOX4 4DQイギリス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Phone: +44 1865 332211 EMail: ray.bellis@nominet.org.uk URI: http://www.nominet.org.uk/
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
電話：+44 1865 332211 Eメール：ray.bellis@nominet.org.uk URI：http://www.nominet.org.uk/
        </p>
      </div>
    </div>
  </div>
  <div class="footer"></div>
</body>
</html>
