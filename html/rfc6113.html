<!DOCTYPE html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>RFC 6113 - A Generalized Framework for Kerberos Pre-Authentication 日本語訳</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

  <script>
    var host = window.location.hostname;
    if (host != "localhost") {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-75892425-1', 'auto');
      ga('send', 'pageview');
    }
  </script>

</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="privacy-policy.html">Privacy Policy</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">6113</span>
  <div style="height: 1ex;"></div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h4 class="alert-heading">RFC 6113 - A Generalized Framework for Kerberos Pre-Authentication 日本語訳</h4>
          <span class="URL">URL :
            <a href="https://tools.ietf.org/html/rfc6113">
              https://tools.ietf.org/html/rfc6113
            </a>
          </span><br>
          <span class="title_ja">
            タイトル : <strong>RFC 6113 - Kerberos事前認証のための一般フレームワーク</strong></span><br>
          <span class="updated_by">翻訳編集 : 自動生成</span><br>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                        S. Hartman
Request for Comments: 6113                             Painless Security
Updates: 4120                                                     L. Zhu
Category: Standards Track                          Microsoft Corporation
ISSN: 2070-1721                                               April 2011
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        A Generalized Framework for Kerberos Pre-Authentication
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
抽象
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Kerberos is a protocol for verifying the identity of principals (e.g., a workstation user or a network server) on an open network. The Kerberos protocol provides a facility called pre-authentication. Pre-authentication mechanisms can use this facility to extend the Kerberos protocol and prove the identity of a principal.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Kerberosは、オープンネットワーク上のプリンシパルのアイデンティティ（例えば、ワークステーションのユーザまたはネットワークサーバ）を検証するためのプロトコルです。 Kerberosプロトコルは、事前認証と呼ばれる機能を提供します。事前認証機構は、Kerberosプロトコルを拡張して、プリンシパルのアイデンティティを証明するためにこの機能を使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document describes a more formal model for this facility. The model describes what state in the Kerberos request a pre-authentication mechanism is likely to change. It also describes how multiple pre-authentication mechanisms used in the same request will interact.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書では、この機能のためのより正式なモデルを説明しています。モデルは、事前認証機構が変化する可能性があるどのような状態にKerberos要求で説明しています。また、同じリクエストで使用される複数の事前認証機構が相互作用する方法を説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document also provides common tools needed by multiple pre-authentication mechanisms. One of these tools is a secure channel between the client and the key distribution center with a reply key strengthening mechanism; this secure channel can be used to protect the authentication exchange and thus eliminate offline dictionary attacks. With these tools, it is relatively straightforward to chain multiple authentication mechanisms, utilize a different key management system, or support a new key agreement algorithm.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
また、このドキュメントでは、複数の事前認証機構が必要とする一般的なツールを提供します。これらのツールの一つが、返信キー強化機構と、クライアントとキー配布センターとの間に安全なチャネルです。このセキュアチャネルが認証交換を保護するため、オフライン辞書攻撃を排除するために使用することができます。これらのツールを使用すると、それはチェーン複数の認証メカニズムに比較的単純である、異なる鍵管理システムを利用するか、新しい鍵合意アルゴリズムをサポートしています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このメモのステータス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これは、インターネット標準化過程文書です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このドキュメントはインターネットエンジニアリングタスクフォース（IETF）の製品です。これは、IETFコミュニティの総意を表しています。これは、公開レビューを受けており、インターネットエンジニアリング運営グループ（IESG）によって公表のために承認されています。インターネット標準の詳細については、RFC 5741のセクション2で利用可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc6113.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttp://www.rfc-editor.org/info/rfc6113で取得することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Copyright (c) 2011 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著作権（C）2011 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（http://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。コードコンポーネントは、トラスト法規定のセクションで説明4.eおよび簡体BSDライセンスで説明したように、保証なしで提供されているよう簡体BSDライセンスのテキストを含める必要があり、この文書から抽出されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   1. Introduction ....................................................4
      1.1. Conventions and Terminology Used in This Document ..........5
      1.2. Conformance Requirements ...................................5
   2. Model for Pre-Authentication ....................................6
      2.1. Information Managed by the Pre-Authentication Model ........7
      2.2. Initial Pre-Authentication Required Error ..................9
      2.3. Client to KDC .............................................10
      2.4. KDC to Client .............................................11
   3. Pre-Authentication Facilities ..................................12
      3.1. Client Authentication Facility ............................13
      3.2. Strengthening Reply Key Facility ..........................13
      3.3. Replace Reply Key Facility ................................14
      3.4. KDC Authentication Facility ...............................15
   4. Requirements for Pre-Authentication Mechanisms .................15
      4.1. Protecting Requests/Responses .............................16
   5. Tools for Use in Pre-Authentication Mechanisms .................17
      5.1. Combining Keys ............................................17
      5.2. Managing States for the KDC ...............................19
      5.3. Pre-Authentication Set ....................................20
      5.4. Definition of Kerberos FAST Padata ........................23
           5.4.1. FAST Armors ........................................24
           5.4.2. FAST Request .......................................26
           5.4.3. FAST Response ......................................30
           5.4.4. Authenticated Kerberos Error Messages Using
                  Kerberos FAST ......................................33
           5.4.5. Outer and Inner Requests ...........................34
           5.4.6. The Encrypted Challenge FAST Factor ................34
      5.5. Authentication Strength Indication ........................36
   6. Assigned Constants .............................................37
      6.1. New Errors ................................................37
      6.2. Key Usage Numbers .........................................37
      6.3. Authorization Data Elements ...............................37
      6.4. New PA-DATA Types .........................................37
   7. IANA Considerations ............................................38
      7.1. Pre-Authentication and Typed Data .........................38
      7.2. Fast Armor Types ..........................................40
      7.3. FAST Options ..............................................40
   8. Security Considerations ........................................41
   9. Acknowledgements ...............................................42
   10. References ....................................................43
      10.1. Normative References .....................................43
      10.2. Informative References ...................................43
   Appendix A. Test Vectors for KRB-FX-CF2 ...........................45
   Appendix B. ASN.1 Module ..........................................46
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The core Kerberos specification [RFC4120] treats pre-authentication data (padata) as an opaque typed hole in the messages to the key distribution center (KDC) that may influence the reply key used to encrypt the KDC reply. This generality has been useful: pre-authentication data is used for a variety of extensions to the protocol, many outside the expectations of the initial designers. However, this generality makes designing more common types of pre-authentication mechanisms difficult. Each mechanism needs to specify how it interacts with other mechanisms. Also, tasks such as combining a key with the long-term secrets or proving the identity of the user are common to multiple mechanisms. Where there are generally well-accepted solutions to these problems, it is desirable to standardize one of these solutions so mechanisms can avoid duplication of work. In other cases, a modular approach to these problems is appropriate. The modular approach will allow new and better solutions to common pre-authentication problems to be used by existing mechanisms as they are developed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
コアケルベロス仕様[RFC4120]はKDC応答を暗号化するために使用される応答キーに影響を与える可能性が鍵配布センタ（KDC）へのメッセージに不透明型付き孔として（PADATA）事前認証データを処理します。この普遍性は有効でした。事前認証データは、初期の設計者の期待外の多くのプロトコルの拡張、各種のために使用されています。しかし、この一般性は困難な事前認証メカニズムのより一般的なタイプを設計します。各機構は、それが他のメカニズムと対話する方法を指定する必要があります。また、このような長期の秘密鍵とを組み合わせるか、ユーザの身元を証明するようなタスクは、複数のメカニズムに共通です。一般的に、これらの問題への解決策が広く受け入れられている場合、メカニズムが作業の重複を避けることができるので、これらのソリューションの1を標準化することが望ましいです。他の例では、これらの問題へのモジュラーアプローチが適切です。モジュラーアプローチは、彼らが開発されているような共通の事前認証の問題への新たな、より良い解決策は、既存のメカニズムによって使用できるようになります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document specifies a framework for Kerberos pre-authentication mechanisms. It defines the common set of functions that pre-authentication mechanisms perform as well as how these functions affect the state of the request and reply. In addition, several common tools needed by pre-authentication mechanisms are provided. Unlike [RFC3961], this framework is not complete -- it does not describe all the inputs and outputs for the pre-authentication mechanisms. Pre-authentication mechanism designers should try to be consistent with this framework because doing so will make their mechanisms easier to implement. Kerberos implementations are likely to have plug-in architectures for pre-authentication; such architectures are likely to support mechanisms that follow this framework plus commonly used extensions. This framework also facilitates combining multiple pre-authentication mechanisms, each of which may represent an authentication factor, into a single multi-factor pre-authentication mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書では、Kerberos事前認証機構のためのフレームワークを指定します。これは、事前認証メカニズムは、これらの機能は、要求と応答の状態にどのように影響するかと同様に実行する機能の共通セットを定義します。また、事前認証機構が必要とするいくつかの一般的なツールが提供されています。 [RFC3961]とは異なり、このフレームワークは、完全ではない - それは事前認証メカニズムのすべての入力および出力を記載していません。そうすることが、実装がそのメカニズムが容易になりますので、事前認証機構の設計者は、このフレームワークと一致するように試してみてください。 Kerberosの実装は、事前認証のためのプラグインアーキテクチャを持っている可能性があり、このようなアーキテクチャには、このフレームワークに加えて一般的に使用される拡張子をたどるメカニズムをサポートする可能性があります。このフレームワークは、単一のマルチファクタ事前認証機構に、認証要素を表すことができる、それぞれが複数の事前認証機構を組み合わせる容易にします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
One of these common tools is the flexible authentication secure tunneling (FAST) padata type. FAST provides a protected channel between the client and the key distribution center (KDC), and it can optionally deliver key material used to strengthen the reply key within the protected channel. Based on FAST, pre-authentication mechanisms can extend Kerberos with ease, to support, for example, password-authenticated key exchange (PAKE) protocols with zero-knowledge password proof (ZKPP) [EKE] [IEEE1363.2]. Any pre-authentication mechanism can be encapsulated in the FAST messages as defined in Section 5.4. A pre-authentication type carried within FAST is called a &#34;FAST factor&#34;. Creating a FAST factor is the easiest path to create a new pre-authentication mechanism. FAST factors are significantly easier to analyze from a security standpoint than other pre-authentication mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これらの一般的なツールの一つは、柔軟な認証、セキュアトンネリング（FAST）PADATAタイプです。 FASTは、クライアントと鍵配布センタ（KDC）との間の保護されたチャネルを提供し、それは、必要に応じて保護されたチャネル内応答キーを強化するために使用されるキーマテリアルを送達することができます。 FAST、事前認証メカニズムに基づくゼロ知識パスワード証明（ZKPP）EKE] [IEEE1363.2]と、例えば、パスワード認証鍵交換（PAKE）プロトコルをサポートするために、容易にKerberosを拡張することができます。セクション5.4で定義されるような任意の事前認証メカニズムは、FASTメッセージ内にカプセル化することができます。 FAST内で運ば事前認証タイプは、「FAST因子」と呼ばれています。 FAST要因を作成すると、新しい事前認証機構を作成する最も簡単なパスです。 FASTの要因は、他の事前認証機構よりもセキュリティの観点から分析することが著しく容易です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanism designers should design FAST factors, instead of new pre-authentication mechanisms outside of FAST.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メカニズムの設計者は、FASTの外FAST要因、代わりの新しい事前認証機構を設計する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1. Conventions and Terminology Used in This Document
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1。このドキュメントの表記規則と用語
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書のキーワード &#34;MUST&#34;、 &#34;MUST NOT&#34;、 &#34;REQUIRED&#34;、、、、 &#34;べきではない&#34; &#34;べきである&#34; &#34;ないもの&#34; &#34;ものとし&#34;、 &#34;推奨&#34;、 &#34;MAY&#34;、および &#34;OPTIONAL&#34; はあります[RFC2119]に記載されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document should be read only after reading the documents describing the Kerberos cryptography framework [RFC3961] and the core Kerberos protocol [RFC4120]. This document may freely use terminology and notation from these documents without reference or further explanation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書は、ケルベロス暗号化フレームワーク[RFC3961]及びコアKerberosプロトコル[RFC4120]を記述した文書を読んだ後に読まれるべきです。この文書は、自由に参照またはさらに説明することなく、これらの文書からの用語および表記法を使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The word padata is used as a shorthand for pre-authentication data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ワードPADATAは、事前認証データの省略形として使用されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A conversation is the set of all authentication messages exchanged between the client and the client&#39;s Authentication Service (AS) in order to authenticate the client principal. A conversation as defined here consists of all messages that are necessary to complete the authentication between the client and the client&#39;s AS. In the Ticket Granting Service (TGS) exchange, a conversation consists of the request message and the reply message. The term conversation is defined here for both AS and TGS for convenience of discussion. See Section 5.2 for specific rules on the extent of a conversation in the AS-REQ case. Prior to this framework, implementations needed to use implementation-specific heuristics to determine the extent of a conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
会話は、クライアントのプリンシパルを認証するために、クライアントとクライアントの認証サービス（AS）間で交換されるすべての認証メッセージのセットです。ここで定義されている会話は、クライアントとクライアントのAS間の認証を完了するために必要なすべてのメッセージで構成されています。チケット認可サービス（TGS）と引き換えに、会話は、要求メッセージと応答メッセージから成ります。用語の会話は議論の便宜のためにASとTGSの両方のためにここで定義されています。 AS-REQケースでの会話の程度に特定の規則については、セクション5.2を参照してください。このフレームワークに先立ち、実装は、会話の程度を決定するために、実装固有のヒューリスティックを使用する必要がありました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the KDC reply in an AS exchange is verified, the KDC is authenticated by the client. In this document, verification of the KDC reply is used as a synonym of authentication of the KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
AS交換でKDC応答が確認された場合、KDCはクライアントによって認証されます。この文書では、KDC応答の検証は、KDCの認証の同義語として使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.2. Conformance Requirements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.2。適合性要件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This section summarizes the mandatory-to-implement subset of this specification as a convenience to implementors. The actual requirements and their context are stated in the body of the document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセクションでは、実装者への便宜として、本明細書の必須のツー実装サブセットをまとめたものです。実際の要件とそのコンテキストは、文書の本文に記載されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Clients conforming to this specification MUST support the padata defined in Section 5.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この仕様に準拠したクライアントは、5.2節で定義されたPADATAをサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Conforming implementations MUST support Kerberos FAST padata (Section 5.4). Conforming implementations MUST implement the FX_FAST_ARMOR_AP_REQUEST armor type.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
適合実装は、Kerberos FAST PADATA（5.4節）をサポートしなければなりません。準拠した実装はFX_FAST_ARMOR_AP_REQUEST装甲タイプを実装しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Conforming implementations MUST support the encrypted challenge FAST factor (Section 5.4.6).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
準拠した実装は、暗号化されたチャレンジFAST因子（5.4.6項）をサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Model for Pre-Authentication
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
事前認証のための2モデル
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When a Kerberos client wishes to obtain a ticket, it sends an initial Authentication Service (AS) request to the KDC. If pre-authentication is required but not being used, then the KDC will respond with a KDC_ERR_PREAUTH_REQUIRED error [RFC4120]. Alternatively, if the client knows what pre-authentication to use, it MAY optimize away a round trip and send an initial request with padata included in the initial request. If the client includes the padata computed using the wrong pre-authentication mechanism or incorrect keys, the KDC MAY return KDC_ERR_PREAUTH_FAILED with no indication of what padata should have been included. In that case, the client MUST retry with no padata and examine the error data of the KDC_ERR_PREAUTH_REQUIRED error. If the KDC includes pre-authentication information in the accompanying error data of KDC_ERR_PREAUTH_FAILED, the client SHOULD process the error data and then retry.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Kerberosクライアントは、チケットを入手したい場合は、KDCへの初期認証サービス（AS）要求を送信します。事前認証が必要とされているが、使用されていない場合は、KDCはKDC_ERR_PREAUTH_REQUIREDエラー[RFC4120]で応答します。また、クライアントが使用するためにどのような事前認証を知っている場合、それは往復の距離を最適化し、PADATAは最初の要求に含まれて最初の要求を送信することができます。クライアントが間違った事前認証機構や間違ったキーを使用して計算PADATAが含まれている場合、KDCはPADATAが含まれているべきものの表示なしでKDC_ERR_PREAUTH_FAILEDを返してもよいです。その場合、クライアントはありませんPADATAを再試行し、KDC_ERR_PREAUTH_REQUIREDエラーのエラーデータを調べる必要があります。 KDCはKDC_ERR_PREAUTH_FAILEDの付随するエラー・データでの事前認証情報が含まれている場合、クライアントはエラー・データを処理してから再試行する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The conventional KDC maintains no state between two requests; subsequent requests may even be processed by a different KDC. On the other hand, the client treats a series of exchanges with KDCs as a single conversation. Each exchange accumulates state and hopefully brings the client closer to a successful authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
従来のKDCは、2つの要求の間に状態を維持しません。後続の要求は、異なるKDCによって処理することができます。一方、クライアントは単一の会話などのKDCとの交流のシリーズを扱います。各交換は、状態を蓄積し、うまくいけば認証が成功に近いクライアントをもたらします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
These models for state management are in apparent conflict. For many of the simpler pre-authentication scenarios, the client uses one round trip to find out what mechanisms the KDC supports. Then, the next request contains sufficient pre-authentication for the KDC to be able to return a successful reply. For these simple scenarios, the client only sends one request with pre-authentication data and so the conversation is trivial. For more complex conversations, the KDC needs to provide the client with a cookie to include in future requests to capture the current state of the authentication session. Handling of multiple round-trip mechanisms is discussed in Section 5.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
状態管理のためのこれらのモデルは、見かけ上の紛争です。シンプルな事前認証シナリオの多くにとって、クライアントは、KDCがサポートするメカニズムを調べるために1つの往復を使用しています。すると、次の要求は、KDCが正常な応答を返すことができるようにするための十分な事前認証が含まれています。これらの単純なシナリオでは、クライアントは事前認証データを一つのリクエストを送信し、その会話が簡単です。より複雑な会話のために、KDCは、認証セッションの現在の状態をキャプチャするために、将来の要求に含めるクッキーをクライアントに提供する必要があります。複数の往復のメカニズムの取り扱いについては、5.2節で議論されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This framework specifies the behavior of Kerberos pre-authentication mechanisms used to identify users or to modify the reply key used to encrypt the KDC reply. The PA-DATA typed hole may be used to carry extensions to Kerberos that have nothing to do with proving the identity of the user or establishing a reply key. Such extensions are outside the scope of this framework. However, mechanisms that do accomplish these goals should follow this framework.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このフレームワークは、ユーザーを特定したり、KDC応答を暗号化するために使用される応答キーを変更するために使用されるKerberos事前認証機構の動作を指定します。 PA-DATA入力された穴は、ユーザーの身元を証明するか、返信キーを確立するとは何の関係もないのKerberosへの拡張を運ぶために使用することができます。このような機能拡張は、このフレームワークの範囲外です。しかし、これらの目標を達成するかのメカニズムは、このフレームワークに従ってください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This framework specifies the minimum state that a Kerberos implementation needs to maintain while handling a request in order to process pre-authentication. It also specifies how Kerberos implementations process the padata at each step of the AS request process.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このフレームワークは、Kerberos実装が事前認証を処理するためにリクエストを処理しながら、維持する必要がある最小の状態を指定します。また、Kerberos実装は、AS要求プロセスの各ステップでPADATAを処理する方法を指定します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. Information Managed by the Pre-Authentication Model
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1。事前認証モデルによって管理されている情報
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The following information is maintained by the client and KDC as each request is being processed:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
各要求が処理されているように、以下の情報は、クライアントとKDCによって維持されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o The reply key used to encrypt the KDC reply
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O応答キーは、KDC応答を暗号化するために使用します
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o How strongly the identity of the client has been authenticated
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Oどのように強く、クライアントのアイデンティティが認証されています
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Whether the reply key has been used in this conversation
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
返信キーがこの会話で使用されているかどうかO
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Whether the reply key has been replaced in this conversation
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
返信キーは、この会話の中で交換されたか否かをO
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o Whether the origin of the KDC reply can be verified by the client (i.e., whether the KDC is authenticated to the client)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O KDC応答の起源がクライアントによって検証することができるかどうか（すなわち、KDCがクライアントに認証されているかどうか）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Conceptually, the reply key is initially the long-term key of the principal. However, principals can have multiple long-term keys because of support for multiple encryption types, salts, and string2key parameters. As described in Section 5.2.7.5 of the Kerberos protocol [RFC4120], the KDC sends PA-ETYPE-INFO2 to notify the client what types of keys are available. Thus, in full generality, the reply key in the pre-authentication model is actually a set of keys. At the beginning of a request, it is initialized to the set of long-term keys advertised in the PA-ETYPE-INFO2 element on the KDC. If multiple reply keys are available, the client chooses which one to use. Thus, the client does not need to treat the reply key as a set. At the beginning of a request, the client picks a key to use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
概念的には、返信キーは、当初元本の長期的なキーです。しかし、校長はあるため、複数の暗号化タイプ、塩、およびstring2keyパラメータのサポートの複数の長期的なキーを持つことができます。 Kerberosプロトコル[RFC4120]のセクション5.2.7.5で説明したように、KDCは、キーの種類が利用可能であるかをクライアントに通知するためにPA-ETYPE-INFO2を送信します。このように、完全に一般的には、事前認証モデルの応答キーは、実際にキーのセットです。リクエストの開始時に、それがKDC上のPA-ETYPE-INFO2要素でアドバタイズ長期キーのセットに初期化されます。複数回答キーが利用可能な場合、クライアントは1つが使用する選択します。したがって、クライアントは、セットとして返信キーを処理する必要はありません。リクエストの開始時に、クライアントが使用するキーを選びます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC implementations MAY choose to offer only one key in the PA-ETYPE-INFO2 element. Since the KDC already knows the client&#39;s list of supported enctypes from the request, no interoperability problems are created by choosing a single possible reply key. This way, the KDC implementation avoids the complexity of treating the reply key as a set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC実装は、PA-ETYPE-INFO2要素内の1つのキーだけを提供することを選ぶかもしれません。 KDCがすでに要求からサポートenctypesのクライアントのリストを知っているので、何の相互運用性の問題は、単一の可能な応答キーを選択することによって作成されません。この方法では、KDCの実装では、セットとして返信キーを処理の複雑さを避けることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When the padata in the request are verified by the KDC, then the client is known to have that key; therefore, the KDC SHOULD pick the same key as the reply key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
リクエストでPADATAがKDCによって検証されている場合、クライアントはその鍵を持っていることが知られています。そのため、KDCは、返信キーと同じキーを選択する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
At the beginning of handling a message on both the client and the KDC, the client&#39;s identity is not authenticated. A mechanism may indicate that it has successfully authenticated the client&#39;s identity. It is useful to keep track of this information on the client in order to know what pre-authentication mechanisms should be used. The KDC needs to keep track of whether the client is authenticated because the primary purpose of pre-authentication is to authenticate the client identity before issuing a ticket. The handling of authentication strength using various authentication mechanisms is discussed in Section 5.5.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントとKDCの両方でメッセージを処理の開始時に、クライアントのIDが認証されていません。メカニズムは、それがクライアントの識別情報を認証に成功したことを示すことができます。事前認証メカニズムを使用すべきかを知るためには、クライアント上でこの情報を追跡するのに便利です。 KDCは、事前認証の主な目的は、チケットを発行する前に、クライアントのIDを認証することであるため、クライアントが認証されているかどうかを追跡する必要があります。さまざまな認証メカニズムを使用して認証強度の取り扱いはセクション5.5で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Initially, the reply key is not used. A pre-authentication mechanism that uses the reply key to encrypt or checksum some data in the generation of new keys MUST indicate that the reply key is used. This state is maintained by the client and the KDC to enforce the security requirement stated in Section 3.3 that the reply key SHOULD NOT be replaced after it is used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
最初は、返信キーが使用されていません。新しいキーの生成におけるいくつかのデータを暗号化またはチェックサムに対する応答キーを使用して事前認証メカニズムは、応答キーが使用されていることを示さなければなりません。この状態は、それが使用された後、返信キーを交換しないでください、セクション3.3に記載されたセキュリティ要件を強制するために、クライアントとKDCによって維持されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Initially, the reply key is not replaced. If a mechanism implements the Replace Reply Key facility discussed in Section 3.3, then the state MUST be updated to indicate that the reply key has been replaced. Once the reply key has been replaced, knowledge of the reply key is insufficient to authenticate the client. The reply key is marked as replaced in exactly the same situations as the KDC reply is marked as not being verified to the client principal. However, while mechanisms can verify the KDC reply to the client, once the reply key is replaced, then the reply key remains replaced for the remainder of the conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
最初は、返信キーが交換されていません。メカニズムは3.3節で議論置き換え返信キー機能を実装している場合、その状態は、返信キーが交換されたことを示すように更新されなければなりません。返信キーが交換された後、返信キーの知識は、クライアントを認証するには不十分です。 KDC応答がクライアントのプリンシパルに検証されていないとしてマークされているとまったく同じ状況に置き換えて返信キーがマークされています。 KDCを確認することができるメカニズムがクライアントに返信しながら、応答キーが交換された後しかし、、、その後、応答キー遺骨は、会話の残りの置換します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Without pre-authentication, the client knows that the KDC reply is authentic and has not been modified because it is encrypted in a long-term key of the client. Only the KDC and the client know that key. So, at the start of a conversation, the KDC reply is presumed to be verified using the client&#39;s long-term key. It should be noted that in this document, verifying the KDC reply means authenticating the KDC, and these phrases are used interchangeably. Any pre-authentication mechanism that sets a new reply key not based on the principal&#39;s long-term secret MUST either verify the KDC reply some other way or indicate that the reply is not verified. If a mechanism indicates that the reply is not verified, then the client implementation MUST return an error unless a subsequent mechanism verifies the reply. The KDC needs to track this state so it can avoid generating a reply that is not verified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証がなければ、クライアントはKDCの応答が本物である、それは、クライアントの長期キーで暗号化されているため変更されていないことを知っています。 KDCとクライアントだけがそのキーを知っています。だから、会話の開始時に、KDC応答はクライアントの長期キーを使用して検証すると推定されます。この文書で、KDCを検証すると、KDCを認証する手段を返信し、これらのフレーズが交換可能に使用されることに留意すべきです。プリンシパルの長期秘密に基づいていない新しい回答キーを設定し、任意の事前認証機構は、KDCを確かめなければなりませんいずれかの他の方法を返信したり、返信が確認されていないことを示しています。メカニズムは返信が確認されていないことを示している場合、後続のメカニズムが応答を確認しない限り、クライアントの実装では、エラーを返さなければなりません。 KDCは、それが確認されていない応答の発生を回避することができますので、この状態を追跡する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In this specification, KDC verification/authentication refers to the level of authentication of the KDC to the client provided by RFC 4120. There is a stronger form of KDC verification that, while sometimes important in Kerberos deployments, is not addressed in this specification: the typical Kerberos request does not provide a way for the client machine to know that it is talking to the correct KDC. Someone who can inject packets into the network between the client machine and the KDC and who knows the password that the user will give to the client machine can generate a KDC reply that will decrypt properly. So, if the client machine needs to authenticate that the user is in fact the named principal, then the client machine needs to do a TGS request for itself as a service. Some pre-authentication mechanisms may provide a way for the client machine to authenticate the KDC. Examples of this include signing the reply that can be verified using a well-known public key or providing a ticket for the client machine as a service.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
本明細書では、KDCの検証/認証は、Kerberosの展開では、時には重要ながら、この仕様で対処されていない、ということKDC検証の強い形があり、RFC 4120によって提供されるクライアントにKDCの認証レベルを指します。典型的なKerberosの要求は、クライアント・マシンは、それが正しいKDCに話されていることを知るための方法を提供していません。クライアントマシン間のネットワークとKDCへパケットを注入し、誰が正しく復号化されますKDC応答を生成することができ、ユーザがクライアントマシンに与えることをパスワードを知っていることができる人。クライアントマシンは、ユーザーが実際に名前の校長であることを認証する必要があるのであれば、クライアント・マシンは、サービスとして自身のためにTGSリクエストを行う必要があります。いくつかの事前認証機構は、KDCを認証するためのクライアント・マシンのための方法を提供することができます。この例は、よく知られた公開鍵を使用するか、サービスとしてクライアントマシンのチケットを提供し検証することができ、返信に署名含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. Initial Pre-Authentication Required Error
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2。初期の事前認証が必要エラー
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Typically, a client starts a conversation by sending an initial request with no pre-authentication. If the KDC requires pre-authentication, then it returns a KDC_ERR_PREAUTH_REQUIRED message. After the first reply with the KDC_ERR_PREAUTH_REQUIRED error code, the KDC returns the error code KDC_ERR_MORE_PREAUTH_DATA_REQUIRED (defined in Section 5.2) for pre-authentication configurations that use multi-round-trip mechanisms; see Section 2.4 for details of that case.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
一般的に、クライアントはありません事前認証で最初のリクエストを送信することによって、会話を開始します。 KDCが事前認証を必要とする場合、それはKDC_ERR_PREAUTH_REQUIREDメッセージを返します。 KDC_ERR_PREAUTH_REQUIREDエラーコードと最初の応答後、KDCはマルチラウンドトリップメカニズムを使用する事前認証構成で（セクション5.2で定義される）KDC_ERR_MORE_PREAUTH_DATA_REQUIREDエラーコードを返します。その例詳細については、セクション2.4を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KDC needs to choose which mechanisms to offer the client. The client needs to be able to choose what mechanisms to use from the first message. For example, consider the KDC that will accept mechanism A followed by mechanism B or alternatively the single mechanism C. A client that supports A and C needs to know that it should not bother trying A.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCは、クライアントを提供するためにどのメカニズムを選択する必要があります。クライアントは、メカニズムは最初のメッセージから使用するものを選択できるようにする必要があります。たとえば、代わり機構Bまたは単一のメカニズムC. Aをサポートしており、CはそれがA.を試す気にはならないことを知っている必要があり、クライアントが続い機構Aを受け入れるKDCを考えます
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanisms can either be sufficient on their own or can be part of an authentication set -- a group of mechanisms that all need to successfully complete in order to authenticate a client. Some mechanisms may only be useful in authentication sets; others may be useful alone or in authentication sets. For the second group of mechanisms, KDC policy dictates whether the mechanism will be part of an authentication set, offered alone, or both. For each mechanism that is offered alone (even if it is also offered in an authentication set), the KDC includes the pre-authentication type ID of the mechanism in the padata sequence returned in the KDC_ERR_PREAUTH_REQUIRED error. Mechanisms that are only offered as part of an authentication set are not directly represented in the padata sequence returned in the KDC_ERR_PREAUTH_REQUIRED error, although they are represented in the PA-AUTHENTICATION-SET sequence.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メカニズムは、自分自身で十分なものとすることができるいずれか、または認証セットの一部にすることができます - すべてのクライアントを認証するために、正常に完了する必要があるメカニズムのグループ。いくつかのメカニズムは、唯一の認証セットに有用である可能性があります。他の人は、単独で、または認証セットに有用であり得ます。機構の第二群は、KDCポリシーは、機構は、認証セットの一部、単独で提供される、またはその両方であるかどうかを決定します。 （それは、認証セットで提供されていても）単独で提供される各機構のために、KDCはKDC_ERR_PREAUTH_REQUIREDエラーで返さPADATA配列における機構の事前認証タイプのIDを含みます。彼らはPA-AUTHENTICATION-SET列で表現されているが、唯一の認証セットの一部として提供されるメカニズムは、直接、KDC_ERR_PREAUTH_REQUIREDエラーで返さPADATA列で表現されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KDC SHOULD NOT send data that is encrypted in the long-term password-based key of the principal. Doing so has the same security exposures as the Kerberos protocol without pre-authentication. There are few situations where the KDC needs to expose cipher text encrypted in a weak key before the client has proven knowledge of that key, and where pre-authentication is desirable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCはプリンシパルの長期的なパスワードベースのキーで暗号化されたデータを送信することはできません。そうすることで、事前認証なしでKerberosプロトコルと同じセキュリティエクスポージャーを持っています。 KDCは、クライアントがそのキーの知識を証明している前に、および事前認証が望まれるところ弱いキーで暗号化された暗号文を公開する必要があるいくつかの状況があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3. Client to KDC
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3。 KDCへのクライアント
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This description assumes that a client has already received a KDC_ERR_PREAUTH_REQUIRED from the KDC. If the client performs optimistic pre-authentication, then the client needs to guess values for the information it would normally receive from that error response or use cached information obtained in prior interactions with the KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この説明は、クライアントがすでにKDCからKDC_ERR_PREAUTH_REQUIREDを受信したことを前提としています。クライアントが楽観事前認証を実行する場合、クライアントは、それは通常、KDCとの事前の相互作用で得られたキャッシュされた情報をそのエラー応答から受信したり、使用する情報の値を推測する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The client starts by initializing the pre-authentication state as specified. It then processes the padata in the KDC_ERR_PREAUTH_REQUIRED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、指定された事前認証状態を初期化することによって開始します。その後KDC_ERR_PREAUTH_REQUIREDでPADATAを処理します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When processing the response to the KDC_ERR_PREAUTH_REQUIRED, the client MAY ignore any padata it chooses unless doing so violates a specification to which the client conforms. Clients conforming to this specification MUST NOT ignore the padata defined in Section 5.2. Clients SHOULD choose one authentication set or mechanism that could lead to authenticating the user and ignore other such mechanisms. However, this rule does not affect the processing of padata unrelated to this framework; clients SHOULD process such padata normally. Since the list of mechanisms offered by the KDC is in the decreasing preference order, clients typically choose the first mechanism or authentication set that the client can usefully perform. If a client chooses to ignore padata, it MUST NOT process the padata, allow the padata to affect the pre-authentication state, or respond to the padata.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_PREAUTH_REQUIREDへの応答を処理する場合、クライアントはそうすることが、クライアントが準拠した仕様に違反しない限り、それが選択した任意のPADATAを無視するかもしれません。この仕様に準拠したクライアントは、5.2節で定義されたPADATAを無視してはいけません。クライアントは1つの認証セットまたはユーザを認証につながるおよび他のそのようなメカニズムを無視することができメカニズムを選択する必要があります。しかし、このルールは、このフレームワークとは無関係のPADATAの処理には影響を与えません。クライアントは通常、PADATAを処理しなければなりません。 KDCによって提供されるメカニズムのリストが減少優先順位であるため、クライアントは通常、クライアントが有効に行うことができることを設定された第1の機構や認証を選択します。クライアントがPADATAを無視することを選択した場合、それはPADATAを処理してはならない、PADATAは事前認証の状態に影響を与える、またはPADATAに応答することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
For each instance of padata the client chooses to process, the client processes the padata and modifies the pre-authentication state as required by that mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントが処理することを選択しPADATAの各インスタンスについて、クライアントはPADATAを処理し、その機構により、必要に応じて事前認証状態を変更します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
After processing the padata in the KDC error, the client generates a new request. It processes the pre-authentication mechanisms in the order in which they will appear in the next request, updating the state as appropriate. The request is sent when it is complete.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCエラーでPADATAを処理した後、クライアントは、新しい要求を生成します。それは、彼らが適切に状態を更新し、次のリクエストに表示される順序で事前認証機構を処理します。それが完了すると、要求が送信されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.4. KDC to Client
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.4。クライアントへのKDC
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When a KDC receives an AS request from a client, it needs to determine whether it will respond with an error or an AS reply. There are many causes for an error to be generated that have nothing to do with pre-authentication; they are discussed in the core Kerberos specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCは、クライアントからのAS要求を受信すると、それがエラーまたはAS応答で応答するかどうかを判断する必要があります。事前認証とは何の関係もない、生成されるエラーの多くの原因があります。彼らは、コアケルベロス仕様で説明されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
From the standpoint of evaluating the pre-authentication, the KDC first starts by initializing the pre-authentication state. If a PA-FX-COOKIE pre-authentication data item is present, it is processed first; see Section 5.2 for a definition. It then processes the padata in the request. As mentioned in Section 2.3, the KDC MAY ignore padata that are inappropriate for the configuration and MUST ignore padata of an unknown type. The KDC MUST NOT ignore padata of types used in previous messages. For example, if a KDC issues a KDC_ERR_PREAUTH_REQUIRED error including padata of type x, then the KDC cannot ignore padata of type x received in an AS-REQ message from the client.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証を評価する観点から、KDCは、まず事前認証状態を初期化することによって開始します。 PA-FX-COOKIE事前認証データ項目が存在する場合、それが最初に処理されます。定義については、セクション5.2を参照してください。これは、その要求にPADATAを処理します。 2.3節で述べたように、KDCは、コンフィギュレーションには不適切であり、未知のタイプのPADATAを無視しなければなりませんPADATAを無視するかもしれません。 KDCは、以前のメッセージで使用されるタイプのPADATAを無視してはいけません。 KDCは、タイプXのPADATA含むKDC_ERR_PREAUTH_REQUIREDエラーを発行した場合、例えば、次にKDCは、タイプXのPADATAを無視できないクライアントからのAS-REQメッセージで受信。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
At this point, the KDC decides whether it will issue an error or a reply. Typically, a KDC will issue a reply if the client&#39;s identity has been authenticated to a sufficient degree.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この時点では、KDCは、それがエラーまたは応答を発行するかどうかを決定します。クライアントの身元が十分に認証されている場合、通常、KDCは応答を発行します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In the case of a KDC_ERR_MORE_PREAUTH_DATA_REQUIRED error, the KDC first starts by initializing the pre-authentication state. Then, it processes any padata in the client&#39;s request in the order provided by the client. Mechanisms that are not understood by the KDC are ignored. Next, it generates padata for the error response, modifying the pre-authentication state appropriately as each mechanism is processed. The KDC chooses the order in which it will generate padata (and thus the order of padata in the response), but it needs to modify the pre-authentication state consistently with the choice of order. For example, if some mechanism establishes an authenticated client identity, then the subsequent mechanisms in the generated response receive this state as input. After the padata are generated, the error response is sent. Typically, the errors with the code KDC_ERR_MORE_PREAUTH_DATA_REQUIRED in a conversation will include KDC state, as discussed in Section 5.2.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_MORE_PREAUTH_DATA_REQUIREDエラーの場合、KDCは、第一事前認証状態を初期化することによって開始します。次に、それは、クライアントが提供するために、クライアントの要求のいずれかのPADATAを処理します。 KDCによって理解されていないメカニズムは無視されます。次に、各機構が処理されるように、適切に事前認証状態を変更する、エラー応答のためPADATAを生成します。 KDCは、それが（従ってそれに応答してPADATAの順序）PADATAを生成する順序を選択し、それは順番の選択と一貫して事前認証状態を変更する必要があります。いくつかのメカニズムが認証されたクライアントIDを確立した場合、その後、生成された応答内の後続の機構は、入力としてこの状態を受け取ります。 PADATAが生成された後、エラー応答が送信されます。セクション5.2で議論するように、典型的には、会話のコードKDC_ERR_MORE_PREAUTH_DATA_REQUIRED有する誤差は、KDCの状態が含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
To generate a final reply, the KDC generates the padata modifying the pre-authentication state as necessary. Then, it generates the final response, encrypting it in the current pre-authentication reply key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
最終的な応答を生成するために、KDCは、必要に応じて事前認証状態を変更するPADATAを生成します。その後、それは現在の事前認証応答キーでそれを暗号化し、最終的な応答を生成します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Pre-Authentication Facilities
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
前記事前認証施設
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Pre-authentication mechanisms can be thought of as providing various conceptual facilities. This serves two useful purposes. First, mechanism authors can choose only to solve one specific small problem. It is often useful for a mechanism designed to offer key management not to directly provide client authentication but instead to allow one or more other mechanisms to handle this need. Secondly, thinking about the abstract services that a mechanism provides yields a minimum set of security requirements that all mechanisms providing that facility must meet. These security requirements are not complete; mechanisms will have additional security requirements based on the specific protocol they employ.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証メカニズムは、様々な概念的な設備を提供するものとして考えることができます。これは、2つの有用な目的があります。まず、機構著者は1つの特定の小さな問題を解決するために選択することができます。それは多くの場合、直接クライアント認証を提供する代わりに、一つ以上の他のメカニズムは、このニーズに対応できるようにすることではないキー管理を提供するように設計されたメカニズムのために有用です。第二に、メカニズムが提供する抽象サービスを考えると、その施設を提供するすべてのメカニズムが満たさなければならないセキュリティ要件の最小セットを生成します。これらのセキュリティ要件が完全ではありません。メカニズムは、彼らが採用する特定のプロトコルに基づいて追加のセキュリティ要件があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A mechanism is not constrained to only offering one of these facilities. While such mechanisms can be designed and are sometimes useful, many pre-authentication mechanisms implement several facilities. It is often easier to construct a secure, simple solution by combining multiple facilities in a single mechanism than by solving the problem in full generality. Even when mechanisms provide multiple facilities, they need to meet the security requirements for all the facilities they provide. If the FAST factor approach is used, it is likely that one or a small number of facilities can be provided by a single mechanism without complicating the security analysis.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メカニズムはこれらの施設のいずれかを提供することに制約されません。そのようなメカニズムが設計されており、便利な場合があることができますが、多くの事前認証機構は、いくつかの機能を実装しています。完全に一般的に問題を解決するよりも、単一のメカニズムに複数の施設を組み合わせることにより、安全でシンプルなソリューションを構築する方が簡単です。メカニズムは、複数の施設を提供した場合でも、彼らは、彼らが提供するすべての施設のセキュリティ要件を満たす必要があります。 FAST因子アプローチが使用される場合、1つ又は施設少数のセキュリティ分析を複雑にすることなく、単一の機構によって提供することができる可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
According to Kerberos extensibility rules (Section 1.5 of the Kerberos specification [RFC4120]), an extension MUST NOT change the semantics of a message unless a recipient is known to understand that extension. Because a client does not know that the KDC supports a particular pre-authentication mechanism when it sends an initial request, a pre-authentication mechanism MUST NOT change the semantics of the request in a way that will break a KDC that does not understand that mechanism. Similarly, KDCs MUST NOT send messages to clients that affect the core semantics unless the client has indicated support for the message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
受信者がその拡張を理解することが知られていない限りケルベロス拡張ルール（ケルベロス仕様[RFC4120]のセクション1.5）によれば、拡張は、メッセージのセマンティクスを変更しないでください。それが最初の要求を送信するとき、クライアントはKDCが特定の事前認証機構をサポートしていることを知らないので、事前認証機構は、そのメカニズムを理解していないことKDCを壊すような方法で要求のセマンティクスを変更してはいけません。同様に、のKDCは、クライアントがメッセージのサポートを示していない限り、コアのセマンティクスに影響を与えるクライアントにメッセージを送ってはいけません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The only state in this model that would break the interpretation of a message is changing the expected reply key. If one mechanism changed the reply key and a later mechanism used that reply key, then a KDC that interpreted the second mechanism but not the first would fail to interpret the request correctly. In order to avoid this problem, extensions that change core semantics are typically divided into two parts. The first part proposes a change to the core semantic -- for example, proposes a new reply key. The second part acknowledges that the extension is understood and that the change takes effect. Section 3.2 discusses how to design mechanisms that modify the reply key to be split into a proposal and acceptance without requiring additional round trips to use the new reply key in subsequent pre-authentication. Other changes in the state described in Section 2.1 can safely be ignored by a KDC that does not understand a mechanism. Mechanisms that modify the behavior of the request outside the scope of this framework need to carefully consider the Kerberos extensibility rules to avoid similar problems.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メッセージの解釈を壊すこのモデルでは唯一の状態が予想される応答キーを変更しています。一つのメカニズムは、応答キーとキーを返信使用後のメカニズムを変更した場合は、その後、第二のメカニズムを解釈しますが最初ではないKDCは要求を正しく解釈するのに失敗していました。この問題を回避するためには、コアセマンティクスを変更する拡張機能は、典型的には2つの部分に分かれています。最初の部分は、セマンティックコアへの変更を提案している - 例えば、新しい回答キーを提案しています。第二の部分は、拡張を理解し、変更が有効になることであることを認めています。返信キーを変更するメカニズムを設計する方法を3.2節を議論は、その後、認証前に新たな返信キーを使用するために追加のラウンドトリップを必要とせずに提案し、受け入れに分割されます。 2.1節で説明した状態でのその他の変更は、安全のメカニズムを理解していないKDCによって無視することができます。この枠組みの範囲外の要求の動作を変更するメカニズムは慎重に同様の問題を回避するためのKerberosの拡張ルールを考慮する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1. Client Authentication Facility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.1。クライアント認証施設
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Client Authentication facility proves the identity of a user to the KDC before a ticket is issued. Examples of mechanisms implementing this facility include the encrypted timestamp facility, defined in Section 5.2.7.2 of the Kerberos specification [RFC4120]. Mechanisms that provide this facility are expected to mark the client as authenticated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
チケットが発行される前に、クライアント認証機能は、KDCへのユーザーの身元を証明します。この機能を実現する機構の例は、Kerberos仕様のセクション5.2.7.2で定義された暗号化されたタイムスタンプ機能、[RFC4120]を含みます。この機能を提供するメカニズムが認証としてクライアントをマークすることが期待されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanisms implementing this facility SHOULD require the client to prove knowledge of the reply key before transmitting a successful KDC reply. Otherwise, an attacker can intercept the pre-authentication exchange and get a reply to attack. One way of proving the client knows the reply key is to implement the Replace Reply Key facility along with this facility. The Public Key Cryptography for Initial Authentication in Kerberos (PKINIT) mechanism [RFC4556] implements Client Authentication alongside Replace Reply Key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この機能を実装するメカニズムは、成功したKDC応答を送信する前に、応答キーの知識を証明するために、クライアントを要求すべきです。そうしないと、攻撃者が事前認証交換を傍受し、攻撃への応答を得ることができます。クライアントを証明する一つの方法は、返信キーがこの機能と一緒に返信を交換キー機能を実装することであることを知っています。ケルベロスにおける初期認証のための公開鍵暗号（PKINIT）メカニズム[RFC4556]はクライアント認証が並んで返信キーを交換して実装しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the reply key has been replaced, then mechanisms such as encrypted-timestamp that rely on knowledge of the reply key to authenticate the client MUST NOT be used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
返信キーが交換されている場合は、クライアントを認証するために、返信キーの知識に頼るように暗号化され、タイムスタンプなどのメカニズムを使用してはいけません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2. Strengthening Reply Key Facility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.2。主な施設を返信強化
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Particularly when dealing with keys based on passwords, it is desirable to increase the strength of the key by adding additional secrets to it. Examples of sources of additional secrets include the results of a Diffie-Hellman key exchange or key bits from the output of a smart card [KRB-WG.SAM]. Typically, these additional secrets can be first combined with the existing reply key and then converted to a protocol key using tools defined in Section 5.1.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
パスワードに基づいてキーを扱う場合には特に、それに追加の秘密を追加することで、キーの強度を増加させることが望ましいです。付加的な秘密の情報源の例としては、スマートカードの出力からのDiffie-Hellman鍵交換またはキービット[KRB-WG.SAM]の結果を含みます。典型的には、これらの追加の秘密は、まず既存の応答キーと合わせ、次いで、セクション5.1で定義されたツールを使用して、プロトコル・キーに変換することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Typically, a mechanism implementing this facility will know that the other side of the exchange supports the facility before the reply key is changed. For example, a mechanism might need to learn the certificate for a KDC before encrypting a new key in the public key belonging to that certificate. However, if a mechanism implementing this facility wishes to modify the reply key before knowing that the other party in the exchange supports the mechanism, it proposes modifying the reply key. The other party then includes a message indicating that the proposal is accepted if it is understood and meets policy. In many cases, it is desirable to use the new reply key for client authentication and for other facilities. Waiting for the other party to accept the proposal and actually modify the reply key state would add an additional round trip to the exchange. Instead, mechanism designers are encouraged to include a typed hole for additional padata in the message that proposes the reply key change. The padata included in the typed hole are generated assuming the new reply key. If the other party accepts the proposal, then these padata are considered as an inner level. As with the outer level, one authentication set or mechanism is typically chosen for client authentication, along with auxiliary mechanisms such as KDC cookies, and other mechanisms are ignored. When mechanisms include such a container, the hint provided for use in authentication sets (as defined in Section 5.3) MUST contain a sequence of inner mechanisms along with hints for those mechanisms. The party generating the proposal can determine whether the padata were processed based on whether the proposal for the reply key is accepted.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
一般的に、この機能を実装するメカニズムは、返信キーが変更される前に、為替の反対側が施設をサポートしていることを知っているだろう。例えば、この機構は、その証明書に属する公開鍵で新しい鍵を暗号化する前に、KDCの証明書を学ぶ必要があります。この機能を実装するメカニズムが引き換えに、他の当事者がメカニズムをサポートしていることを知っている前に、返信キーを変更したい場合は、それは返信キーを変更することを提案しています。他の当事者は、それを理解し、ポリシーを満たしている場合提案が受け入れられたことを示すメッセージを含みます。多くの場合、クライアント認証用や他の施設のための新たな回答キーを使用することが望ましいです。他の党の提案を受け入れ、実際に返事キーの状態が為替への追加のラウンドトリップを追加する修正するのを待っています。代わりに、機構設計者は、返信キーの変更を提案しているメッセージに追加PADATAための型指定された穴を含めることをお勧めします。入力された穴の中に含まPADATAは、新しい回答キーを想定して生成されます。相手が提案を受け入れる場合、これらのPADATAは、インナーレベルとして考えられています。外側のレベルのように、一回の認証セットまたは機構は、典型的には、KDCクッキーなどの補助機構と共に、クライアント認証のために選択され、そして他のメカニズムは無視されます。機構は、このような容器を含む場合、認証設定で使用するために設けられたヒントは、（セクション5.3で定義されるように）、これらのメカニズムのためのヒントと一緒に内部機構の配列を含まなければなりません。提案を生成する当事者はPADATAが返信キーの提案が受け入れられるかどうかに基づいて処理されたかどうかを判断することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The specific formats of the proposal message, including where padata are included, is a matter for the mechanism specification. Similarly, the format of the message accepting the proposal is mechanism specific.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PADATAが含まれるなど、提案メッセージの特定のフォーマットは、機構の仕様の問題です。同様に、提案を受諾メッセージのフォーマットは、メカニズムに特異的です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanisms implementing this facility and including a typed hole for additional padata MUST checksum that padata using a keyed checksum or encrypt the padata. This requirement protects against modification of the contents of the typed hole. By modifying these contents, an attacker might be able to choose which mechanism is used to authenticate the client, or to convince a party to provide text encrypted in a key that the attacker had manipulated. It is important that mechanisms strengthen the reply key enough that using it to checksum padata is appropriate.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
機構は、この機能を実装し、追加PADATAのMUSTチェックサムのための型付きの穴を含むことPADATAをキー付きチェックサムを使用して、またはPADATAを暗号化します。この要件は、入力された穴の内容の変更から保護します。これらの内容を変更することにより、攻撃者がクライアントを認証するために、または攻撃者が操作していたことをキーで暗号化されたテキストを提供するために、党を説得するために使用されるメカニズムを選択することができるかもしれません。メカニズムは、チェックサムPADATAにそれを使用することは適切であると十分なキーの応答を強化することが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3. Replace Reply Key Facility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.3。返信キーファシリティを交換してください
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Replace Reply Key facility replaces the key in which a successful AS reply will be encrypted. This facility can only be used in cases where knowledge of the reply key is not used to authenticate the client. The new reply key MUST be communicated to the client and the KDC in a secure manner. This facility MUST NOT be used if there can be a man-in-the-middle between the client and the KDC. Mechanisms implementing this facility MUST mark the reply key as replaced in the pre-authentication state. Mechanisms implementing this facility MUST either provide a mechanism to verify the KDC reply to the client or mark the reply as unverified in the pre-authentication state. Mechanisms implementing this facility SHOULD NOT be used if a previous mechanism has used the reply key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
置き換え返信主要施設は、応答として成功が暗号化されるにキーを置き換えます。この機能は、応答キーの知識がクライアントを認証するために使用されていない場合に使用することができます。新しい回答キーは安全な方法で、クライアントとKDCに伝達されなければなりません。クライアントとKDCの間のman-in-the-middleがあることができれば、この機能を使用してはいけません。事前認証状態に置き換えて、この機能を実装するメカニズムは、返信キーをマークする必要があります。この機能を実装するメカニズムは、クライアントにKDC応答を検証するメカニズムを提供したり、事前認証状態で未検証として回答をマークする必要があります。以前のメカニズムは、応答キーを使用している場合、この機能を実装するメカニズムは使用されるべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
As with the Strengthening Reply Key facility, Kerberos extensibility rules require that the reply key not be changed unless both sides of the exchange understand the extension. In the case of this facility, it will likely be the case for both sides to know that the facility is available by the time that the new key is available to be used. However, mechanism designers can use a container for padata in a proposal message, as discussed in Section 3.2, if appropriate.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
強化と主要施設を返信として、ケルベロス拡張ルールは、為替の両側が拡張を理解しない限り、返信キーは変更しないことが必要です。この施設の場合、おそらく、施設が新しいキーを使用することが可能であることを時間によって利用可能であることを知って、両側のためのケースとなります。適切な場合、セクション3.2で議論するようにしかし、機構設計者は、提案メッセージにPADATAための容器を使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4. KDC Authentication Facility
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3.4。 KDCの認証施設
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This facility verifies that the reply comes from the expected KDC. In traditional Kerberos, the KDC and the client share a key, so if the KDC reply can be decrypted, then the client knows that a trusted KDC responded. Note that the client machine cannot trust the client unless the machine is presented with a service ticket for it (typically, the machine can retrieve this ticket by itself). However, if the reply key is replaced, some mechanism is required to verify the KDC. Pre-authentication mechanisms providing this facility allow a client to determine that the expected KDC has responded even after the reply key is replaced. They mark the pre-authentication state as having been verified.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この機能は、回答が予想されるKDCから来ていることを確認します。伝統的なケルベロスでは、KDCとクライアントの共有キー、KDC応答が解読することができるそうならば、そのクライアントは、信頼できるKDCが応答したことを知っています。マシンはそれのためのサービスチケット（一般的に、マシンはそれ自体でこのチケットを取得することができます）を提示されない限り、クライアントマシンがクライアントを信頼できないことに注意してください。返信キーを交換した場合は、いくつかのメカニズムがKDCを検証するために必要とされます。この機能を提供する事前認証メカニズムは、クライアントが期待されるKDC返信キーが交換された後も応答していることを確認することができます。彼らは、検証されたものとして事前認証状態をマーク。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Requirements for Pre-Authentication Mechanisms
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
事前認証機構の4要件
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This section lists requirements for specifications of pre-authentication mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセクションでは、事前認証機構の仕様のための要件を示します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
For each message in the pre-authentication mechanism, the specification describes the pa-type value to be used and the contents of the message. The processing of the message by the sender and recipient is also specified. This specification needs to include all modifications to the pre-authentication state.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証機構の各メッセージのために、仕様は、使用するPA型の値とメッセージの内容を記述する。送信者と受信者によるメッセージの処理も指定されています。この仕様は、事前認証の状態にすべての変更が含まれることが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Generally, mechanisms have a message that can be sent in the error data of the KDC_ERR_PREAUTH_REQUIRED error message or in an authentication set. If the client needs information, such as trusted certificate authorities, in order to determine if it can use the mechanism, then this information should be in that message. In addition, such mechanisms should also define a pa-hint to be included in authentication sets. Often, the same information included in the padata-value is appropriate to include in the pa-hint (as defined in Section 5.3).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
一般的に、機構はKDC_ERR_PREAUTH_REQUIREDエラーメッセージのエラーデータまたは認証セットで送信できるメッセージを有しています。クライアントは、信頼できる認証局として、情報を必要とする場合、それはメカニズムを使用できるかどうかを判断するために、この情報はそのメッセージにする必要があります。加えて、そのようなメカニズムは、認証セットに含まれるPA-ヒントを定義しなければなりません。しばしば、PADATA値に含まれる同じ情報（セクション5.3で定義されるように）、PA-ヒントに含めることが適切です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In order to ease security analysis, the mechanism specification should describe what facilities from this document are offered by the mechanism. For each facility, the security considerations section of the mechanism specification should show that the security requirements of that facility are met. This requirement is applicable to any FAST factor that provides authentication information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
セキュリティ分析を容易にするために、メカニズムの仕様はメカニズムによって提供されるこのドキュメントからどのような施設を説明すべきです。各施設について、機構仕様のセキュリティに関する考慮事項のセクションには、その施設のセキュリティ要件が満たされていることを示すべきです。この要件は、認証情報を提供する任意のFAST要因にも適用可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Significant problems have resulted in the specification of Kerberos protocols because much of the KDC exchange is not protected against alteration. The security considerations section should discuss unauthenticated plaintext attacks. It should either show that plaintext is protected or discuss what harm an attacker could do by modifying the plaintext. It is generally acceptable for an attacker to be able to cause the protocol negotiation to fail by modifying plaintext. More significant attacks should be evaluated carefully.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC交換の多くが改変から保護されていないため、重大な問題は、Kerberosプロトコルの仕様をもたらしています。セキュリティの考慮事項のセクションでは、認証されていない平文攻撃を議論する必要があります。これは、どちらかの平文が保護されていることを示しているか、攻撃者が平文を変更することによって行うことができ害するものを議論する必要があります。攻撃者は、プロトコルネゴシエーションが平文を変更することによって失敗させることができるようにするためには、一般的に許容可能です。もっと重要な攻撃は慎重に評価する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
As discussed in Section 5.2, there is no guarantee that a client will use the same KDCs for all messages in a conversation. The mechanism specification needs to show why the mechanism is secure in this situation. The hardest problem to deal with, especially for challenge/response mechanisms is to make sure that the same response cannot be replayed against two KDCs while allowing the client to talk to any KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
5.2節で説明したように、クライアントは、会話内のすべてのメッセージに同じのKDCを使用する保証はありません。メカニズム仕様はメカニズムがこのような状況では安全である理由を示すことが必要です。特にチャレンジ/レスポンスメカニズムのために、に対処するための最も困難な問題は、クライアントが任意のKDCに話をさせながら、同じ応答を2つのKDCに対して再生することができないことを確認することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1. Protecting Requests/Responses
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.1。リクエスト/レスポンスを保護
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanism designers SHOULD protect cleartext portions of pre-authentication data. Various denial-of-service attacks and downgrade attacks against Kerberos are possible unless plaintexts are somehow protected against modification. An early design goal of Kerberos Version 5 [RFC4120] was to avoid encrypting more of the authentication exchange than was required. (Version 4 doubly-encrypted the encrypted part of a ticket in a KDC reply, for example). This minimization of encryption reduces the load on the KDC and busy servers. Also, during the initial design of Version 5, the existence of legal restrictions on the export of cryptography made it desirable to minimize of the number of uses of encryption in the protocol. Unfortunately, performing this minimization created numerous instances of unauthenticated security-relevant plaintext fields.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
機構設計者は、事前認証データのクリアテキスト部分を保護する必要があります。平文を何とか修正から保護されていない限り、様々なサービス拒否攻撃とKerberosに対するダウングレード攻撃が可能です。 Kerberosバージョン5 [RFC4120]の初期の設計目標は、必要とされたよりも認証交換のより多くの暗号化を避けるためでした。 （バージョン4は、例えば、KDC応答でチケットの暗号化部分を二重に暗号化されました）。暗号化のこの最小化は、KDCと忙しいサーバーの負荷を軽減します。また、バージョン5の初期設計時に、暗号技術の輸出に関する法的規制の存在は、それが望ましいプロトコルにおける暗号の使用回数を最小限に抑えるために作られました。残念ながら、この最小化を行うことが認証されていないセキュリティ関連の平文分野の多数のインスタンスを作成しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanisms MUST guarantee that by the end of a successful authentication exchange, both the client and the KDC have verified all the plaintext sent by the other party. If there is more than one round trip in the exchange, mechanisms MUST additionally guarantee that no individual messages were reordered or replayed from a previous exchange. Strategies for accomplishing this include using message authentication codes (MACs) to protect the plaintext as it is sent including some form of nonce or cookie to allow for the chaining of state from one message to the next or exchanging a MAC of the entire conversation after a key is established.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メカニズムは、成功した認証交換の終了により、クライアントとKDCの両方が、相手から送信されたすべての平文を検証していることを保証しなければなりません。引き換えに、複数のラウンドトリップがある場合、メカニズムは、さらに何も個々のメッセージを並べ替えていないか、前回の交換から再生されたことを保証しなければなりません。それは後に全体の会話の次または交換MAC 1つのメッセージから状態の連鎖を可能にするノンス又はクッキーの何らかの形態を含む送信されるようにこれを達成するための戦略は、平文を保護するために、メッセージ認証コード（MAC）を用いることを含みますキーが確立されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanism designers need to provide a strategy for updating cryptographic algorithms, such as defining a new pre-authentication type for each algorithm or taking advantage of the client&#39;s list of supported RFC 3961 encryption types to indicate the client&#39;s support for cryptographic algorithms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メカニズムの設計者は、このような各アルゴリズムのための新たな事前認証タイプを定義したり、暗号化アルゴリズムのためのクライアントのサポートを示すために、サポートRFC 3961暗号化タイプのクライアントのリストを利用することなどの暗号化アルゴリズムを更新するための戦略を提供する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Primitives defined in [RFC3961] are RECOMMENDED for integrity protection and confidentiality. Mechanisms based on these primitives are crypto-agile as the result of using [RFC3961] along with [RFC4120]. The advantage afforded by crypto-agility is the ability to incrementally deploy a fix specific to a particular algorithm thus avoid a multi-year standardization and deployment cycle, when real attacks do arise against that algorithm.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3961]で定義されたプリミティブは、完全性保護と機密保持のために推奨されています。これらのプリミティブに基づくメカニズムは[RFC4120]と一緒に[RFC3961]を使用した結果として暗号アジャイルです。暗号敏捷性によってもたらされる利点は、増分実際の攻撃は、そのアルゴリズムに対して発生しないときので、複数年の標準化と展開サイクルを避けるため、特定のアルゴリズムに固有の修正プログラムを展開する機能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Note that data used by FAST factors (defined in Section 5.4) is encrypted in a protected channel; thus, they do not share the un-authenticated-text issues with mechanisms designed as full-blown pre-authentication mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST因子（セクション5.4で定義される）によって使用されるデータを保護チャネルで暗号化されることに注意してください。このように、彼らは本格的な事前認証機構として設計されたメカニズムと認証されていないテキストの問題を共有していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Tools for Use in Pre-Authentication Mechanisms
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
事前認証メカニズムで使用するためのツール5.
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This section describes common tools needed by multiple pre-authentication mechanisms. By using these tools, mechanism designers can use a modular approach to specify mechanism details and ease security analysis.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセクションでは、複数の事前認証機構が必要とする一般的なツールについて説明します。これらのツールを使用することにより、機構設計者は、メカニズムの詳細を指定し、セキュリティ分析を容易にするために、モジュラーアプローチを使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1. Combining Keys
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.1。キーの組み合わせ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Frequently, a weak key needs to be combined with a stronger key before use. For example, passwords are typically limited in size and insufficiently random: therefore, it is desirable to increase the strength of the keys based on passwords by adding additional secrets. An additional source of secrecy may come from hardware tokens.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
しばしば、弱いキーは使用前に強力なキーと組み合わせることが必要です。例えば、パスワードは、典型的には、サイズおよび不十分ランダムに限定されている。従って、追加の秘密を追加することによって、パスワードに基づいてキーの強度を増加させることが望ましいです。秘密の追加のソースは、ハードウェア・トークンから来るかもしれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This section provides standard ways to combine two keys into one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセクションでは、一つに2つのキーを組み合わせるための標準的な方法を提供します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF1() is defined to combine two passphrases.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF1（）2つのパスフレーズを組み合わせて定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       KRB-FX-CF1(UTF-8 string, UTF-8 string) -&gt; (UTF-8 string)
       KRB-FX-CF1(x, y) := x || y
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Where || denotes concatenation. The strength of the final key is roughly the total strength of the individual keys being combined, assuming that the string_to_key() function [RFC3961] uses all its input evenly.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
どこ||連結を示しています。最終鍵の強度がstring_to_key（）関数[RFC3961]を均等にすべての入力を使用すると仮定すると、おおよそ組み合わされる個々のキーの合計強度です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
An example usage of KRB-FX-CF1() is when a device provides random but short passwords, the password is often combined with a personal identification number (PIN). The password and the PIN can be combined using KRB-FX-CF1().
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF1の使用例（）デバイスは、ランダムが、短いパスワードを提供する場合、パスワードはしばしば個人識別番号（PIN）と組み合わされています。パスワードおよびPINはKRB-FX-CF1（）を使用して組み合わせることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF2() combines two protocol keys based on the pseudo-random() function defined in [RFC3961].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF2（）は[RFC3961]で定義された擬似ランダム（）関数に基づいて、2つのプロトコルのキーを組み合わせ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Given two input keys, K1 and K2, where K1 and K2 can be of two different enctypes, the output key of KRB-FX-CF2(), K3, is derived as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
次の2つの入力キー、K1およびK2は、2つの異なるenctypes、KRB-FX-CF2（）、K3の出力鍵とすることができるK1及びK2を与え、誘導されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       KRB-FX-CF2(protocol key, protocol key, octet string,
                 octet string)  -&gt;  (protocol key)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF+(K1, pepper1) -&gt; octet-string-1 PRF+(K2, pepper2) -&gt; octet-string-2 KRB-FX-CF2(K1, K2, pepper1, pepper2) := random-to-key(octet-string-1 ^ octet-string-2)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF +（K1、pepper1） - &gt;オクテット列1 PRF +（K2、pepper2） - &gt;オクテット列2 KRB-FX-CF2（K1、K2、pepper1、pepper2）：=ランダム・ツー・キー（octet-文字列-1 ^オクテット列2）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Where ^ denotes the exclusive-OR operation. PRF+() is defined as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
^は、排他的論理和演算を表します。次のようにPRF +（）が定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF+(protocol key, octet string) -&gt; (octet string)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF +（プロトコルキー、オクテット文字列） - &gt;（オクテット文字列）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF+(key, shared-info) := pseudo-random( key, 1 || shared-info ) || pseudo-random( key, 2 || shared-info ) || pseudo-random( key, 3 || shared-info ) || ...
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PRF +（キー、共有情報）：=擬似乱数（鍵、1 ||共有情報）||擬似ランダム（キー、2 ||共有情報）||擬似ランダム（キー、3 ||共有情報）|| ...
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Here the counter value 1, 2, 3, and so on are encoded as a one-octet integer. The pseudo-random() operation is specified by the enctype of the protocol key. PRF+() uses the counter to generate enough bits as needed by the random-to-key() [RFC3961] function for the encryption type specified for the resulting key; unneeded bits are removed from the tail. Unless otherwise specified, the resulting enctype of KRB-FX-CF2 is the enctype of k1. The pseudo-random() operation is the RFC 3961 pseudo-random() operation for the corresponding input key; the random-to-key() operation is the RFC 3961 random-to-key operation for the resulting key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ここで、カウンタ値1、2、3、というように1オクテットの整数として符号化されます。擬似ランダム（）操作は、プロトコルキーのENCTYPEによって指定されます。 PRF +（）は、得られたキーに指定された暗号化タイプのランダム・ツー・キー（）[RFC3961]関数が必要とする十分なビットを生成するためにカウンタを使用します。不要なビットは、尾から削除されます。特に断りのない限り、KRB-FX-CF2の得ENCTYPEはK1のENCTYPEあります。擬似ランダム（）操作は、対応する入力キーのRFC 3961の擬似ランダム（）操作です。ランダム・ツー・キー（）操作は、結果として得られるキーのRFC 3961ランダムにキー操作です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Mechanism designers MUST specify the values for the input parameter pepper1 and pepper2 when combining two keys using KRB-FX-CF2(). The pepper1 and pepper2 MUST be distinct so that if the two keys being combined are the same, the resulting key is not a trivial key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF2（）を使用して2つのキーを組み合わせたときに機構設計者は、入力パラメータpepper1とpepper2の値を指定しなければなりません。組み合わされる2つのキーが同じである場合、結果として得られるキーは些細なキーでないようpepper1とpepper2は別個でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2. Managing States for the KDC
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.2。 KDCのための状態を管理
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Kerberos KDCs are stateless in that there is no requirement that clients will choose the same KDC for the second request in a conversation. Proxies or other intermediate nodes may also influence KDC selection. So, each request from a client to a KDC must include sufficient information that the KDC can regenerate any needed state. This is accomplished by giving the client a potentially long opaque cookie in responses to include in future requests in the same conversation. The KDC MAY respond that a conversation is too old and needs to restart by responding with a KDC_ERR_PREAUTH_EXPIRED error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、会話の中で2番目の要求に対して同じKDCを選択する要件がないという点でのKerberosのKDCはステートレスです。プロキシまたは他の中間ノードはまた、KDCの選択に影響を及ぼし得ます。だから、KDCへのクライアントからの各要求は、KDCは、必要な状態に再生することができるという十分な情報を含まなければなりません。これは、同じ会話の中で今後の要求に含める応答でクライアントに潜在的に長い不透明なクッキーを与えることによって達成されます。 KDCは、会話が古すぎるとKDC_ERR_PREAUTH_EXPIREDエラーで応答することによって、再起動する必要があることを応答することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_PREAUTH_EXPIRED 90
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_PREAUTH_EXPIRED 90
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When a client receives this error, the client SHOULD abort the existing conversation, and restart a new one.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントがこのエラーを受信した場合、クライアントは既存の会話を中止し、新しいものを再起動する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
An example, where more than one message from the client is needed, is when the client is authenticated based on a challenge/response scheme. In that case, the KDC needs to keep track of the challenge issued for a client authentication request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントはチャレンジ/レスポンス方式に基づいて認証されたときに、クライアントから複数のメッセージが必要とされている例は、あります。その場合には、KDCは、クライアント認証要求のために発行した課題を追跡する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The PA-FX-COOKIE padata type is defined in this section to facilitate state management in the AS exchange. These padata are sent by the KDC when the KDC requires state for a future transaction. The client includes this opaque token in the next message in the conversation. The token may be relatively large; clients MUST be prepared for tokens somewhat larger than the size of all messages in a conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-COOKIEのPADATAタイプはAS交換で状態管理を容易にするために、このセクションで定義されています。 KDCは、将来のトランザクションの状態を必要とする場合、これらPADATAはKDCによって送信されます。クライアントは、会話中に次のメッセージで、この不透明なトークンが含まれています。トークンは、比較的大きくてもよいです。クライアントは、会話内のすべてのメッセージのサイズよりも若干大きく、トークンのために準備しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       PA-FX-COOKIE                       133
           -- Stateless cookie that is not tied to a specific KDC.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The corresponding padata-value field [RFC4120] contains an opaque token that will be echoed by the client in its response to an error from the KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
対応PADATA値フィールド[RFC4120]はKDCからのエラーに対する応答クライアントによってエコーされる不透明なトークンを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The cookie token is generated by the KDC and transmitted in a PA-FX-COOKIE pre-authentication data item of a KRB-ERROR message. The client MUST copy the exact cookie encapsulated in a PA-FX-COOKIE data element into the next message of the same conversation. The content of the cookie field is a local matter of the KDC. As a result, it is not generally possible to mix KDC implementations from different vendors in the same realm. However, the KDC MUST construct the cookie token in such a manner that a malicious client cannot subvert the authentication process by manipulating the token. The KDC implementation needs to consider expiration of tokens, key rollover, and other security issues in token design. The content of the cookie field is likely specific to the pre-authentication mechanisms used to authenticate the client. If a client authentication response can be replayed to multiple KDCs via the PA-FX-COOKIE mechanism, an expiration in the cookie is RECOMMENDED to prevent the response being presented indefinitely. Implementations need to consider replay both of an entire conversation and of messages within a conversation when designing what information is stored in a cookie and how pre-authentication mechanisms are implemented.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クッキートークンはKDCによって生成され、KRB-ERRORメッセージのPA-FX-COOKIE事前認証データ項目で送信されます。クライアントは、同じ会話の次のメッセージにPA-FX-COOKIEデータ要素にカプセル化された正確なクッキーをコピーする必要があります。クッキーフィールドの内容は、KDCのローカルの問題です。その結果、同じ領域で異なるベンダーからのKDC実装を混合することは一般に不可能です。しかし、KDCは、悪意のあるクライアントがトークンを操作することによって、認証プロセスを覆すことができないようにしてクッキーのトークンを構築しなければなりません。 KDCの実装では、トークンのデザインにトークンの有効期限、キーロールオーバー、および他のセキュリティ問題を考慮する必要があります。クッキーフィールドの内容は、クライアントを認証するために使用される事前認証機構にそう固有のものです。クライアント認証応答がPA-FX-COOKIE機構を介して複数のKDCに再生することができた場合は、クッキー内の有効期限は無期限に提示されている応答を阻止することをお勧めします。実装はクッキーに保存され、どのように事前認証機構が実装されているものの情報設計する際の会話の中に全体の会話のとメッセージの両方を再生検討する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If at least one more message for a mechanism or a mechanism set is expected by the KDC, the KDC returns a KDC_ERR_MORE_PREAUTH_DATA_REQUIRED error with a PA-FX-COOKIE to identify the conversation with the client, according to Section 2.2. The cookie is not expected to stay constant for a conversation: the KDC is expected to generate a new cookie for each message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
機構又は機構のセットのための少なくとも一つ以上のメッセージがKDCによって予想される場合、KDCは、セクション2.2によると、クライアントとの会話を識別するために、PA-FX-COOKIEとKDC_ERR_MORE_PREAUTH_DATA_REQUIREDエラーを返します。クッキーは、会話のために一定のままと予想されていません：KDCは、各メッセージの新しいクッキーを生成することが期待されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_MORE_PREAUTH_DATA_REQUIRED 91
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_MORE_PREAUTH_DATA_REQUIRED 91
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A client MAY throw away the state associated with a conversation and begin a new conversation by discarding its state and not including a cookie in the first message of a conversation. KDCs that comply with this specification MUST include a cookie in a response when the client can continue the conversation. In particular, a KDC MUST include a cookie in a KDC_ERR_PREAUTH_REQUIRED or KDC_ERR_MORE_PREAUTH_DATA_REQUIRED. KDCs SHOULD include a cookie in errors containing additional information allowing a client to retry. One reasonable strategy for meeting these requirements is to always include a cookie in KDC errors.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、会話に関連付けられている状態を捨てて、その状態を破棄し、会話の最初のメッセージでクッキーを含まないことにより、新しい会話を始めることができます。クライアントは会話を続けることができたときに、この仕様に準拠のKDCは応答でクッキーを含まなければなりません。特に、KDCはKDC_ERR_PREAUTH_REQUIREDまたはKDC_ERR_MORE_PREAUTH_DATA_REQUIREDでクッキーを含まなければなりません。 KDCは、クライアントが再試行できるようにする追加情報を含むエラーでクッキーを含むべきです。これらの要件を満たすための一つの合理的な戦略は、常にKDCエラーでクッキーを含めることです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A KDC MAY indicate that it is terminating a conversation by not including a cookie in a response. When FAST is used, clients can assume that the absence of a cookie means that the KDC is ending the conversation. Similarly, if a cookie is seen at all during a conversation, clients MAY assume that the absence of a cookie in a future message means that the KDC is ending the conversation. Clients also need to deal with KDCs, prior to this specification, that do not include cookies; if neither cookies nor FAST are used in a conversation, the absence of a cookie is not a strong indication that the KDC is terminating the conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCはそれが応答でクッキーを含めないで会話を終了していることを示すことができます。 FASTを使用する場合、クライアントがクッキーの不在は、KDCが会話を終了することを意味していることを前提とすることができます。クッキーは、会話中に全く見られている場合も同様に、クライアントは将来のメッセージでクッキーの不在は、KDCが会話を終了することを意味していることを前提とするかもしれません。また、クライアントはクッキーが含まれていないのKDC、以前この仕様に、対処する必要があります。どちらもクッキーもFASTは、会話の中で使用されている場合は、クッキーの不在は、KDCが会話を終了していることを強く示すものではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3. Pre-Authentication Set
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.3。事前認証の設定
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If all mechanisms in a group need to successfully complete in order to authenticate a client, the client and the KDC SHOULD use the PA-AUTHENTICATION-SET padata element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
グループ内のすべてのメカニズムがクライアントを認証するためにには、正常に完了が必要な場合は、クライアントとKDCは、PA-AUTHENTICATION-SETのPADATA要素を使用すべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-AUTHENTICATION-SET 134
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-AUTHENTICATION-SET 134
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A PA-AUTHENTICATION-SET padata element contains the ASN.1 DER encoding of the PA-AUTHENTICATION-SET structure:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-認証SET PADATA要素は、PA-AUTHENTICATION-SET構造のASN.1 DERエンコーディングが含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        PA-AUTHENTICATION-SET ::= SEQUENCE OF PA-AUTHENTICATION-SET-ELEM
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        PA-AUTHENTICATION-SET-ELEM ::= SEQUENCE {
            pa-type      [0] Int32,
                -- same as padata-type.
            pa-hint      [1] OCTET STRING OPTIONAL,
            pa-value     [2] OCTET STRING OPTIONAL,
            ...
        }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The pa-type field of the PA-AUTHENTICATION-SET-ELEM structure contains the corresponding value of padata-type in PA-DATA [RFC4120]. Associated with the pa-type is a pa-hint, which is an octet string specified by the pre-authentication mechanism. This hint may provide information for the client that helps it determine whether the mechanism can be used. For example, a public-key mechanism might include the certificate authorities it trusts in the hint info. Most mechanisms today do not specify hint info; if a mechanism does not specify hint info, the KDC MUST NOT send a hint for that mechanism. To allow future revisions of mechanism specifications to add hint info, clients MUST ignore hint info received for mechanisms that the client believes do not support hint info. The pa-value element of the PA-AUTHENTICATION-SET-ELEM sequence is included to carry the first padata-value from the KDC to the client. If the client chooses this authentication set, then the client MUST process this pa-value. The pa-value element MUST be absent for all but the first entry in the authentication set. Clients MUST ignore the pa-value for the second and following entries in the authentication set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-AUTHENTICATION-SET-ELEM構造のPA-typeフィールドは、PA-DATA [RFC4120]でPADATA型の対応する値を含みます。 PA-タイプに関連付けられているが、事前認証メカニズムによって指定されたオクテット列であるPA-ヒントです。このヒントは、それはメカニズムが使用できるかどうかを判断するのに役立ちますクライアントの情報を提供することができます。例えば、公開鍵メカニズムは、それがヒント情報に信頼証明機関が含まれる場合があります。ほとんどのメカニズム今日は、ヒント情報を指定しないでください。メカニズムがヒント情報を指定しない場合、KDCは、そのメカニズムのためのヒントを送ってはいけません。機構仕様の将来の改訂は、ヒント情報を追加できるようにするには、クライアントは、クライアントがヒント情報をサポートしていないと考えているメカニズムのために受け取った情報をヒント無視しなければなりません。 PA-AUTHENTICATION-SET-ELEMシーケンスのPA-value要素は、クライアントにKDCから最初PADATA値を運ぶために含まれています。クライアントはこの認証セットを選択した場合、クライアントはこのPA-値を処理しなければなりません。 PA-value要素は、すべてが、認証セット内の最初のエントリのために存在してはなりません。クライアントは、認証セットにおける第二および次のエントリのためのPA-値を無視しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the client chooses an authentication set, then its first AS-REQ message MUST contain a PA-AUTH-SET-SELECTED padata element. This element contains the encoding of the PA-AUTHENTICATION-SET sequence received from the KDC corresponding to the authentication set that is chosen. The client MUST use the same octet values received from the KDC; it cannot re-encode the sequence. This allows KDCs to use bit-wise comparison to identify the selected authentication set. Permitting bit-wise comparison may limit the ability to use certain pre-authentication mechanisms that generate a dynamic challenge in an authentication set with optimistic selection of an authentication set. As with other optimistic pre-authentication failures, the KDC MAY return KDC_ERR_PREAUTH_FAILED with a new list of pre-authentication mechanisms (including authentication sets) if optimistic pre-authentication fails. The PA-AUTH-SET-SELECTED padata element MUST come before any padata elements from the authentication set in the padata sequence in the AS-REQ message. The client MAY cache authentication sets from prior messages and use them to construct an optimistic initial AS-REQ. If the KDC receives a PA-AUTH-SET-SELECTED padata element that does not correspond to an authentication set that it would offer, then the KDC returns the KDC_ERR_PREAUTH_BAD_AUTHENTICATION_SET error. The e-data in this error contains a sequence of padata just as for the KDC_ERR_PREAUTH_REQUIRED error.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントが認証セットを選択した場合、その最初のAS-REQメッセージには、PA-AUTH-SET-SELECTED PADATAの要素を含まなければなりません。この要素は、選択された認証セットに対応するKDCから受信したPA-AUTHENTICATION-SETシーケンスの符号化を含んでいます。クライアントは、KDCから受け取った同じオクテット値を使用する必要があります。それはシーケンスを再エンコードすることができません。これは、のKDCは、選択された認証セットを識別するために、ビット単位の比較を使用することができます。ビット単位の比較を可能にする認証セットの楽観的な選択と設定された認証の動的チャレンジを生成する特定の事前認証機構を使用する能力を制限することができます。他の楽観的な事前認証の失敗と同様に、KDCは楽観事前認証が失敗した場合（認証セットを含む）事前認証機構の新しいリストをKDC_ERR_PREAUTH_FAILEDを返すことができます。 PA-AUTH-SET-SELECTED PADATA要素は、AS-REQメッセージにPADATAシーケンスに設定された認証から任意のPADATA要素の前に来なければなりません。クライアントは、前のメッセージから認証セットをキャッシュし、楽観初期AS-REQを構築するためにそれらを使用するかもしれません。 KDCはそれが提供することを設定した認証に対応していないPA-AUTH-SET-SELECTED PADATA要素を受信すると、KDCはKDC_ERR_PREAUTH_BAD_AUTHENTICATION_SETエラーを返します。このエラーでの電子データは、ちょうどKDC_ERR_PREAUTH_REQUIREDエラーのようPADATAの配列を含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
         PA-AUTH-SET-SELECTED                   135
         KDC_ERR_PREAUTH_BAD_AUTHENTICATION_SET 92
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The PA-AUTHENTICATION-SET appears only in the first message from the KDC to the client. In particular, the client MAY fail if the authentication mechanism sets change as the conversation progresses. Clients MAY assume that the hints provided in the authentication set contain enough information that the client knows what user interface elements need to be displayed during the entire authentication conversation. Exceptional circumstances, such as expired passwords or expired accounts, may require that additional user interface be displayed. Mechanism designers need to carefully consider the design of their hints so that the client has this information. This way, clients can construct necessary dialogue boxes or wizards based on the authentication set and can present a coherent user interface. Current standards for user interfaces do not provide an acceptable experience when the client has to ask additional questions later in the conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-AUTHENTICATION-SETは、クライアントへのKDCからの最初のメッセージに表示されます。会話が進むにつれて認証機構が変更を設定した場合、特に、クライアントが失敗することがあります。クライアントは、認証セットで提供のヒントは、クライアントがユーザーインターフェイス要素は、全体認証会話中に表示されるために必要なものを知っているという十分な情報が含まれていることを仮定してもよいです。そのような期限切れパスワードや期限切れのアカウントのような例外的な状況では、追加のユーザインタフェースを表示するよう要求することができます。メカニズムの設計者は、クライアントがこの情報を持っているように、慎重にヒントの設計を検討する必要があります。このように、クライアントは、認証のセットに基づいて必要なダイアログボックスやウィザードを構築することができるコヒーレントユーザインターフェースを提示することができます。ユーザーインタフェースのための現在の標準は、クライアントが後で会話の中で、追加の質問をしなければなら許容できる経験を提供していません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When indicating which sets of pre-authentication mechanisms are supported, the KDC includes a PA-AUTHENTICATION-SET padata element for each pre-authentication mechanism set.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
サポートされている事前認証メカニズムの設定かを示す場合、KDCは、各事前認証メカニズムのセットのためのPA-AUTHENTICATION-SETのPADATA要素を含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The client sends the padata-value for the first mechanism it picks in the pre-authentication set, when the first mechanism completes, the client and the KDC will proceed with the second mechanism, and so on until all mechanisms complete successfully. The PA-FX-COOKIE, as defined in Section 5.2, MUST be sent by the KDC. One reason for this requirement is so that the conversation can continue if the conversation involves multiple KDCs. KDCs MUST support clients that do not include a cookie because they optimistically choose an authentication set, although they MAY always return a KDC_ERR_PREAUTH_BAD_AUTHENTICATION_SET and include a cookie in that message. Clients that support PA-AUTHENTICATION-SET MUST support PA-FX-COOKIE.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
最初のメカニズムが完了したときにクライアントが事前認証セットに選ぶ最初のメカニズムのためのPADATA-値を送信し、クライアントとKDCが正常に完了するすべてのメカニズムまで、その上の第二のメカニズムを進め、及びます。 PA-FX-COOKIEは、5.2節で定義されるように、KDCによって送らなければなりません。会話が複数のKDCを伴う場合、会話を続けることができるように、この要件のための一つの理由です。 KDCは、彼らが常にKDC_ERR_PREAUTH_BAD_AUTHENTICATION_SETを返すと、そのメッセージにクッキーを含めるかもしれないが、彼らは楽観的、認証セットを選択するためにクッキーを含まないクライアントをサポートしなければなりません。 PA-AUTHENTICATION-SETをサポートするクライアントは、PA-FX-COOKIEをサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Before the authentication succeeds and a ticket is returned, the message that the client sends is an AS-REQ and the message that the KDC sends is a KRB-ERROR message. The error code in the KRB-ERROR message from the KDC is KDC_ERR_MORE_PREAUTH_DATA_REQUIRED as defined in Section 5.2 and the accompanying e-data contains the DER encoding of ASN.1 type METHOD-DATA. The KDC includes the padata elements in the METHOD-DATA. If there are no padata, the e-data field is absent in the KRB-ERROR message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
認証が成功し、チケットが返される前に、クライアントが送信するメッセージは、AS-REQとKDCがKRB-ERRORメッセージで送信したメッセージです。セクション5.2で定義され、付随する電子データは、ASN.1型METHOD-DATAのDER符号化を含んでいるようにKDCからKRB-ERRORメッセージにエラーコードがKDC_ERR_MORE_PREAUTH_DATA_REQUIREDれます。 KDCは、METHOD-DATAでPADATA要素を含んでいます。何PADATAがない場合、電子データフィールドは、KRB-ERRORメッセージには存在しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the client sends the last message for a given mechanism, then the KDC sends the first message for the next mechanism. If the next mechanism does not start with a KDC-side challenge, then the KDC includes a padata item with the appropriate pa-type and an empty pa-data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントが指定したメカニズムのための最後のメッセージを送信した場合、KDCは次のメカニズムのための最初のメッセージを送信します。次機構はKDC側課題に起動しない場合、KDCは適切なPA型及び空PADATAとPADATA項目を含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the KDC sends the last message for a particular mechanism, the KDC also includes the first padata for the next mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCは、特定の機構のために最後のメッセージを送信する場合、KDCはまた、次のメカニズムの最初PADATAを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4. Definition of Kerberos FAST Padata
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4。ケルベロスFAST PADATAの定義
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
As described in [RFC4120], Kerberos is vulnerable to offline dictionary attacks. An attacker can request an AS-REP and try various passwords to see if they can decrypt the resulting ticket. RFC 4120 provides the encrypted timestamp pre-authentication method that ameliorates the situation somewhat by requiring that an attacker observe a successful authentication. However, stronger security is desired in many environments. The Kerberos FAST pre-authentication padata defined in this section provides a tool to significantly reduce vulnerability to offline dictionary attacks. When combined with encrypted challenge, FAST requires an attacker to mount a successful man-in-the-middle attack to observe ciphertext. When combined with host keys, FAST can even protect against active attacks. FAST also provides solutions to common problems for pre-authentication mechanisms such as binding of the request and the reply and freshness guarantee of the authentication. FAST itself, however, does not authenticate the client or the KDC; instead, it provides a typed hole to allow pre-authentication data be tunneled. A pre-authentication data element used within FAST is called a &#34;FAST factor&#34;. A FAST factor captures the minimal work required for extending Kerberos to support a new pre-authentication scheme.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120]で説明したように、Kerberosは、オフライン辞書攻撃に対して脆弱です。攻撃者は、AS-REPを要求し、彼らは結果のチケットを復号化できるかどうかを確認するために、様々なパスワードを試すことができます。 RFC 4120には、攻撃者が認証の成功を観察することを要求することにより、多少の状況を改善する暗号化されたタイムスタンプ事前認証方法を提供します。しかし、強力なセキュリティは、多くの環境で望まれています。このセクションで定義されたケルベロスFAST事前認証PADATAが大幅にオフライン辞書攻撃に対する脆弱性を軽減するためのツールを提供します。暗号化された課題と組み合わせると、FAST暗号文を観察する成功man-in-the-middle攻撃をマウントするために、攻撃者が必要です。ホストキーと組み合わせると、FASTにも積極的な攻撃から守ることができます。 FASTはまた、リクエストおよび認証の応答および鮮度保証の結合として事前認証メカニズムの一般的な問題に対する解決策を提供します。 FAST自体、しかし、クライアントまたはKDCを認証しません。その代わり、それがトンネルする事前認証データを許可するように型指定された穴を提供します。 FAST内で使用される事前認証データ要素は、「FAST因子」と呼ばれます。 FASTの要因は、新しい事前認証方式をサポートするために、Kerberosを拡張するために必要な最低限の仕事をキャプチャします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A FAST factor MUST NOT be used outside of FAST unless its specification explicitly allows so. The typed holes in FAST messages can also be used as generic holes for other padata that are not intended to prove the client&#39;s identity, or establish the reply key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
その仕様は、明示的に許可しない限りFAST因子は、FASTの外で使用してはいけません。 FASTのメッセージに入力された穴は、クライアントの身元を証明する、または応答キーを確立することを意図していない他のPADATAのための一般的な穴として使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
New pre-authentication mechanisms SHOULD be designed as FAST factors, instead of full-blown pre-authentication mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
新しい事前認証機構ではなく、本格的な事前認証メカニズムの、FAST因子として設計されるべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST factors that are pre-authentication mechanisms MUST meet the requirements in Section 4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証機構ですFAST要因は、第4節で要件を満たす必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST employs an armoring scheme. The armor can be a Ticket Granting Ticket (TGT) obtained by the client&#39;s machine using the host keys to pre-authenticate with the KDC, or an anonymous TGT obtained based on anonymous PKINIT [RFC6112] [RFC4556].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FASTは、外装方式を採用しています。装甲はチケット付与チケット（TGT）KDCで事前認証するためにホスト鍵を使用して、クライアントのマシンによって得られた、または匿名TGT匿名PKINIT [RFC6112]、[RFC4556]に基づいて求めることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The rest of this section describes the types of armors and the syntax of the messages used by FAST. Conforming implementations MUST support Kerberos FAST padata.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセクションの残りの部分は、鎧の種類とFASTで使用されるメッセージの構文について説明します。適合実装は、Kerberos FAST PADATAをサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Any FAST armor scheme MUST provide a fresh armor key for each conversation. Clients and KDCs can assume that if a message is encrypted and integrity protected with a given armor key, then it is part of the conversation using that armor key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
どれFAST鎧方式は、各会話のための新鮮な鎧キーを提供しなければなりません。クライアントとのKDCは、メッセージが暗号化と整合性が与えられた鎧キーで保護されている場合、それはその鎧のキーを使用して会話の一部であると仮定することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
All KDCs in a realm MUST support FAST if FAST is offered by any KDC as a pre-authentication mechanism.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FASTは、事前認証メカニズムとして任意のKDCによって提供されている場合レルム内のすべてのKDCは、FASTサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.1. FAST Armors
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.1。 FAST防具
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
An armor key is used to encrypt pre-authentication data in the FAST request and the response. The KrbFastArmor structure is defined to identify the armor key. This structure contains the following two fields: the armor-type identifies the type of armors and the armor-value is an OCTET STRING that contains the description of the armor scheme and the armor key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
装甲キーがFAST要求に応答して事前認証データを暗号化するために使用されます。 KrbFastArmor構造は、鎧のキーを識別するために定義されています。この構造は、次の2つのフィールドが含まれています。装甲型は、装甲の種類を識別し、装甲値は、装甲方式と装甲キーの記述を含むオクテット文字列です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        KrbFastArmor ::= SEQUENCE {
            armor-type   [0] Int32,
                -- Type of the armor.
            armor-value  [1] OCTET STRING,
                -- Value of the armor.
            ...
        }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The value of the armor key is a matter of the armor type specification. Only one armor type is defined in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
鎧キーの値は、装甲タイプ仕様の問題です。唯一の装甲タイプが、この文書で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FX_FAST_ARMOR_AP_REQUEST 1
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FX_FAST_ARMOR_AP_REQUEST 1
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The FX_FAST_ARMOR_AP_REQUEST armor is based on Kerberos tickets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FX_FAST_ARMOR_AP_REQUESTの鎧は、Kerberosチケットに基づいています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Conforming implementations MUST implement the FX_FAST_ARMOR_AP_REQUEST armor type. If a FAST KDC receives an unknown armor type it MUST respond with KDC_ERR_PREAUTH_FAILED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
準拠した実装はFX_FAST_ARMOR_AP_REQUEST装甲タイプを実装しなければなりません。 FAST KDCが不明な装甲タイプを受信した場合には、KDC_ERR_PREAUTH_FAILEDで応じなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
An armor type may be appropriate for use in armoring AS requests, armoring TGS requests, or both. TGS armor types MUST authenticate the client to the KDC, typically by binding the TGT sub-session key to the armor key. As discussed below, it is desirable for AS armor types to authenticate the KDC to the client, but this is not required.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
装甲タイプはリクエスト、外装TGS要求、またはその両方AS外装での使用のために適切かもしれません。 TGSの鎧の種類は、一般的に鎧キーにTGTサブセッションキーを結合することによって、KDCにクライアントを認証しなければなりません。後述するように、それがクライアントにKDCを認証するためのAS防具の種類のが望ましいが、これは必須ではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST implementations MUST maintain state about whether the armor mechanism authenticates the KDC. If it does not, then a FAST factor that authenticates the KDC MUST be used if the reply key is replaced.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST実装は鎧のメカニズムは、KDCを認証するかどうかについての状態を維持しなければなりません。そうでない場合は、返信キーが交換された場合は、KDCを認証FAST要因を使用しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.1.1. Ticket-Based Armors
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.1.1。チケットベース武具
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This is a ticket-based armoring scheme. The armor-type is FX_FAST_ARMOR_AP_REQUEST, the armor-value contains an ASN.1 DER encoded AP-REQ. The ticket in the AP-REQ is called an armor ticket or an armor TGT. The subkey field in the AP-REQ MUST be present. The armor key is defined by the following function:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これは、チケットベースの外装方式です。装甲型FX_FAST_ARMOR_AP_REQUESTは、装甲値はASN.1のDER符号化されたAP-REQを含んでいます。 AP-REQでチケットが鎧チケットや鎧TGTと呼ばれています。 AP-REQにおけるサブキーフィールドが存在しなければなりません。鎧キーは次の関数によって定義されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       armor_key = KRB-FX-CF2( subkey, ticket_session_key,
                   &#34;subkeyarmor&#34;, &#34;ticketarmor&#34; )
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The &#39;ticket_session_key&#39; is the session key from the ticket in the ap-req. The &#39;subkey&#39; is the ap-req subkey. This construction guarantees that both the KDC (through the session key) and the client (through the subkey) contribute to the armor key.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
「ticket_session_keyは、」AP-REQでチケットからのセッション鍵です。 「サブキーは、」AP-REQサブキーです。この構造は、両方（セッション・キーを介して）KDCと（サブキーを介して）クライアントが鎧キーに寄与することを保証します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The server name field of the armor ticket MUST identify the TGS of the target realm. Here are three common ways in the decreasing preference order how an armor TGT SHOULD be obtained:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
鎧チケットのサーバー名フィールドには、ターゲットレルムのTGSを特定しなければなりません。ここで装甲TGTを取得する方法を減少優先順に3つの一般的な方法は次のとおりです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
1. If the client is authenticating from a host machine whose Kerberos realm has an authentication path to the client&#39;s realm, the host machine obtains a TGT by using the host keys. If the client&#39;s realm is different than the realm of the local host, the machine then obtains a cross-realm TGT to the client&#39;s realm as the armor ticket. Otherwise, the host&#39;s primary TGT is the armor ticket.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
1.クライアントはそのKerberosの領域クライアントのレルムに認証パスを持っているホストマシンから認証している場合は、ホストマシンは、ホストキーを使用してTGTを取得します。クライアントのレルムがローカルホストの領域と異なる場合は、マシンは鎧チケットなど、クライアントのレルムにクロスレルムTGTを取得します。それ以外の場合は、ホストの主なTGTは鎧のチケットです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
2. If the client&#39;s host machine cannot obtain a host ticket strictly based on RFC 4120, but the KDC has an asymmetric signing key whose binding with the expected KDC can be verified by the client, the client can use anonymous PKINIT [RFC6112] [RFC4556] to authenticate the KDC and obtain an anonymous TGT as the armor ticket. The armor ticket can also be a cross-realm TGT obtained based on the initial primary TGT obtained using anonymous PKINIT with KDC authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
2.クライアントのホスト・マシンが厳密にRFC 4120に基づいて、ホストのチケットを取得できない場合は、しかし、KDCがその期待されるKDCとの結合クライアントによって検証することができ、非対称署名鍵を持って、クライアントは、匿名PKINIT [RFC6112]を使用することができます[RFC4556 ] KDCを認証し、装甲チケットとして匿名TGTを取得します。また、クロスレルムTGTは最初の一次TGTに基づいて求めることができる鎧チケットは、KDCの認証で匿名PKINITを使用して得られました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
3. Otherwise, the client uses anonymous PKINIT to get an anonymous TGT without KDC authentication and that TGT is the armor ticket. Note that this mode of operation is vulnerable to man-in-the- middle attacks at the time of obtaining the initial anonymous armor TGT.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
3.それ以外の場合、クライアントはKDC認証なしとTGTは鎧チケットであることを匿名のTGTを取得するには、匿名PKINITを使用しています。この動作モードは、初期匿名の鎧TGTの取得時のman-in-ザ・ミドル攻撃に対して脆弱であることに注意してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If anonymous PKINIT is used to obtain the armor ticket, the KDC cannot know whether its signing key can be verified by the client; hence, the KDC MUST be marked as unverified from the KDC&#39;s point of view while the client could be able to authenticate the KDC by verifying the KDC&#39;s signing key is bound with the expected KDC. The client needs to carefully consider the risk and benefit tradeoffs associated with active attacks before exposing cipher text encrypted using the user&#39;s long-term secrets when the armor does not authenticate the KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
匿名PKINITは鎧チケットを取得するために使用されている場合は、KDCは、その署名鍵がクライアントによって検証することができるかどうかを知ることはできません。クライアントが期待されるKDCにバインドされているKDCの署名鍵を検証することにより、KDCを認証することができる可能性がありながら、ビューのKDCの視点から未検証として、したがって、KDCをマークする必要があります。クライアントは慎重に鎧がKDCを認証していない場合、ユーザーの長期的な秘密を使用して暗号化された暗号文を暴露する前に、能動的な攻撃に関連するリスクとベネフィットのトレードオフを考慮する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The TGS MUST reject a request if there is an AD-fx-fast-armor (71) element in the authenticator of the pa-tgs-req padata or if the ticket in the authenticator of a pa-tgs-req contains the AD-fx-fast-armor authorization data element. These tickets and authenticators MAY be used as FAST armor tickets but not to obtain a ticket via the TGS. This authorization data is used in a system where the encryption of the user&#39;s pre-authentication data is performed in an unprivileged user process. A privileged process can provide to the user process a host ticket, an authenticator for use with that ticket, and the sub-session key contained in the authenticator. In order for the host process to ensure that the host ticket is not accidentally or intentionally misused, (i.e., the user process might use the host ticket to authenticate as the host), it MUST include a critical authorization data element of the type AD-fx-fast-armor when providing the authenticator or in the enc-authorization-data field of the TGS request used to obtain the TGT. The corresponding ad-data field of the AD-fx-fast-armor element is empty.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-TGS-REQのPADATAのオーセンティケータまたはPA-TGS-REQのオーセンティケータにチケットがAD-を含む場合AD-FX-高速装甲（71）要素が存在する場合TGSは要求を拒絶しなければなりませんFX-高速鎧承認データ要素。これらのチケットとオーセンティケータは、FAST鎧券として使用できるが、TGS経由でチケットを取得していません。この権限データは、ユーザーの事前認証データの暗号化は、非特権ユーザプロセスで実行されているシステムで使用されています。特権プロセスは、ユーザプロセスにホストチケットは、そのチケットで使用するためのオーセンティケータ、およびオーセンティケータに含まれるサブセッションキーを提供することができます。ホストチケットが偶然または故意に（すなわち、ユーザプロセスがホストとして認証するために、ホストのチケットを使用する場合があります）、誤用されていないことを確認するためのホストプロセスのためには、型AD-の重要な承認データ要素を含まなければなりませんFX-高速鎧オーセンティケータまたはTGTを取得するために使用されるTGS要求のENC-認証データフィールド内を提供します。 AD-FX-高速鎧要素の対応する広告データフィールドは空です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This armor type is only valid for AS requests; implicit armor, described below in TGS processing, is the only supported way to establish an armor key for the TGS at this time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この装甲タイプはAS要求に対してのみ有効です。処理に説明暗黙の装甲は、この時点でタグの装甲キーを確立するための唯一の方法です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.2. FAST Request
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.2。 FASTリクエスト
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A padata type PA-FX-FAST is defined for the Kerberos FAST pre-authentication padata. The corresponding padata-value field [RFC4120] contains the DER encoding of the ASN.1 type PA-FX-FAST-REQUEST. As with all pre-authentication types, the KDC SHOULD advertise PA-FX-FAST in a PREAUTH_REQUIRED error. KDCs MUST send the advertisement of PA-FX-FAST with an empty pa-value. Clients MUST ignore the pa-value of PA-FX-FAST in an initial PREAUTH_REQUIRED error. FAST is not expected to be used in an authentication set: clients will typically use FAST padata if available and this decision should not depend on what other pre-authentication methods are available. As such, no pa-hint is defined for FAST at this time.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PADATAタイプPA-FX-FASTは、KerberosのFAST事前認証PADATAのために定義されています。対応PADATA値フィールド[RFC4120]はASN.1型PA-FX-FAST-REQUESTのDER符号化を含んでいます。すべての事前認証タイプと同様、KDCは、PA-FX-FAST PREAUTH_REQUIREDエラーで宣伝すべきです。 KDCは、空のPA-値とPA-FX-FASTの広告を送らなければなりません。クライアントが初期PREAUTH_REQUIREDエラーでPA-FX-FASTのPA-値を無視しなければなりません。 FASTは、認証セットで使用されることが予想されていません。利用可能な場合、クライアントは通常、FAST PADATAを使用し、この決定は、他のどのような事前の認証方法に依存してはならない可能です。そのように、何のPA-ヒントは、この時点でFAST用に定義されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       PA-FX-FAST                         136
           -- Padata type for Kerberos FAST
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       PA-FX-FAST-REQUEST ::= CHOICE {
           armored-data [0] KrbFastArmoredReq,
           ...
       }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       KrbFastArmoredReq ::= SEQUENCE {
           armor        [0] KrbFastArmor OPTIONAL,
               -- Contains the armor that identifies the armor key.
               -- MUST be present in AS-REQ.
           req-checksum [1] Checksum,
               -- For AS, contains the checksum performed over the type
               -- KDC-REQ-BODY for the req-body field of the KDC-REQ
               -- structure;
               -- For TGS, contains the checksum performed over the type
               -- AP-REQ in the PA-TGS-REQ padata.
               -- The checksum key is the armor key, the checksum
               -- type is the required checksum type for the enctype of
               -- the armor key, and the key usage number is
               -- KEY_USAGE_FAST_REQ_CHKSUM.
           enc-fast-req [2] EncryptedData, -- KrbFastReq --
               -- The encryption key is the armor key, and the key usage
               -- number is KEY_USAGE_FAST_ENC.
           ...
       }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KEY_USAGE_FAST_REQ_CHKSUM 50 KEY_USAGE_FAST_ENC 51
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KEY_USAGE_FAST_REQ_CHKSUM 50 KEY_USAGE_FAST_ENC 51
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The PA-FX-FAST-REQUEST structure contains a KrbFastArmoredReq type. The KrbFastArmoredReq encapsulates the encrypted padata.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-FAST-REQUEST構造はKrbFastArmoredReqタイプが含まれています。 KrbFastArmoredReqは暗号化されたPADATAをカプセル化します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The enc-fast-req field contains an encrypted KrbFastReq structure. The armor key is used to encrypt the KrbFastReq structure, and the key usage number for that encryption is KEY_USAGE_FAST_ENC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ENC-FAST-REQフィールドは暗号化されたKrbFastReq構造が含まれています。鎧キーはKrbFastReq構造を暗号化するために使用され、その暗号化のための鍵の使用回数はKEY_USAGE_FAST_ENCです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The armor key is selected as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
次のように鎧のキーが選択されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o In an AS request, the armor field in the KrbFastArmoredReq structure MUST be present and the armor key is identified according to the specification of the armor type.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Oなどの要求で、KrbFastArmoredReq構造における装甲フィールドが存在しなければならないと装甲キーが装甲タイプの仕様に従って同定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
o There are two possibilities for armor for a TGS request. If the ticket presented in the PA-TGS-REQ authenticator is a TGT, then the client SHOULD NOT include the armor field in the Krbfastreq and a subkey MUST be included in the PA-TGS-REQ authenticator. In this case, the armor key is the same armor key that would be computed if the TGS-REQ authenticator was used in an FX_FAST_ARMOR_AP_REQUEST armor. Clients MAY present a non-TGT in the PA-TGS-REQ authenticator and omit the armor field, in which case the armor key is the same that would be computed if the authenticator were used in an FX_FAST_ARMOR_AP_REQUEST armor. This is the only case where a ticket other than a TGT can be used to establish an armor key; even though the armor key is computed the same as an FX_FAST_ARMOR_AP_REQUEST, a non-TGT cannot be used as an armor ticket in FX_FAST_ARMOR_AP_REQUEST. Alternatively, a client MAY use an armor type defined in the future for use with the TGS request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
O TGS要求の鎧のための2つの可能性があります。 PA-TGS-REQ認証で提示チケットがTGTの場合、クライアントはKrbfastreqに鎧のフィールドを含めてはならないとサブキーはPA-TGS-REQ認証に含まれなければなりません。この場合には、装甲キーは、TGS-REQ認証をFX_FAST_ARMOR_AP_REQUEST鎧に使用された場合に計算されるのと同じ装甲キーです。クライアントは、鎧の鍵がオーセンティケータがFX_FAST_ARMOR_AP_REQUESTの鎧に使用された場合に計算されるものと同じである場合には、PA-TGS-REQ認証に非TGTを提示し、鎧のフィールドを省略することができます。これは、TGT以外のチケットは鎧キーを確立するために使用することができる唯一のケースです。鎧キーはFX_FAST_ARMOR_AP_REQUESTと同じように計算されていても、非TGTはFX_FAST_ARMOR_AP_REQUESTで装甲チケットとして使用することはできません。また、クライアントはTGS要求で使用するために、将来的に定義された装甲タイプを使用するかもしれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The req-checksum field contains a checksum computed differently for AS and TGS. For an AS-REQ, it is performed over the type KDC-REQ-BODY for the req-body field of the KDC-REQ structure of the containing message; for a TGS-REQ, it is performed over the type AP-REQ in the PA-TGS-REQ padata of the TGS request. The checksum key is the armor key, and the checksum type is the required checksum type for the enctype of the armor key per [RFC3961]. This checksum MUST be a keyed checksum and it is included in order to bind the FAST padata to the outer request. A KDC that implements FAST will ignore the outer request, but including a checksum is relatively cheap and may prevent confusing behavior.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
REQ-チェックサムフィールドは、ASおよびTGSのために別々に計算されたチェックサムが含まれています。 AS-REQため、それが含むメッセージのKDC-REQ構造のREQボディフィールドのタイプKDC-REQ-BODYにわたって行われます。 TGS-REQためには、TGS要求のPA-TGS-REQのPADATAタイプAP-REQにわたって行われます。チェックサムキーは、装甲キーであり、チェックサムタイプは、[RFC3961]あたりの装甲キーのENCTYPEに必要なチェックサムタイプです。このチェックサムは、キー付きチェックサムでなければならず、外側要求にFAST PADATAを結合させるために含まれます。 FAST実装KDCは、外側の要求を無視しますが、チェックサムを含めて比較的安価であると紛らわしい行動を防ぐことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KrbFastReq structure contains the following information:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KrbFastReq構造は、次の情報が含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        KrbFastReq ::= SEQUENCE {
            fast-options [0] FastOptions,
                -- Additional options.
            padata       [1] SEQUENCE OF PA-DATA,
                -- padata typed holes.
            req-body     [2] KDC-REQ-BODY,
                -- Contains the KDC request body as defined in Section
                -- 5.4.1 of [RFC4120].
                -- This req-body field is preferred over the outer field
                -- in the KDC request.
             ...
        }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The fast-options field indicates various options that are to modify the behavior of the KDC. The following options are defined:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ファスト・オプション・フィールドは、KDCの動作を変更するためにあるさまざまなオプションを示します。以下のオプションが定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        FastOptions ::= KerberosFlags
            -- reserved(0),
            -- hide-client-names(1),
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       Bits    Name                    Description
      -----------------------------------------------------------------
       0     RESERVED              Reserved for future expansion of this
                                   field.
       1     hide-client-names     Requesting the KDC to hide client
                                   names in the KDC response, as
                                   described next in this section.
       16    kdc-follow-referrals  reserved [REFERRALS].
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Bits 1 through 15 inclusive (with bit 1 and bit 15 included) are critical options. If the KDC does not support a critical option, it MUST fail the request with KDC_ERR_UNKNOWN_CRITICAL_FAST_OPTIONS, and there is no accompanying e-data defined in this document for this error code. Bit 16 and onward (with bit 16 included) are non-critical options. KDCs conforming to this specification ignore unknown non-critical options.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ビットが1包括的（ビット1とビット15を含む）15を介して重要なオプションです。 KDCは重要なオプションをサポートしていない場合、それはKDC_ERR_UNKNOWN_CRITICAL_FAST_OPTIONSで要求を失敗しなければなりませんし、このエラーコードについては、この文書で定義された添付の電子データがありません。 （含まれるビット16との）ビット16以降は非クリティカルなオプションです。この仕様に準拠するのKDCは、未知の非クリティカルなオプションを無視します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_UNKNOWN_CRITICAL_FAST_OPTIONS 93
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC_ERR_UNKNOWN_CRITICAL_FAST_OPTIONS 93
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The hide-client-names Option
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
非表示クライアント名オプション
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Kerberos response defined in [RFC4120] contains the client identity in cleartext. This makes traffic analysis straightforward. The hide-client-names option is designed to complicate traffic analysis. If the hide-client-names option is set, the KDC implementing PA-FX-FAST MUST identify the client as the anonymous principal [RFC6112] in the KDC reply and the error response. Hence, this option is set by the client if it wishes to conceal the client identity in the KDC response. A conforming KDC ignores the client principal name in the outer KDC-REQ-BODY field, and identifies the client using the cname and crealm fields in the req-body field of the KrbFastReq structure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120]で定義されたケルベロス応答は平文でクライアントIDが含まれています。これは、トラフィック分析は簡単になります。非表示クライアント名オプションは、トラフィック分析を複雑にするように設計されています。非表示クライアント名オプションが設定されている場合は、KDC実装PA-FX-FASTは、KDCで匿名プリンシパル[RFC6112]返信とエラーレスポンスとしてクライアントを特定する必要があります。それはKDC応答で、クライアントの身元を隠すことを希望する場合したがって、このオプションは、クライアントによって設定されます。適合KDCは、外側KDC-REQ-BODYフィールドにクライアントのプリンシパル名を無視し、KrbFastReq構造のREQ体フィールドにおけるCNAMEとcrealmフィールドを使用してクライアントを識別する。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The kdc-follow-referrals Option
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDC-フォロー照会オプション
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This option is reserved for [REFERRALS].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このオプションは、[REFERRALS]用に予約されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The padata field contains a list of PA-DATA structures as described in Section 5.2.7 of [RFC4120]. These PA-DATA structures can contain FAST factors. They can also be used as generic typed-holes to contain data not intended for proving the client&#39;s identity or establishing a reply key, but for protocol extensibility. If the KDC supports the PA-FX-FAST-REQUEST padata, unless otherwise specified, the client MUST place any padata that is otherwise in the outer KDC request body into this field. In a TGS request, PA-TGS-REQ padata is not included in this field and it is present in the outer KDC request body.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120]のセクション5.2.7で説明したようにPADATAフィールドは、PA-DATA構造体のリストが含まれています。これらのPA-DATA構造は、FASTの要因を含めることができます。彼らはまた、クライアントの身元を証明するか、返信キーを確立するための、しかし、プロトコルの拡張のために意図されていないデータが含まれているために、一般的な型指定されたホールとして使用することができます。 KDCは、PA-FX-FAST-REQUESTのPADATAをサポートしている場合は、特に指定がない限り、クライアントは、このフィールドに外側KDC要求本体にそうである任意のPADATAを置かなければなりません。 TGS要求で、PA-TGS-REQのPADATAは、このフィールドに含まれ、それは外側のKDC要求体で存在しているれていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KDC-REQ-BODY in the FAST structure is used in preference to the KDC-REQ-BODY outside of the FAST pre-authentication. The outer KDC-REQ-BODY structure SHOULD be filled in for backwards compatibility with KDCs that do not support FAST. A conforming KDC ignores the outer KDC-REQ-BODY field in the KDC request. Pre-authentication data methods such as [RFC4556] that include a checksum of the KDC-REQ-BODY should checksum the KDC-REQ-BODY in the FAST structure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST構造でKDC-REQ-BODYは、FAST事前認証の外KDC-REQ-BODYに優先して使用されます。外KDC-REQ-BODY構造は、FASTサポートしていないのKDCとの後方互換性のために記入するべきです。適合KDCはKDC要求外側KDC-REQ-BODYフィールドを無視します。 FAST構造のチェックサムKDC-REQ-BODYをすべきKDC-REQ-BODYのチェックサムを含むような[RFC4556]などの事前認証データ方法。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In a TGS request, a client MAY include the AD-fx-fast-used authdata either in the pa-tgs-req authenticator or in the authorization data in the pa-tgs-req ticket. If the KDC receives this authorization data but does not find a FAST padata, then it MUST return KRB_APP_ERR_MODIFIED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
TGS要求では、クライアントはPA-TGS-REQ認証またはPA-TGS-REQチケットで承認データのいずれかでAD-FX-FAST-使用authdataを含むかもしれません。 KDCは、この認証データを受信するが、FAST PADATAが見つからない場合、それはKRB_APP_ERR_MODIFIEDを返さなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.3. FAST Response
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.3。早い反応
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KDC that supports the PA-FX-FAST padata MUST include a PA-FX-FAST padata element in the KDC reply. In the case of an error, the PA-FX-FAST padata is included in the KDC responses according to Section 5.4.4.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-FAST PADATAをサポートKDCは、KDC応答でPA-FX-FAST PADATA要素を含まなければなりません。エラーの場合には、PA-FX-FAST PADATAはセクション5.4.4に従ってKDCの応答に含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The corresponding padata-value field [RFC4120] for the PA-FX-FAST in the KDC response contains the DER encoding of the ASN.1 type PA-FX-FAST-REPLY.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-FAST KDC応答のための対応するPADATA値フィールド[RFC4120]はASN.1型PA-FX-FAST-REPLYのDER符号化を含んでいます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      PA-FX-FAST-REPLY ::= CHOICE {
          armored-data [0] KrbFastArmoredRep,
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastArmoredRep ::= SEQUENCE {
          enc-fast-rep      [0] EncryptedData, -- KrbFastResponse --
              -- The encryption key is the armor key in the request, and
              -- the key usage number is KEY_USAGE_FAST_REP.
          ...
      }
      KEY_USAGE_FAST_REP                 52
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The PA-FX-FAST-REPLY structure contains a KrbFastArmoredRep structure. The KrbFastArmoredRep structure encapsulates the padata in the KDC reply in the encrypted form. The KrbFastResponse is encrypted with the armor key used in the corresponding request, and the key usage number is KEY_USAGE_FAST_REP.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-FAST-REPLY構造がKrbFastArmoredRep構造が含まれています。 KrbFastArmoredRep構造は、暗号化された形式でKDC応答でPADATAをカプセル化します。 KrbFastResponseは、対応する要求で使用装甲キーで暗号化され、そしてキー使用数がKEY_USAGE_FAST_REPあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The Kerberos client MUST support a local policy that rejects the response if PA-FX-FAST-REPLY is not included in the response. Clients MAY also support policies that fall back to other mechanisms or that do not use pre-authentication when FAST is unavailable. It is important to consider the potential downgrade attacks when deploying such a policy.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
Kerberosクライアントは、PA-FX-FAST-REPLYが応答に含まれていない場合、応答を拒否し、ローカルポリシーをサポートしなければなりません。また、クライアントは、他のメカニズムにフォールバックまたはFASTが使用できないときには、事前認証を使用しないポリシーをサポートするかもしれません。このような政策を展開するときに潜在的なダウングレード攻撃を考慮することが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KrbFastResponse structure contains the following information:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KrbFastResponse構造は、次の情報が含まれます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
       KrbFastResponse ::= SEQUENCE {
           padata         [0] SEQUENCE OF PA-DATA,
               -- padata typed holes.
           strengthen-key [1] EncryptionKey OPTIONAL,
               -- This, if present, strengthens the reply key for AS and
               -- TGS. MUST be present for TGS.
               -- MUST be absent in KRB-ERROR.
           finished       [2] KrbFastFinished OPTIONAL,
               -- Present in AS or TGS reply; absent otherwise.
           nonce          [3] UInt32,
               -- Nonce from the client request.
           ...
  }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The padata field in the KrbFastResponse structure contains a list of PA-DATA structures as described in Section 5.2.7 of [RFC4120]. These PA-DATA structures are used to carry data advancing the exchange specific for the FAST factors. They can also be used as generic typed-holes for protocol extensibility. Unless otherwise specified, the KDC MUST include any padata that are otherwise in the outer KDC-REP or KDC-ERROR structure into this field. The padata field in the KDC reply structure outside of the PA-FX-FAST-REPLY structure typically includes only the PA-FX-FAST-REPLY padata.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120]のセクション5.2.7で説明したようにKrbFastResponse構造でPADATAフィールドは、PA-DATA構造体のリストが含まれています。これらのPA-DATA構造は、FASTの要因のため、特定の交換を進め、データを運ぶために使用されています。彼らはまた、プロトコルの拡張のための一般的な型指定されたホールとして使用することができます。特に指定しない限り、KDCは、このフィールドに外側KDC-REPまたはKDC-ERROR構造にそうしている任意のPADATAを含まなければなりません。 KDCでPADATAフィールドはPA-FX-FAST-REPLY構造の外側構造を返信典型的にのみPA-FX-FAST-REPLYのPADATAを含みます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The strengthen-key field provides a mechanism for the KDC to strengthen the reply key. If set, the strengthen-key value MUST be randomly generated to have the same etype as that of the reply key before being strengthened, and then the reply key is strengthened after all padata items are processed. Let padata-reply-key be the reply key after padata processing.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
強化キーフィールドはKDCは応答キーを強化するための機構を提供します。設定した場合、強化キー値は、ランダムに強化される前に、応答キーと同一のetypeを有するように生成されなければならない、そして全PADATA項目が処理された後、次いで、応答キーが強化されます。 PADATA返信キーがPADATA処理後の応答キーとします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
reply-key = KRB-FX-CF2(strengthen-key, padata-reply-key, &#34;strengthenkey&#34;, &#34;replykey&#34;)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
replykey = KRB-FX-CF2（strengthenkey、PADATA-replykey、 &#34;strengthenkey&#34;、 &#34;replykey&#34;）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The strengthen-key field MAY be set in an AS reply; it MUST be set in a TGS reply; it must be absent in an error reply. The strengthen key is required in a TGS reply so that an attacker cannot remove the FAST PADATA from a TGS reply, causing the KDC to appear not to support FAST.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
強化 - キーフィールドは、返信として設定することができます。それはTGS応答に設定しなければなりません。それは、エラー応答で存在してはなりません。攻撃者はKDCがFASTをサポートしないように見えるさせ、TGS応答からFAST PADATAを削除できないように強化キーはTGS応答に必要とされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The finished field contains a KrbFastFinished structure. It is filled by the KDC in the final message in the conversation. This field is present in an AS-REP or a TGS-REP when a ticket is returned, and it is not present in an error reply.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
完成したフィールドはKrbFastFinished構造が含まれています。これは、会話の最後のメッセージにKDCによって満たされています。このフィールドは、AS-REPやチケットが返されますTGS-REPに存在し、それがエラー応答では存在しません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KrbFastFinished structure contains the following information:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KrbFastFinished構造は、以下の情報が含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
        KrbFastFinished ::= SEQUENCE {
            timestamp       [0] KerberosTime,
            usec            [1] Microseconds,
                -- timestamp and usec represent the time on the KDC when
                -- the reply was generated.
            crealm          [2] Realm,
            cname           [3] PrincipalName,
                -- Contains the client realm and the client name.
            ticket-checksum [4] Checksum,
                -- checksum of the ticket in the KDC-REP using the armor
                -- and the key usage is KEY_USAGE_FAST_FINISH.
                -- The checksum type is the required checksum type
                -- of the armor key.
            ...
        }
        KEY_USAGE_FAST_FINISHED            53
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The timestamp and usec fields represent the time on the KDC when the reply ticket was generated, these fields have the same semantics as the corresponding identically named fields in Section 5.6.1 of [RFC4120]. The client MUST use the KDC&#39;s time in these fields thereafter when using the returned ticket. The client need not confirm that the timestamp returned is within allowable clock skew: the armor key guarantees that the reply is fresh. The client MAY trust the timestamp returned.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
タイムスタンプとマイクロ秒のフィールドは返信チケットが生成されたKDCの時刻を表し、これらのフィールドは、[RFC4120]のセクション5.6.1で対応する同じ名前のフィールドと同じ意味を持っています。返されたチケットを使用した場合、クライアントは、その後、これらの分野でのKDCの時間を使用しなければなりません。応答が新鮮であることを装甲キー保証：クライアントは、返されたタイムスタンプが許容クロック・スキューの範囲内であることを確認する必要はありません。クライアントは、返されたタイムスタンプを信頼するかもしれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The cname and crealm fields identify the authenticated client. If facilities described in [REFERRALS] are used, the authenticated client may differ from the client in the FAST request.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
CNAMEとcrealmフィールドは、認証されたクライアントを特定します。 【REFERRALS]に記載の設備が使用される場合、認証されたクライアントは、FAST要求クライアント異なっていてもよいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The ticket-checksum is a checksum of the issued ticket. The checksum key is the armor key, and the checksum type is the required checksum type of the enctype of that key, and the key usage number is KEY_USAGE_FAST_FINISHED.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
チケットのチェックサムは、発行されたチケットのチェックサムです。チェックサムキーは、装甲キーであり、チェックサムタイプは、そのキーのENCTYPEの必要なチェックサム型であり、主要な用法番号KEY_USAGE_FAST_FINISHEDあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When FAST padata is included, the PA-FX-COOKIE padata as defined in Section 5.2 MUST be included in the padata sequence in the KrbFastResponse sequence if the KDC expects at least one more message from the client in order to complete the authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST PADATAが含まれている場合はKDCが認証を完了するために、クライアントから少なくとも1つの以上のメッセージを想定した場合、5.2節で定義されたPA-FX-COOKIEのPADATAはKrbFastResponseシーケンスでPADATA列に含まれなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The nonce field in the KrbFastResponse contains the value of the nonce field in the KDC-REQ of the corresponding client request and it binds the KDC response with the client request. The client MUST verify that this nonce value in the reply matches with that of the request and reject the KDC reply otherwise. To prevent the response from one message in a conversation from being replayed to a request in another message, clients SHOULD use a new nonce for each message in a conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KrbFastResponseでナンスフィールドは、対応するクライアント要求のKDC-REQに一回だけのフィールドの値が含まれ、それがクライアントの要求にKDC応答をバインドします。クライアントは、返信にこのナンス値は、要求のそれと一致していることを確認し、そうでない場合はKDC応答を拒絶しなければなりません。別のメッセージでリクエストに再生されてからの会話の中で一つのメッセージからの応答を防ぐために、クライアントは、会話の中で、各メッセージのための新たなnonceを使用すべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.4. Authenticated Kerberos Error Messages Using Kerberos FAST
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.4。 FAST Kerberosを使って認証にKerberosのエラーメッセージ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the Kerberos FAST padata was included in the request, unless otherwise specified, the e-data field of the KRB-ERROR message [RFC4120] contains the ASN.1 DER encoding of the type METHOD-DATA [RFC4120] and a PA-FX-FAST is included in the METHOD-DATA. The KDC MUST include all the padata elements such as PA-ETYPE-INFO2 and padata elements that indicate acceptable pre-authentication mechanisms [RFC4120] in the KrbFastResponse structure.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ケルベロスFAST PADATAがリクエストに含まれていた場合は、特に断りのない限り、KRB-ERRORメッセージ[RFC4120]の電子データ・フィールドは、タイプMETHOD-DATA [RFC4120]とPA-FXのASN.1のDER符号化を含んでいます-FASTは、METHOD-DATAに含まれています。 KDCは、KrbFastResponse構造に許容される事前認証メカニズム[RFC4120]を示すPA-ETYPE-INFO2およびPADATA要素として全てPADATA要素を含まなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The KDC MUST also include a PA-FX-ERROR padata item in the KRBFastResponse structure. The padata-value element of this sequence is the ASN.1 DER encoding of the type KRB-ERROR. The e-data field MUST be absent in the PA-FX-ERROR padata. All other fields should be the same as the outer KRB-ERROR. The client ignores the outer error and uses the combination of the padata in the KRBFastResponse and the error information in the PA-FX-ERROR.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCはまたKRBFastResponse構造のPA-FX-ERRORのPADATA項目を含まなければなりません。この配列のPADATA値要素には、タイプKRB-ERRORのASN.1のDER符号化です。電子データフィールドは、PA-FX-ERRORのPADATAに存在してはなりません。他のすべてのフィールドは、外側KRB-ERRORと同じでなければなりません。クライアントは、外のエラーを無視し、KRBFastResponseでPADATAとPA-FX-ERRORのエラー情報の組み合わせを使用しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-ERROR 137
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-FX-ERROR 137
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the Kerberos FAST padata is included in the request but not included in the error reply, it is a matter of the local policy on the client to accept the information in the error message without integrity protection. However, the client SHOULD process the KDC errors as the result of the KDC&#39;s inability to accept the AP_REQ armor and potentially retry another request with a different armor when applicable. The Kerberos client MAY process an error message without a PA-FX-FAST-REPLY, if that is only intended to return better error information to the application, typically for trouble-shooting purposes.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ケルベロスFAST PADATAが要求に含まれますが、エラー応答に含まれていない場合は、完全性保護せずに、エラーメッセージの情報を受け入れるために、クライアント上のローカルポリシーの問題です。ただし、クライアントは、AP_REQの鎧を受け入れ、潜在的に適用可能な場合に別の鎧で別の要求を再試行するKDCのできないことの結果として、KDCエラーを処理する必要があります。それが唯一のトラブルシューティングの目的のために、通常、アプリケーションに優れたエラー情報を返すために意図されている場合Kerberosクライアントは、PA-FX-FAST-REPLYせずにエラーメッセージを処理することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In the cases where the e-data field of the KRB-ERROR message is expected to carry a TYPED-DATA [RFC4120] element, that information should be transmitted in a pa-data element within the KRBFastResponse structure. The padata-type is the same as the data-type would be in the typed data element and the padata-value is the same as the data-value. As discussed in Section 7, data-types and padata-types are drawn from the same namespace. For example, the TD_TRUSTED_CERTIFIERS structure is expected to be in the KRB-ERROR message when the error code is KDC_ERR_CANT_VERIFY_CERTIFICATE [RFC4556].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-ERRORメッセージの電子データ・フィールドがタイプ-DATA [RFC4120]の要素を運ぶことが予想される場合には、その情報はKRBFastResponse構造内PAデータ要素で送信されるべきです。 PADATAタイプは、データタイプが入力データ要素であろうとPADATA値は、データ値と同じと同じです。セクション7で説明したように、データ型およびPADATA・タイプは、同じ名前空間から引き出されます。エラーコードはKDC_ERR_CANT_VERIFY_CERTIFICATE [RFC4556]である場合、例えば、TD_TRUSTED_CERTIFIERS構造はKRB-ERRORメッセージであると予想されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.5. Outer and Inner Requests
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.5。外側と内側のリクエスト
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Typically, a client will know that FAST is being used before a request containing PA-FX-FAST is sent. So, the outer AS request typically only includes one pa-data item: PA-FX-FAST. The client MAY include additional pa-data, but the KDC MUST ignore the outer request body and any padata besides PA-FX-FAST if and only if PA-FX-FAST is processed. In the case of the TGS request, the outer request should include PA-FX-FAST and PA-TGS-REQ.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
一般的に、クライアントはPA-FX-FASTを含むリクエストが送信される前に、そのFASTが使用されている知っています。 PA-FX-FAST：だから、要求AS外は、一般的に一つだけのPA-データ項目を含んでいます。クライアントは、追加のPADATAを含んでもよいがKDCは、外側のリクエストボディとPA-FX-FAST場合にのみ処理され、PA-FX-FASTの場合以外の任意PADATAを無視しなければなりません。 TGS要求の場合には、外側の要求はPA-FX-FAST、およびPA-TGS-REQを含むべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When an AS generates a response, all padata besides PA-FX-FAST should be included in PA-FX-FAST. The client MUST ignore other padata outside of PA-FX-FAST.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ASが応答を生成するとき、PA-FX-FAST以外のすべてのPADATAは、PA-FX-FASTに含まれるべきです。クライアントはPA-FX-FASTの外に他のPADATAを無視しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.6. The Encrypted Challenge FAST Factor
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.4.6。暗号化されたチャレンジFASTファクター
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The encrypted challenge FAST factor authenticates a client using the client&#39;s long-term key. This factor works similarly to the encrypted timestamp pre-authentication option described in [RFC4120]. The word &#34;challenge&#34; is used instead of &#34;timestamp&#34; because while the timestamp is used as an initial challenge, if the KDC and client do not have synchronized time, then the KDC can provide updated time to the client to use as a challenge. The client encrypts a structure containing a timestamp in the challenge key. The challenge key used by the client to send a message to the KDC is KRB-FX-CF2(armor_key,long_term_key, &#34;clientchallengearmor&#34;, &#34;challengelongterm&#34;). The challenge key used by the KDC encrypting to the client is KRB-FX-CF2(armor_key, long_term_key, &#34;kdcchallengearmor&#34;, &#34;challengelongterm&#34;). Because the armor key is fresh and random, the challenge key is fresh and random. The only purpose of the timestamp is to limit the validity of the authentication so that a request cannot be replayed. A client MAY base the timestamp on the KDC time in a KDC error and need not maintain accurate time synchronization itself. If a client bases its time on an untrusted source, an attacker may trick the client into producing an authentication request that is valid at some future time. The attacker may be able to use this authentication request to make it appear that a client has authenticated at that future time. If ticket-based armor is used, then the lifetime of the ticket will limit the window in which an attacker can make the client appear to have authenticated. For many situations, the ability of an attacker to cause a client to appear to have authenticated is not a significant concern; the ability to avoid requiring time synchronization on clients is more valuable.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
暗号化されたチャレンジFAST要因は、クライアントの長期キーを使用してクライアントを認証します。この要因は、[RFC4120]で説明した暗号化されたタイムスタンプ事前認証オプションと同様に動作します。 KDCとクライアントの時間を同期していない場合は、タイムスタンプが、最初の挑戦として使用されている間は、KDCがチャレンジとして使用するために、クライアントに更新時間を提供することができるので、単語「挑戦」は代わりに「タイムスタンプ」を使用されています。クライアントは、チャレンジ鍵のタイムスタンプを含む構造体を暗号化します。 KDCにメッセージを送信するためにクライアントが使用するチャレンジ鍵はKRB-FX-CF2（armor_key、long_term_key、 &#34;clientchallengearmor&#34;、 &#34;challengelongterm&#34;）です。クライアントに暗号化するKDCが使用するチャレンジ鍵はKRB-FX-CF2（armor_key、long_term_key、 &#34;kdcchallengearmor&#34;、 &#34;challengelongterm&#34;）です。鎧の鍵は新鮮かつランダムであるので、チャレンジ鍵は新鮮かつランダムです。タイムスタンプの唯一の目的は、要求が再生できないように認証の有効性を制限することです。クライアントは、KDCエラーにKDC時間にタイムスタンプをベースと正確な時刻同期自体を維持しない必要があるかもしれません。クライアントが信頼できないソースでその時のベースとした場合、攻撃者は、将来の時点で有効な認証要求を生成するにクライアントをだますことがあります。攻撃者は、クライアントがその将来の時点で認証されていることを表示させるために、この認証要求を使用することができます。チケットベースの鎧を使用する場合は、チケットの有効期間は、攻撃者がクライアントを認証しているように見えるようにするためのウィンドウが制限されます。多くの状況では、クライアントが認証されているように見えるさせるため、攻撃者の能力は重要な問題ではありません。クライアント上の時刻同期を必要としないようにする能力がより貴重です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The client sends a padata of type PA-ENCRYPTED-CHALLENGE. The corresponding padata-value contains the DER encoding of ASN.1 type EncryptedChallenge.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、タイプPA暗号化-CHALLENGEのPADATAを送信します。対応PADATA値はASN.1型EncryptedChallengeのDER符号化を含んでいます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      EncryptedChallenge ::= EncryptedData
              -- Encrypted PA-ENC-TS-ENC, encrypted in the challenge key
              -- using key usage KEY_USAGE_ENC_CHALLENGE_CLIENT for the
              -- client and KEY_USAGE_ENC_CHALLENGE_KDC for the KDC.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-ENCRYPTED-CHALLENGE 138 KEY_USAGE_ENC_CHALLENGE_CLIENT 54 KEY_USAGE_ENC_CHALLENGE_KDC 55
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-ENCRYPTED-CHALLENGE 138 KEY_USAGE_ENC_CHALLENGE_CLIENT 54 KEY_USAGE_ENC_CHALLENGE_KDC 55
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The client includes some timestamp reasonably close to the KDC&#39;s current time and encrypts it in the challenge key in a PA-ENC-TS-ENC structure (see Section 5.2.7.2 in RFC 4120). Clients MAY use the current time; doing so prevents the exposure where an attacker can cause a client to appear to authenticate in the future. The client sends the request including this factor.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアントは、KDCの現在の時間にかなり近いいくつかのタイムスタンプが含まれており、PA-ENC-TS-ENC構造（RFC 4120で、セクション5.2.7.2を参照）でチャレンジ鍵でそれを暗号化します。クライアントは、現在の時刻を使用することができます。そうする攻撃者は、クライアントが、将来的に認証するように見えることがあります露出を防ぐことができます。クライアントは、この要因を含む要求を送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
On receiving an AS-REQ containing the PA-ENCRYPTED-CHALLENGE FAST factor, the KDC decrypts the timestamp. If the decryption fails the KDC SHOULD return KDC_ERR_PREAUTH_FAILED, including PA-ETYPE-INFO2 in the KRBFastResponse in the error. The KDC confirms that the timestamp falls within its current clock skew returning KRB_APP_ERR_SKEW if not. The KDC then SHOULD check to see if the encrypted challenge is a replay. The KDC MUST NOT consider two encrypted challenges replays simply because the timestamps are the same; to be a replay, the ciphertext MUST be identical. Allowing clients to reuse timestamps avoids requiring that clients maintain state about which timestamps have been used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
PA-ENCRYPTED-CHALLENGE FAST因子を含むAS-REQを受信すると、KDCは、タイムスタンプを復号化します。復号化に失敗した場合はKDCがエラーでKRBFastResponseでPA-ETYPE-INFO2を含め、KDC_ERR_PREAUTH_FAILEDを返すべきです。 KDCは、タイムスタンプがない場合KRB_APP_ERR_SKEWを返し、現在のクロック・スキュー内にあることを確認しています。 KDCは、暗号化されたチャレンジがリプレイであるかどうかを確認する必要があります。 KDCは、タイムスタンプが同じであるという理由だけで、2つの暗号化の課題のリプレイを検討してはなりません。再生する、暗号文は同じでなければなりません。クライアントがタイムスタンプを再利用できるようにすると、クライアントはタイムスタンプが使用されているかについての状態を維持することが必要なくなります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
If the KDC accepts the encrypted challenge, it MUST include a padata element of type PA-ENCRYPTED-CHALLENGE. The KDC encrypts its current time in the challenge key. The KDC MUST strengthen the reply key before issuing a ticket. The client MUST check that the timestamp decrypts properly. The client MAY check that the timestamp is within the window of acceptable clock skew for the client. The client MUST NOT require that the timestamp be identical to the timestamp in the issued credentials or the returned message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCは暗号化された挑戦を受け入れた場合、それはタイプPA暗号化-CHALLENGEのPADATA要素を含まなければなりません。 KDCはチャレンジ鍵での現在の時刻を暗号化します。 KDCは、チケットを発行する前に、応答キーを強化しなければなりません。クライアントは、タイムスタンプが正しく復号化していることをチェックしなければなりません。クライアントは、タイムスタンプがクライアントのために許容可能なクロック・スキューのウィンドウ内であることを確認するかもしれません。クライアントは、タイムスタンプが発行した資格情報にタイムスタンプまたは返されたメッセージと同じであることを要求してはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The encrypted challenge FAST factor provides the following facilities: Client Authentication and KDC Authentication. This FAST factor also takes advantage of the FAST facility to strengthen the reply key. It does not provide the Replace Reply Key facility. The Security Considerations section of this document provides an explanation why the security requirements are met.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアント認証とKDC認証：暗号化されたチャレンジFASTの要因は、以下の機能を提供します。このFAST要因も返信キーを強化するためにFAST施設を利用しています。これは、返信を交換キー機能を提供していません。このドキュメントのSecurity Considerations部は、セキュリティ要件が満たされている理由を説明します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The encrypted challenge FAST factor can be useful in an authentication set. No pa-hint is defined because the only information needed by this mechanism is information contained in the PA-ETYPE-INFO2 pre-authentication data. KDCs are already required to send PA-ETYPE-INFO2. If KDCs were not required to send PA-ETYPE-INFO2 then that information would need to be part of a hint for encrypted challenge.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
暗号化されたチャレンジFAST要因は、認証セットに有用であることができます。この機構により、必要な情報のみがPA-ETYPE-INFO2事前認証データに含まれる情報であるため、いかなるPA-ヒントが定義されていません。 KDCは、既にPA-ETYPE-INFO2を送信するために必要とされます。 KDCは、PA-ETYPE-INFO2を送信するために必要とされていない場合、その情報は暗号化されたチャレンジのためのヒントの一部である必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Conforming implementations MUST support the encrypted challenge FAST factor.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
準拠した実装は、暗号化されたチャレンジFAST要因をサポートしなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5. Authentication Strength Indication
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.5。認証強度表示
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Implementations that have pre-authentication mechanisms offering significantly different strengths of client authentication MAY choose to keep track of the strength of the authentication used as an input into policy decisions. For example, some principals might require strong pre-authentication, while less sensitive principals can use relatively weak forms of pre-authentication like encrypted timestamp.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
クライアント認証の大きく異なる強みを提供して事前認証機構を持っている実装は、政策決定への入力として使用される認証の強度を追跡するために選ぶかもしれません。それほど敏感プリンシパルは暗号化されたタイムスタンプのような事前認証の比較的弱いフォームを使用することができますしながら、例えば、いくつかの校長は、強力な事前認証が必要な場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
An AuthorizationData data type AD-Authentication-Strength is defined for this purpose.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
AuthorizationDataデータ型AD-認証強度は、この目的のために定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
AD-authentication-strength 70
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
AD-認証強度70
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The corresponding ad-data field contains the DER encoding of the pre-authentication data set as defined in Section 5.3. This set contains all the pre-authentication mechanisms that were used to authenticate the client. If only one pre-authentication mechanism was used to authenticate the client, the pre-authentication set contains one element. Unless otherwise specified, the hint and value fields of the members of this sequence MUST be empty. In order to permit mechanisms to carry additional information about strength in these fields in the future, clients and application servers MUST ignore non-empty hint and value fields for mechanisms unless the implementation is updated with the interpretation of these fields for a given pre-authentication mechanism in this authorization element.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
対応する広告データフィールドは、セクション5.3で定義されるように設定する事前認証データのDER符号化を含んでいます。このセットは、クライアントを認証するために使用されたすべての事前認証機構が含まれています。唯一の事前認証機構は、クライアントを認証するために使用された場合は、事前認証セットは、1つの要素が含まれています。特に指定しない限り、このシーケンスのメンバーのヒントと値フィールドが空である必要があります。実装は与えられた事前認証のためにこれらのフィールドの解釈で更新されない限り、将来的にはこれらの分野での強さについての追加情報を運ぶためのメカニズムを可能にするためには、クライアントとアプリケーションサーバーは、メカニズムの非空のヒントと値フィールドを無視しなければなりませんこの認証要素でメカニズム。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The AD-authentication-strength element MUST be included in the AD-KDC-ISSUED container so that the KDC integrity protects its contents. This element can be ignored if it is unknown to the receiver.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KDCの整合性は、その内容を保護するようにAD-認証強度要素は、AD-KDCで発行されたコンテナに含まれなければなりません。それは受信機に知られていない場合は、この要素は無視することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. Assigned Constants
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.割り当てられた定数
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The pre-authentication framework and FAST involve using a number of Kerberos protocol constants. This section lists protocol constants first introduced in this specification drawn from registries not managed by IANA. Many of these registries would best be managed by IANA; that is a known issue that is out of scope for this document. The constants described in this section have been accounted for and will appear in the next revision of the Kerberos core specification or in a document creating IANA registries.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
事前認証フレームワークとFAST Kerberosプロトコル定数の数を使用することを含みます。このセクションでは、最初にIANAが管理していないレジストリから引き出され、この仕様で導入されたプロトコル定数を示しています。これらのレジストリの多くは、最高のIANAによって管理されます。それはこの文書の範囲外である既知の問題です。このセクションで説明定数が占めており、Kerberosのコア仕様の次のリビジョンまたはIANAレジストリを作成する文書に表示されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Section 7 creates IANA registries for a different set of constants used by the extensions described in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
第7節は、この文書で説明する拡張機能で使用される定数の異なるセットのためのIANAレジストリを作成します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1. New Errors
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.1。新たなエラー
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           KDC_ERR_PREAUTH_EXPIRED                 90
           KDC_ERR_MORE_PREAUTH_DATA_REQUIRED      91
           KDC_ERR_PREAUTH_BAD_AUTHENTICATION_SET  92
           KDC_ERR_UNKNOWN_CRITICAL_FAST_OPTIONS   93
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2. Key Usage Numbers
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.2。キー使用法番号
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           KEY_USAGE_FAST_REQ_CHKSUM               50
           KEY_USAGE_FAST_ENC                      51
           KEY_USAGE_FAST_REP                      52
           KEY_USAGE_FAST_FINISHED                 53
           KEY_USAGE_ENC_CHALLENGE_CLIENT          54
           KEY_USAGE_ENC_CHALLENGE_KDC             55
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3. Authorization Data Elements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.3。認可データ要素
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           AD-authentication-strength              70
           AD-fx-fast-armor                        71
           AD-fx-fast-used                         72
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4. New PA-DATA Types
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6.4。新しいPA-DATAタイプ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
           PA-FX-COOKIE                            133
           PA-AUTHENTICATION-SET                   134
           PA-AUTH-SET-SELECTED                    135
           PA-FX-FAST                              136
           PA-FX-ERROR                             137
           PA-ENCRYPTED-CHALLENGE                  138
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. IANAの考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document creates a number of IANA registries. These registries are all located under Kerberos Parameters on http://www.iana.org. See [RFC5226] for descriptions of the registration policies used in this section.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このドキュメントは、IANAレジストリの数を作成します。これらのレジストリは、すべてのhttp://www.iana.orgでKerberosパラメータの下に配置されています。このセクションで使用されている登録ポリシーの説明については、[RFC5226]を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. Pre-Authentication and Typed Data
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1。事前認証および型付きデータ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
RFC 4120 defines pre-authentication data, which can be included in a KDC request or response in order to authenticate the client or extend the protocol. In addition, it defines Typed-Data, which is an extension mechanism for errors. Both pre-authentication data and typed data are carried as a 32-bit signed integer along with an octet string. The encoding of typed data and pre-authentication data is slightly different. However, the types for pre-authentication data and typed-data are drawn from the same namespace. By convention, registrations starting with TD- are typed data and registrations starting with PA- are pre-authentication data. It is important that these data types be drawn from the same namespace, because some errors where it would be desirable to include typed data require the e-data field to be formatted as pre-authentication data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
RFC 4120は、クライアントを認証またはプロトコルを拡張するためにKDC要求または応答に含めることができる事前認証データを、定義します。また、エラーの拡張機構である型付きデータを、定義します。事前認証データと入力した両方のデータをオクテットストリングと共に32ビット符号付き整数として実施されます。入力したデータと事前認証データの符号化はわずかに異なっています。しかし、事前認証データと入力されたデータの型が同じ名前空間から引き出されています。慣例により、TD-で始まる登録が入力されPA-始まるデータと登録は、事前認証データです。入力されたデータを含めることが望ましいであろういくつかのエラーが事前認証データとしてフォーマットされる電子データのフィールドを必要とするためには、これらのデータ型が同じ名前空間から引き出されることが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
When Kerberos FAST is used, pre-authentication data encoding is always used.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ケルベロスFASTを使用する場合は、事前認証データのエンコーディングが常に使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
There is one apparently conflicting registration between typed data and pre-authentication data. PA-GET-FROM-TYPED-DATA and TD-PADATA are both assigned the value 22. However, this registration is simply a mechanism to include an element of the other encoding. The use of both should be deprecated.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
入力されたデータと事前認証データの間に1件の明らかに矛盾登録があります。 PAは-GET-FROM型付け-DATAとTD-PADATA両方が値22が割り当てられ、この登録は、単に、他の符号化の要素を含むための機構です。両方の使用は廃止されなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This document creates a registry for pre-authentication and typed data. The registration procedures are as follows. Expert review for pre-authentication mechanisms designed to authenticate users, KDCs, or establish the reply key. The expert first determines that the purpose of the method is to authenticate clients, KDCs, or to establish the reply key. If so, expert review is appropriate. The expert evaluates the security and interoperability of the specification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この文書では、事前認証のためのレジストリを作成し、データを入力しました。次のように登録手続きをしています。ユーザーのKDCを認証し、または応答キーを確立するために設計された事前認証機構エキスパートレビュー。専門家はまず、メソッドの目的は、クライアントを認証することであると判断したのKDC、または応答キーを確立します。その場合、専門家レビューが適当です。専門家は、仕様のセキュリティと相互運用性を評価します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
IETF review is required if the expert believes that the pre-authentication method is broader than these three areas. Pre-authentication methods that change the Kerberos state machine or otherwise make significant changes to the Kerberos protocol should be Standards Track RFCs. A concern that a particular method needs to be a Standards Track RFC may be raised as an objection during IETF review.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
専門家が事前認証方法は、これら三つの領域よりも広いと考えている場合IETF見直しが必要とされます。 Kerberosプロトコルに大幅な変更をKerberosのステートマシンを変更したり、そうでなければ作る事前認証方法が標準化過程RFCをする必要があります。特定の方法が標準化過程RFCにする必要があるという懸念がIETFレビュー時の異議として提起することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Several of the registrations indicated below were made at a time when the Kerberos protocol was less mature and do not meet the current requirements for this registry. These registrations are included in order to accurately document what is known about the use of these protocol code points and to avoid conflicts.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
以下に示す登録のいくつかは、Kerberosプロトコルがあまり成熟したし、このレジストリの現在の要件を満たしていない時に行われました。これらの登録は、正確にこれらのプロトコルコード・ポイントの使用について知られているものを文書化するとの衝突を避けるために含まれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
     Type                Value    Reference
 ----------------------------------------------------------------------
 PA-TGS-REQ                 1    [RFC4120]
 PA-ENC-TIMESTAMP           2    [RFC4120]
 PA-PW-SALT                 3    [RFC4120]
 [reserved]                 4    [RFC6113]
 PA-ENC-UNIX-TIME           5    (deprecated) [RFC4120]
 PA-SANDIA-SECUREID         6    [RFC4120]
 PA-SESAME                  7    [RFC4120]
 PA-OSF-DCE                 8    [RFC4120]
 PA-CYBERSAFE-SECUREID      9    [RFC4120]
 PA-AFS3-SALT               10   [RFC4120] [RFC3961]
 PA-ETYPE-INFO              11   [RFC4120]
 PA-SAM-CHALLENGE           12   [KRB-WG.SAM]
 PA-SAM-RESPONSE            13   [KRB-WG.SAM]
 PA-PK-AS-REQ_OLD           14   [PK-INIT-1999]
 PA-PK-AS-REP_OLD           15   [PK-INIT-1999]
 PA-PK-AS-REQ               16   [RFC4556]
 PA-PK-AS-REP               17   [RFC4556]
 PA-PK-OCSP-RESPONSE        18   [RFC4557]
 PA-ETYPE-INFO2             19   [RFC4120]
 PA-USE-SPECIFIED-KVNO      20   [RFC4120]
 PA-SVR-REFERRAL-INFO       20   [REFERRALS]
 PA-SAM-REDIRECT            21   [KRB-WG.SAM]
 PA-GET-FROM-TYPED-DATA     22   (embedded in typed data) [RFC4120]
 TD-PADATA                  22   (embeds padata) [RFC4120]
 PA-SAM-ETYPE-INFO          23   (sam/otp) [KRB-WG.SAM]
 PA-ALT-PRINC               24   (crawdad@fnal.gov) [HW-AUTH]
 PA-SERVER-REFERRAL         25   [REFERRALS]
 PA-SAM-CHALLENGE2          30   (kenh@pobox.com) [KRB-WG.SAM]
 PA-SAM-RESPONSE2           31   (kenh@pobox.com) [KRB-WG.SAM]
 PA-EXTRA-TGT               41   Reserved extra TGT [RFC6113]
 TD-PKINIT-CMS-CERTIFICATES 101  CertificateSet from CMS
 TD-KRB-PRINCIPAL           102  PrincipalName
 TD-KRB-REALM               103  Realm
 TD-TRUSTED-CERTIFIERS      104  [RFC4556]
 TD-CERTIFICATE-INDEX       105  [RFC4556]
 TD-APP-DEFINED-ERROR       106  Application specific [RFC6113]
 TD-REQ-NONCE               107  INTEGER [RFC6113]
 TD-REQ-SEQ                 108  INTEGER [RFC6113]
 TD_DH_PARAMETERS           109  [RFC4556]
 TD-CMS-DIGEST-ALGORITHMS   111  [ALG-AGILITY]
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
TD-CERT-DIGEST-ALGORITHMS 112 [ALG-AGILITY] PA-PAC-REQUEST 128 [MS-KILE] PA-FOR_USER 129 [MS-KILE] PA-FOR-X509-USER 130 [MS-KILE] PA-FOR-CHECK_DUPS 131 [MS-KILE] PA-AS-CHECKSUM 132 [MS-KILE] PA-FX-COOKIE 133 [RFC6113] PA-AUTHENTICATION-SET 134 [RFC6113] PA-AUTH-SET-SELECTED 135 [RFC6113] PA-FX-FAST 136 [RFC6113] PA-FX-ERROR 137 [RFC6113] PA-ENCRYPTED-CHALLENGE 138 [RFC6113] PA-OTP-CHALLENGE 141 (gareth.richards@rsa.com) [OTP-PREAUTH] PA-OTP-REQUEST 142 (gareth.richards@rsa.com) [OTP-PREAUTH] PA-OTP-CONFIRM 143 (gareth.richards@rsa.com) [OTP-PREAUTH] PA-OTP-PIN-CHANGE 144 (gareth.richards@rsa.com) [OTP-PREAUTH] PA-EPAK-AS-REQ 145 (sshock@gmail.com) [RFC6113] PA-EPAK-AS-REP 146 (sshock@gmail.com) [RFC6113] PA_PKINIT_KX 147 [RFC6112] PA_PKU2U_NAME 148 [PKU2U] PA-SUPPORTED-ETYPES 165 [MS-KILE] PA-EXTENDED_ERROR 166 [MS-KILE]
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
TD-CERT-DIGEST-ALGORITHMS 112 [ALG-AGILITY] PA-PAC-REQUEST 128 [MS-カイル] PA-FOR_USER 129 [MS-カイル] PA-FOR-X509-USER 130 [MS-カイル] PA-FOR- CHECK_DUPS 131 [MS-カイル] PA-ASチェックサム132 [MS-カイル] PA-FX-COOKIE 133 [RFC6113] PA-AUTHENTICATION-SET 134 [RFC6113] PA-AUTH-SET-SELECTED 135 [RFC6113] PA-FX -FAST 136 [RFC6113] PA-FX-ERROR 137 [RFC6113] PA暗号化チャレンジ138 [RFC6113] PA-OTP-CHALLENGE 141（gareth.richards@rsa.com）OTP-PREAUTH] PA-OTP-REQUEST 142 （gareth.richards@rsa.com）OTP-PREAUTH] PA-OTP-CONFIRM 143（gareth.richards@rsa.com）OTP-PREAUTH] PA-OTP-PIN-CHANGE 144（gareth.richards@rsa.com ）[OTP-PREAUTH] PA-EPAK-AS-REQ 145（sshock@gmail.com）[RFC6113] PA-EPAK-AS-REP 146（sshock@gmail.com）[RFC6113] PA_PKINIT_KX 147 [RFC6112] PA_PKU2U_NAME 148 [ PKU2U] PA支持-たetypes 165 [MS-カイル] PA-EXTENDED_ERROR 166 [MS-カイル]
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. Fast Armor Types
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2。高速アーマータイプ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST armor types are defined in Section 5.4.1. A FAST armor type is a signed 32-bit integer. FAST armor types are assigned by standards action.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FASTアーマータイプは、セクション5.4.1で定義されています。 FAST装甲タイプは、符号付き32ビット整数です。 FASTアーマータイプは標準アクションによって割り当てられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
          Type    Name                   Description
        ------------------------------------------------------------
          0                              Reserved.
          1   FX_FAST_ARMOR_AP_REQUEST   Ticket armor using an ap-req.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3. FAST Options
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.3。 FASTオプション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
A FAST request includes a set of bit flags to indicate additional options. Bits 0-15 are critical; other bits are non-critical. Assigning bits greater than 31 may require special support in implementations. Assignment of FAST options requires standards action.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST要求は、追加オプションを示すビットフラグのセットを含みます。ビット0-15は極めて重要です。他のビットは非クリティカルです。 31より大きい割り当てビットが実装で特別な支援を必要とするかもしれません。 FASTオプションの割り当ては、標準アクションが必要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      Type    Name                   Description
     -------------------------------------------------------------------
      0     RESERVED               Reserved for future expansion of this
                                   field.
      1     hide-client-names      Requesting the KDC to hide client
                                   names in the KDC response
      16    kdc-follow-referrals   Reserved.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
8.セキュリティの考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The kdc-referrals option in the Kerberos FAST padata requests the KDC to act as the client to follow referrals. This can overload the KDC. To limit the damages of denial of service using this option, KDCs MAY restrict the number of simultaneous active requests with this option for any given client principal.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ケルベロスFAST PADATAでKDC-紹介オプションは、KDCが紹介を追跡するためのクライアントとして動作するように要求します。これは、KDCをオーバーロードすることができます。このオプションを使用してサービス拒否の損害賠償を制限するには、のKDCは、任意のクライアント元本に対してこのオプションと同時にアクティブな要求の数を制限することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Regarding the facilities provided by the Encrypted Challenge FAST factor, the challenge key is derived from the client secrets and because the client secrets are known only to the client and the KDC, the verification of the EncryptedChallenge structure proves the client&#39;s identity, the verification of the EncryptedChallenge structure in the KDC reply proves that the expected KDC responded. Therefore, the Encrypted Challenge FAST factor as a pre-authentication mechanism offers the following facilities: Client Authentication and KDC Authentication. There is no un-authenticated cleartext introduced by the Encrypted Challenge FAST factor.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
暗号化されたチャレンジFAST要因によって提供される機能については、チャレンジ鍵はクライアントの秘密から導出され、クライアントの秘密は唯一のクライアントとKDCに知られているので、EncryptedChallenge構造の検証は、クライアントの身元を証明し、検証KDC応答でEncryptedChallenge構造が予想されるKDCが応答したことを証明しています。クライアント認証とKDC認証：したがって、事前認証機構として暗号化されたチャレンジFASTの要因は、次の設備を提供しています。暗号化されたチャレンジFAST要因によって導入なし認証されていないクリアテキストはありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
FAST provides an encrypted tunnel over which pre-authentication conversations can take place. In addition, FAST optionally authenticates the KDC to the client. It is the responsibility of FAST factors to authenticate the client to the KDC. Care MUST be taken to design FAST factors such that they are bound to the conversation. If this is not done, a man-in-the-middle may be able to cut&amp;paste a FAST factor from one conversation to another. The easiest way to do this is to bind each FAST factor to the armor key that is guaranteed to be unique for each conversation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FASTは、事前認証会話が起こり得る上で暗号化トンネルを提供します。また、FAST、必要に応じてクライアントにKDCを認証します。 KDCにクライアントを認証するためにFAST要因の責任です。ケアは、彼らが会話にバインドされるようにFAST要因を設計するために取らなければなりません。これを行わない場合、のman-in-the-middleは別の会話からFAST要因をカット＆ペーストすることができるかもしれません。これを行う最も簡単な方法は、各会話のために一意であることが保証された鎧キーにそれぞれFAST要因をバインドすることです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The anonymous PKINIT mode for obtaining an armor ticket does not always authenticate the KDC to the client before the conversation begins. Tracking the KDC verified state guarantees that by the end of the conversation, the client has authenticated the KDC. However, FAST factor designers need to consider the implications of using their factor when the KDC has not yet been authenticated. If this proves problematic in an environment, then the particular FAST factor should not be used with anonymous PKINIT.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
会話が始まる前に鎧チケットを取得するための匿名PKINITモードは常にクライアントにKDCを認証しません。 KDC検証状態の保証を追跡会話の終了により、クライアントはKDCを認証したこと。しかし、FAST要因設計者は、KDCがまだ認証されていない場合、その要因を使用することの影響を考慮する必要があります。これは環境に問題があることが判明した場合、その後、特定のFASTの要因は、匿名PKINITを使用すべきではありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Existing pre-authentication mechanisms are believed to be at least as secure when used with FAST as they are when used outside of FAST.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
FASTの外で使用される場合、それらは同じ速さで使用した場合、既存の事前認証メカニズムは、少なくともとして安全であると考えられています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
One part of this security is making sure that when pre-authentication methods checksum the request, they checksum the inner request rather than the outer request. If the mechanism checksummed the outer request, a man-in-the-middle could observe it outside a FAST tunnel and then cut&amp;paste it into a FAST exchange where the inner rather than outer request would be used to select attributes of the issued ticket. Such attacks would typically invalidate auditing information or create a situation where the client and KDC disagree about what ticket is issued. However, such attacks are unlikely to allow an attacker who would not be able to authenticate as a principal to do so. Even so, FAST is believed to defend against these attacks in existing legacy mechanism. However, since there is no standard for how legacy mechanisms bind the request to the pre-authentication or provide integrity protection, security analysis can be difficult. In some cases, FAST may significantly improve the integrity protection of legacy mechanisms.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このセキュリティの一部が確認していることの事前認証方法のチェックサム要求、彼らチェックサム内側の要求ではなく、外側のリクエスト。メカニズムは、外側のリクエストをチェックサムした場合、のman-in-the-middleはFASTトンネルの外にそれを観察して、FASTの交換にそれをカット＆ペーストすることができどこの内側ではなく外側の要求が発行されたチケットの属性を選択するために使用されるだろう。このような攻撃は、一般的に監査情報を無効またはクライアントとKDCが発行されているものチケットについての同意状況を作成します。しかし、このような攻撃は、そうすることを主たるとして認証することができないであろう攻撃を許可する可能性は低いです。そうであっても、FAST既存のレガシー・メカニズムでこれらの攻撃を防御すると考えられています。従来のメカニズムは、事前認証に要求を結合するか、または完全性保護を提供する方法には標準が存在しないので、セキュリティ分析が困難な場合があります。いくつかのケースでは、FAST大幅レガシーメカニズムの完全性保護を改善することがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The security of the TGS exchange depends on authenticating the client to the KDC. In the AS exchange, this is done using pre-authentication data or FAST factors. In the TGS exchange, this is done by presenting a TGT and by using the session (or sub-session) key in constructing the request. Because FAST uses a request body in the inner request, encrypted in the armor key, rather than the request body in the outer request, it is critical that establishing the armor key be tied to the authentication of the client to the KDC. If this is not done, an attacker could manipulate the options requested in the TGS request, for example, requesting a ticket with different validity or addresses. The easiest way to bind the armor key to the authentication of the client to the KDC is for the armor key to depend on the sub-session key of the TGT. This is done with the implicit TGS armor supported by this specification. Future armor types designed for use with the TGS MUST either bind their armor keys to the TGT or provide another mechanism to authenticate the client to the KDC.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
TGS交換のセキュリティは、KDCにクライアントの認証に依存します。 AS交換では、これは事前認証データまたはFAST因子を用いて行われます。 TGS交換では、これはTGTを提示することによって、セッション（またはサブセッション）要求を構築する上でキーを使用して行われます。 FASTはなく、外のリクエストのリクエストボディよりも装甲キーで暗号化された内部要求、でリクエストボディを使用しているので、鎧キーを確立することがKDCへのクライアントの認証に接続することが重要です。これを行わない場合、攻撃者は、別の妥当性やアドレスとチケットを要求、例えば、TGS要求で要求されたオプションを操作できます。鎧キーがTGTのサブセッション・キーに依存するためにKDCへのクライアントの認証に鎧のキーをバインドする最も簡単な方法です。これは、この仕様でサポートされている暗黙のTGSの鎧で行われます。 TGSで使用するために設計された将来の鎧の種類はTGTに彼らの鎧キーを結合するか、またはKDCにクライアントを認証するための別のメカニズムを提供する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9. Acknowledgements
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
9.謝辞
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Sam Hartman would like to thank the MIT Kerberos Consortium for its funding of his time on this project.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
サム・ハートマンは、このプロジェクトの自分の時間の資金調達のためにMIT Kerberosのコンソーシアムに感謝したいと思います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Several suggestions from Jeffrey Hutzelman based on early revisions of this documents led to significant improvements of this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
このドキュメントの初期の改正に基づき、ジェフリーHutzelmanからいくつかの提案は、この文書の大幅な改善につながりました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
The proposal to ask one KDC to chase down the referrals and return the final ticket is based on requirements in [CROSS].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
紹介を追いかけると、最終的なチケットを返すために1 KDCを依頼する提案が[CROSS]における要件に基づいています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Joel Weber had a proposal for a mechanism similar to FAST that created a protected tunnel for Kerberos pre-authentication.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ジョエル・ウェーバーは、Kerberos事前認証のために保護されたトンネルを作成したFASTと同様のメカニズムのための提案を持っていました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Srinivas Cheruku and Greg Hudson provided valuable review comments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
スリニバスCherukuとグレッグ・ハドソンは、貴重なレビューコメントを提供しました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.1。引用規格
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC2119]ブラドナーの、S.、 &#34;要件レベルを示すためにRFCsにおける使用のためのキーワード&#34;、BCP 14、RFC 2119、1997年3月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3961] Raeburn, K., &#34;Encryption and Checksum Specifications for Kerberos 5&#34;, RFC 3961, February 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC3961]レイバーン、K.、 &#34;暗号化とケルベロス5チェックサムの仕様&#34;、RFC 3961、2005年2月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120] Neuman, C., Yu, T., Hartman, S., and K. Raeburn, &#34;The Kerberos Network Authentication Service (V5)&#34;, RFC 4120, July 2005.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4120]ノイマン、C.、ゆう、T.、ハルトマン、S.、およびK.レイバーン、 &#34;ケルベロスネットワーク認証サービス（V5）&#34;、RFC 4120、2005年7月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4556] Zhu, L. and B. Tung, &#34;Public Key Cryptography for Initial Authentication in Kerberos (PKINIT)&#34;, RFC 4556, June 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
&#34;ケルベロス（PKINIT）における初期認証のための公開鍵暗号&#34; [RFC4556]朱、L.とB.桐、RFC 4556、2006年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5226] Narten, T. and H. Alvestrand, &#34;Guidelines for Writing an IANA Considerations Section in RFCs&#34;, BCP 26, RFC 5226, May 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC5226] Narten氏、T.とH. Alvestrand、 &#34;RFCsにIANA問題部に書くためのガイドライン&#34;、BCP 26、RFC 5226、2008年5月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC6112] Zhu, L., Leach, P., and S. Hartman &#34;Anonymity Support for Kerberos&#34;, RFC 6112, April 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC6112]朱、L.、リーチ、P.、およびS.ハートマン &#34;Kerberosの匿名性のサポート&#34;、RFC 6112、2011年4月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
10.2。参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[ALG-AGILITY] Astrand, L. and L. Zhu, &#34;PK-INIT algorithm agility&#34;, Work in Progress, August 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[ALG-AGILITY] Astrand、L.およびL.朱、 &#34;PK-INITアルゴリズムの俊敏性&#34;、進歩、2008年8月の作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[CROSS] Sakane, S., Zrelli, S., and M. Ishiyama , &#34;Problem statement on the cross-realm operation of Kerberos in a specific system&#34;, Work in Progress, July 2007.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[CROSS]坂根、S.、Zrelli、S.、およびM.石山、「特定のシステムでのKerberosのクロスレルムオペレーション上の問題声明」、進歩、2007年7月の作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[EKE] Bellovin, S. and M. Merritt, &#34;Augmented Encrypted Key Exchange: A Password-Based Protocol Secure Against Dictionary Attacks and Password File Compromise, Proceedings of the 1st ACM Conference on Computer and Communications Security, ACM Press.&#34;, November 1993.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[EKE] Bellovin氏、S.とM.メリット、「増補暗号化鍵交換：パスワードベースのプロトコルは、辞書攻撃およびパスワード・ファイルの妥協に反対コンピュータおよび通信セキュリティ上の第一ACM会議、ACMプレスの議事録を固定します。」、11月には、 1993。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[HW-AUTH] Crawford, M., &#34;Passwordless Initial Authentication to Kerberos by Hardware Preauthentication&#34;, Work in Progress, October 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[HW-AUTH]クロフォード、M.、「ハードウェア事前認証によって、ケルベロスにパスワードなし初期認証」、進歩、2006年10月に作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[IEEE1363.2] IEEE, &#34;IEEE P1363.2: Password-Based Public-Key Cryptography&#34;, 2004.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[IEEE1363.2] IEEE、 &#34;IEEE P1363.2：パスワードベースの公開鍵暗号&#34;、2004年。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[KRB-WG.SAM] Hornstein, K., Renard, K., Neuman, C., and G. Zorn, &#34;Integrating Single-use Authentication Mechanisms with Kerberos&#34;, Work in Progress, July 2004.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[KRB-WG.SAM] Hornstein、 &#34;Kerberosのシングルユース認証メカニズムの統合&#34; K.、ルナール、K.、ニューマン、C.、およびG.ツォルン、進歩、2004年7月の作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[MS-KILE] Microsoft, &#34;Kerberos Protocol Extensions&#34;, &lt;http:// msdn.microsoft.com/en-us/library/cc206927.aspx&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[MS-カイル]マイクロソフト、 &#34;Kerberosのプロトコル拡張&#34;、&lt;のhttp：// msdn.microsoft.com/en-us/library/cc206927.aspx&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[OTP-PREAUTH] Richards, G., &#34;OTP Pre-authentication&#34;, Work in Progress, February 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[OTP-PREAUTH]リチャーズ、G.、 &#34;OTP認証前&#34;、進歩、2011年2月での作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[PK-INIT-1999] Tung, B., Neuman, C., Hur, M., Medvinsky, A., Medvinsky, S., Wray, J., and J. Trostle, &#34;Public Key Cryptography for Initial Authentication in Kerberos&#34;, Work in Progress, July 1999.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[PK-INIT-1999]桐、B.、ニューマン、C.、ハー、M.、Medvinsky、A.、Medvinsky、S.、レイ、J.、およびJ. Trostle、「公開鍵暗号方式における初期認証のためにケルベロス」、進歩、1999年7月での作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[PKU2U] Zhu, L., Altman, J., and N. Williams, &#34;Public Key Cryptography Based User-to-User Authentication - (PKU2U)&#34;, Work in Progress, November 2008.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[PKU2U]朱、L.、アルトマン、J.、およびN.ウィリアムズ、 &#34;公開鍵暗号ベースのユーザ・ツー・ユーザ認証 - （PKU2U）&#34;、進歩、2008年11月に作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[REFERRALS] Hartman, S., Ed., Raeburn, K., and L. Zhu, &#34;Kerberos Principal Name Canonicalization and KDC-Generated Cross-Realm Referrals&#34;, Work in Progress, March 2011.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[REFERRALS]ハートマン、S.、エド。、レイバーン、K.、およびL.朱、 &#34;Kerberosプリンシパル名の正規化とKDC-生成されたレルムの紹介&#34;、進歩、2011年3月に作業。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4557] Zhu, L., Jaganathan, K., and N. Williams, &#34;Online Certificate Status Protocol (OCSP) Support for Public Key Cryptography for Initial Authentication in Kerberos (PKINIT)&#34;, RFC 4557, June 2006.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[RFC4557]朱、L.、Jaganathan、K.、およびN.ウィリアムズ、 &#34;ケルベロス（PKINIT）における初期認証のための公開鍵暗号のためのオンライン証明書状態プロトコル（OCSP）のサポート&#34;、RFC 4557、2006年6月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Appendix A. Test Vectors for KRB-FX-CF2
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
KRB-FX-CF2付録A.テストベクトル
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
This informative appendix presents test vectors for the KRB-FX-CF2 function. Test vectors are presented for several encryption types. In all cases, the first key (k1) is the result of string-to-key(&#34;key1&#34;, &#34;key1&#34;, default_parameters) and the second key (k2) is the result of string-to-key(&#34;key2&#34;, &#34;key2&#34;, default_parameters). Both keys are of the same enctype. The presented test vector is the hexadecimal encoding of the key produced by KRB-FX-CF2(k1, k2, &#34;a&#34;, &#34;b&#34;). The peppers are one-octet ASCII strings.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
この有益な付録では、KRB-FX-CF2機能のためのテストベクトルを示しています。テストベクトルは、いくつかの暗号化タイプのために提示されています。全ての場合において、最初のキー（K1）は、文字列のキー（「KEY1」、「KEY1」、default_parameters）及び第2の鍵（K2）の結果である文字列のキー（「KEY2」の結果であります、 &#34;KEY2&#34;、default_parameters）。両方のキーが同じのenctypeです。提示されたテストベクトルがKRB-FX-CF2（K1、K2、 &#34;A&#34;、 &#34;B&#34;）によって生成鍵の進符号化です。ピーマンは1オクテットのASCII文字列です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
In performing interoperability testing, there was significant ambiguity surrounding [RFC3961] pseudo-random operations. These test vectors assume that the AES pseudo-random operation is aes-ecb(trunc128(sha-1(input))) where trunc128 truncates its input to 128 bits. The 3DES pseudo-random operation is assumed to be des3-cbc(trunc128(sha-1(input))). The DES pseudo-random operation is assumed to be des-cbc(md5(input)). As specified in RFC 4757, the RC4 pseudo-random operation is hmac-sha1(input).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
相互運用性テストを実行する際に、[RFC3961]の擬似ランダムの操作を囲む重要曖昧さがありました。これらテストベクトルは、AES擬似ランダム動作はAES-ECB（trunc128（SHA-1（入力）））trunc128 128ビット入力を切り捨てであると仮定する。 3DES擬似ランダム動作はDES3-CBC（trunc128（SHA-1（入力）））であると仮定されます。 DES擬似ランダム動作はDES-CBC（MD5（入力））であると仮定されます。 RFC 4757で指定されているように、RC4擬似ランダム動作はHMAC-SHA1（入力）です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Interoperability testing also demonstrated ambiguity surrounding the DES random-to-key operation. The random-to-key operation is assumed to be distribute 56 bits into high-7-bits of 8 octets and generate parity.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
相互運用性テストは、また、DESランダムにキー操作を取り巻く曖昧さを実証しました。ランダムにキー操作が8つのオクテットの高7ビットに56ビットを分配し、パリティを生成すると仮定されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
These test vectors were produced with revision 22359 of the MIT Kerberos sources. The AES 256 and AES 128 test vectors have been confirmed by multiple other implementors. The RC4 test vectors have been confirmed by one other implementor. The DES and triple DES test vectors have not been confirmed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
これらのテストベクトルは、MIT Kerberosのソースのリビジョン22359を用いて製造しました。 AES 256およびAES 128のテストベクトルは、他の複数の実装者によって確認されています。 RC4のテストベクトルは、一つの他の実装者が確認されています。 DES、トリプルDESのテストベクトルが確認されていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
aes 128 (enctype 17): 97df97e4b798b29eb31ed7280287a92a AES256 (enctype 18): 4d6ca4e629785c1f01baf55e2e548566 b9617ae3a96868c337cb93b5e72b1c7b DES (enctype 1): 43bae3738c9467e6 3DES (enctype 16): e58f9eb643862c13ad38e529313462a7f73e62834fe54a01 RC4 (enctype 23): 24d7f6b6bae4e5c00d2082c5ebab3672
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
AES 128（ENCTYPE 17）：97df97e4b798b29eb31ed7280287a92a AES256（ENCTYPE 18）：DES b9617ae3a96868c337cb93b5e72b1c7b 4d6ca4e629785c1f01baf55e2e548566（ENCTYPE 1）：43bae3738c9467e6 3DES（ENCTYPE 16）：e58f9eb643862c13ad38e529313462a7f73e62834fe54a01のRC4（ENCTYPE 23）：24d7f6b6bae4e5c00d2082c5ebab3672
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Appendix B. ASN.1 Module
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
付録B. ASN.1モジュール
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KerberosPreauthFramework {
            iso(1) identified-organization(3) dod(6) internet(1)
            security(5) kerberosV5(2) modules(4) preauth-framework(3)
      } DEFINITIONS EXPLICIT TAGS ::= BEGIN
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
IMPORTS KerberosTime, PrincipalName, Realm, EncryptionKey, Checksum, Int32, EncryptedData, PA-ENC-TS-ENC, PA-DATA, KDC-REQ-BODY, Microseconds, KerberosFlags, UInt32 FROM KerberosV5Spec2 { iso(1) identified-organization(3) dod(6) internet(1) security(5) kerberosV5(2) modules(4) krb5spec2(2) }; -- as defined in RFC 4120.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
輸入KerberosTime、のPrincipalName、レルム、EncryptionKey、チェックサム、のInt32、はEncryptedData、PA-ENC-TS-ENC、PA-DATA、KDC-REQ-BODY、マイクロ秒KerberosFlags、UInt32型KerberosV5Spec2 FROM {ISO（1）同定された組織（3 ）DOD（6）インターネット（1）セキュリティ（5）kerberosV5（2）モジュール（4）krb5spec2（2）}。 -  RFC 4120で定義されています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      PA-AUTHENTICATION-SET ::= SEQUENCE OF PA-AUTHENTICATION-SET-ELEM
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      PA-AUTHENTICATION-SET-ELEM ::= SEQUENCE {
          pa-type      [0] Int32,
              -- same as padata-type.
          pa-hint      [1] OCTET STRING OPTIONAL,
          pa-value     [2] OCTET STRING OPTIONAL,
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastArmor ::= SEQUENCE {
          armor-type   [0] Int32,
              -- Type of the armor.
          armor-value  [1] OCTET STRING,
              -- Value of the armor.
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      PA-FX-FAST-REQUEST ::= CHOICE {
          armored-data [0] KrbFastArmoredReq,
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastArmoredReq ::= SEQUENCE {
          armor        [0] KrbFastArmor OPTIONAL,
              -- Contains the armor that identifies the armor key.
              -- MUST be present in AS-REQ.
          req-checksum [1] Checksum,
              -- For AS, contains the checksum performed over the type
              -- KDC-REQ-BODY for the req-body field of the KDC-REQ
              -- structure;
              -- For TGS, contains the checksum performed over the type
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
 -- AP-REQ in the PA-TGS-REQ padata. -- The checksum key is the armor key, the checksum -- type is the required checksum type for the enctype of -- the armor key, and the key usage number is -- KEY_USAGE_FAST_REQ_CHKSUM. enc-fast-req [2] EncryptedData, -- KrbFastReq -- -- The encryption key is the armor key, and the key usage -- number is KEY_USAGE_FAST_ENC. ... }
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
 -  PA-TGS-REQのPADATAにおけるAP-REQ。 - タイプのENCTYPEに必要なチェックサムタイプである -   - 装甲キー、およびキー使用数である -  KEY_USAGE_FAST_REQ_CHKSUMチェックサムキーは、装甲キー、チェックサムです。 ENC-FAST-REQ [2]はEncryptedData、 -  KrbFastReq  -   - 暗号化キーは、鎧キー、キーの使用である - 数がKEY_USAGE_FAST_ENCです。 ...}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastReq ::= SEQUENCE {
          fast-options [0] FastOptions,
              -- Additional options.
          padata       [1] SEQUENCE OF PA-DATA,
              -- padata typed holes.
          req-body     [2] KDC-REQ-BODY,
              -- Contains the KDC request body as defined in Section
              -- 5.4.1 of [RFC4120].
              -- This req-body field is preferred over the outer field
              -- in the KDC request.
           ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      FastOptions ::= KerberosFlags
          -- reserved(0),
          -- hide-client-names(1),
          -- kdc-follow-referrals(16)
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      PA-FX-FAST-REPLY ::= CHOICE {
          armored-data [0] KrbFastArmoredRep,
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastArmoredRep ::= SEQUENCE {
          enc-fast-rep      [0] EncryptedData, -- KrbFastResponse --
              -- The encryption key is the armor key in the request, and
              -- the key usage number is KEY_USAGE_FAST_REP.
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastResponse ::= SEQUENCE {
          padata         [0] SEQUENCE OF PA-DATA,
              -- padata typed holes.
          strengthen-key [1] EncryptionKey OPTIONAL,
              -- This, if present, strengthens the reply key for AS and
              -- TGS.  MUST be present for TGS
              -- MUST be absent in KRB-ERROR.
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
 finished [2] KrbFastFinished OPTIONAL, -- Present in AS or TGS reply; absent otherwise. nonce [3] UInt32, -- Nonce from the client request. ... }
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
[2]、OPTIONAL KrbFastFinished終了 -  AS又はTGS応答で現在;それ以外の場合は不在。ナンス[3] UInt32型、 - クライアント要求からナンス。 ...}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      KrbFastFinished ::= SEQUENCE {
          timestamp       [0] KerberosTime,
          usec            [1] Microseconds,
              -- timestamp and usec represent the time on the KDC when
              -- the reply was generated.
          crealm          [2] Realm,
          cname           [3] PrincipalName,
              -- Contains the client realm and the client name.
          ticket-checksum [4] Checksum,
              -- checksum of the ticket in the KDC-REP  using the armor
              -- and the key usage is KEY_USAGE_FAST_FINISH.
              -- The checksum type is the required checksum type
              -- of the armor key.
          ...
      }
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
      EncryptedChallenge ::= EncryptedData
              -- Encrypted PA-ENC-TS-ENC, encrypted in the challenge key
              -- using key usage KEY_USAGE_ENC_CHALLENGE_CLIENT for the
              -- client and KEY_USAGE_ENC_CHALLENGE_KDC for the KDC.
      END
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Authors&#39; Addresses
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Sam Hartman Painless Security
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
サム・ハートマン無痛セキュリティ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
EMail: hartmans-ietf@mit.edu
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メールアドレス：hartmans-ietf@mit.edu
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
Larry Zhu Microsoft Corporation One Microsoft Way Redmond, WA 98052 US
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
ラリー朱マイクロソフト社1マイクロソフト道、レッドモンド、ワシントン98052米国
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text">
EMail: larry.zhu@microsoft.com
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text">
メールアドレス：larry.zhu@microsoft.com
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
