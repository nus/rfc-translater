<!DOCTYPE html>

<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>RFC 7383 - Internet Key Exchange Protocol Version 2 (IKEv2) Message Fragmentation 日本語訳</title>

  <link rel="shortcut icon" type="image/x-icon"
    href="https://tex2e.github.io/rfc-translater/favicon.ico" />

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

  <link rel="stylesheet" href="master.css">
  <script src="index.js"></script>

  <script>
    var host = window.location.hostname;
    if (host != "localhost") {
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-75892425-1', 'auto');
      ga('send', 'pageview');
    }
  </script>

</head>
<body>
  <nav class="navbar navbar-expand navbar-light bg-light">
    <a class="navbar-brand" href="index.html">RFC Trans</a>
    <div class="collapse navbar-collapse" id="navbarText">
      <div class="navbar-nav mr-auto">
        <a class="nav-item nav-link" href="privacy-policy.html">Privacy Policy</a>
        <a class="nav-item nav-link" href="contact.html">Contact</a>
      </div>
      <div class="navbar-nav ml-auto">
        <span class="navbar-text"><small>@tex2e</small></span>
      </div>
    </div>
  </nav>

  <span id="rfc_number" class="hidden">7383</span>
  <div style="height: 1ex;"></div>
  <div class="container">
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <div class="alert alert-info" role="alert">
          <h4 class="alert-heading">RFC 7383 - Internet Key Exchange Protocol Version 2 (IKEv2) Message Fragmentation 日本語訳</h4>
          <span class="URL">URL :
            <a href="https://tools.ietf.org/html/rfc7383">
              https://tools.ietf.org/html/rfc7383
            </a>
          </span><br>
          <span class="title_ja">
            タイトル : <strong>RFC 7383 - インターネット鍵交換プロトコルバージョン2（IKEv2の）メッセージの断片</strong></span><br>
          <span class="updated_by">翻訳編集 : 自動生成</span><br>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
Internet Engineering Task Force (IETF)                        V. Smyslov
Request for Comments: 7383                                    ELVIS-PLUS
Category: Standards Track                                  November 2014
ISSN: 2070-1721
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-1">
Internet Key Exchange Protocol Version 2 (IKEv2) Message Fragmentation
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-1">
インターネット鍵交換プロトコルバージョン2（IKEv2の）メッセージの断片
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Abstract
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
抽象
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document describes a way to avoid IP fragmentation of large Internet Key Exchange Protocol version 2 (IKEv2) messages. This allows IKEv2 messages to traverse network devices that do not allow IP fragments to pass through.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書では、大規模なインターネット鍵交換プロトコルバージョン2（IKEv2の）メッセージのIP断片化を回避する方法を説明します。これは、IKEv2のメッセージは、IPフラグメントが通過することはできませんネットワークデバイスを横断することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Status of This Memo
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
このメモのステータス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This is an Internet Standards Track document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、インターネット標準化過程文書です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is a product of the Internet Engineering Task Force (IETF). It represents the consensus of the IETF community. It has received public review and has been approved for publication by the Internet Engineering Steering Group (IESG). Further information on Internet Standards is available in Section 2 of RFC 5741.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントはインターネットエンジニアリングタスクフォース（IETF）の製品です。これは、IETFコミュニティの総意を表しています。これは、公開レビューを受けており、インターネットエンジニアリング運営グループ（IESG）によって公表のために承認されています。インターネット標準の詳細については、RFC 5741のセクション2で利用可能です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Information about the current status of this document, any errata, and how to provide feedback on it may be obtained at http://www.rfc-editor.org/info/rfc7383.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このドキュメントの現在の状態、任意の正誤表、そしてどのようにフィードバックを提供するための情報がhttp://www.rfc-editor.org/info/rfc7383で取得することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Copyright Notice
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著作権表示
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Copyright (c) 2014 IETF Trust and the persons identified as the document authors. All rights reserved.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
著作権（C）2014 IETF信託とドキュメントの作成者として特定の人物。全著作権所有。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document is subject to BCP 78 and the IETF Trust&#39;s Legal Provisions Relating to IETF Documents (http://trustee.ietf.org/license-info) in effect on the date of publication of this document. Please review these documents carefully, as they describe your rights and restrictions with respect to this document. Code Components extracted from this document must include Simplified BSD License text as described in Section 4.e of the Trust Legal Provisions and are provided without warranty as described in the Simplified BSD License.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書では、BCP 78と、この文書の発行日に有効なIETFドキュメント（http://trustee.ietf.org/license-info）に関連IETFトラストの法律の規定に従うものとします。彼らは、この文書に関してあなたの権利と制限を説明するように、慎重にこれらの文書を確認してください。コードコンポーネントは、トラスト法規定のセクションで説明4.eおよび簡体BSDライセンスで説明したように、保証なしで提供されているよう簡体BSDライセンスのテキストを含める必要があり、この文書から抽出されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Table of Contents
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
目次
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   1. Introduction ....................................................2
      1.1. Problem Description ........................................2
      1.2. Proposed Solution ..........................................3
      1.3. Conventions Used in This Document ..........................4
   2. Protocol Details ................................................4
      2.1. Overview ...................................................4
      2.2. Limitations ................................................4
      2.3. Negotiation ................................................5
      2.4. Using IKE Fragmentation ....................................5
      2.5. Fragmenting Message ........................................6
           2.5.1. Selecting Fragment Size .............................8
           2.5.2. PMTU Discovery ......................................9
           2.5.3. Fragmenting Messages Containing Unprotected
                  Payloads ...........................................11
      2.6. Receiving IKE Fragment Message ............................11
           2.6.1. Replay Detection and Retransmissions ...............13
   3. Interaction with Other IKE Extensions ..........................14
   4. Transport Considerations .......................................14
   5. Security Considerations ........................................15
   6. IANA Considerations ............................................16
   7. References .....................................................16
      7.1. Normative References ......................................16
      7.2. Informative References ....................................16
   Appendix A. Design Rationale ......................................19
   Appendix B. Correlation between IP Datagram Size and Encrypted
               Payload Content Size ..................................19
   Acknowledgements ..................................................20
   Author&#39;s Address ..................................................20
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. Introduction
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1. はじめに
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1. Problem Description
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.1. 問題の説明
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Internet Key Exchange Protocol version 2 (IKEv2), specified in [RFC7296], uses UDP as a transport for its messages. Most IKEv2 messages are relatively small, usually below several hundred bytes. A notable exception is the IKE_AUTH exchange, which requires fairly large messages, up to several KB, especially when certificates are transferred. When the IKE message size exceeds the path MTU, it gets fragmented at the IP level. The problem is that some network devices, specifically some NAT boxes, do not allow IP fragments to pass through. This apparently blocks IKE communication and, therefore, prevents peers from establishing an IPsec Security Association (SA). Section 2 of [RFC7296] discusses the impact of IP fragmentation on IKEv2 and acknowledges this problem.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296]で指定されたインターネット鍵交換プロトコルバージョン2（IKEv2のは）、そのメッセージのトランスポートとしてUDPを使用しています。ほとんどのIKEv2メッセージは、通常は数百バイト以下で、比較的小さいです。注目すべき例外は、証明書が転送されている場合は特に、いくつかのKBまで、かなり大きなメッセージを必要とIKE_AUTH交換、です。 IKEメッセージのサイズがパスMTUを超えた場合には、IPレベルでフラグメント化されます。問題は、一部のネットワークデバイスは、具体的にいくつかのNATボックスは、IPフラグメントを通過させないということです。これは明らかにブロックIKE通信と、そのため、IPSec Security Association（SA）を確立するピアを防ぐことができます。 [RFC7296]のセクション2のIKEv2のIPフラグメンテーションの影響を説明し、この問題を認めています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Widespread deployment of Carrier-Grade NATs (CGNs) introduces new challenges. [RFC6888] describes requirements for CGNs. It states that CGNs must comply with Section 11 of [RFC4787], which requires NATs to support receiving IP fragments (REQ-14). In real life, fulfillment of this requirement creates an additional burden in terms of memory, especially for high-capacity devices used in CGNs. It was found by people deploying IKE that more and more ISPs use equipment that drops IP fragments, thereby violating this requirement.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
キャリアグレードNATの（CGNを）の広範な展開が新たな課題を紹介します。 [RFC6888]はCGNをするための要件について説明します。これは、CGNをが受信IPフラグメント（REQ-14）をサポートするためのNATを必要とする[RFC4787]のセクション11を遵守しなければならないことを述べています。実生活では、この要件を満たすことが特にCGNをで使用される大容量のデバイスのために、メモリの観点で追加負担を作成します。それは、より多くのISPが、それによってこの要件に違反し、IPフラグメントをドロップ機器を使用することIKEを展開人々によって発見されました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Security researchers have found, and continue to find, attack vectors that rely on IP fragmentation. For these reasons, and also as articulated in [FRAGDROP], many network operators filter all IPv6 fragments. Also, the default behavior of many currently deployed firewalls is to discard IPv6 fragments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
セキュリティ研究者が発見し、IPフラグメンテーションに依存している、攻撃ベクトルを見つけるために続けています。 [FRAGDROP]での関節としてこれらの理由から、また、多くのネットワークオペレータは、すべてのIPv6フラグメントをフィルタリングします。また、多くの現在展開ファイアウォールのデフォルトの動作は、IPv6フラグメントを破棄することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In one recent study [BLACKHOLES], two researchers utilized a measurement network to measure fragment filtering. They sent packets, fragmented to the minimum MTU of 1280, to 502 IPv6-enabled and reachable probes. They found that during any given trial period, ten percent of the probes did not receive fragmented packets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
最近の研究[ブラックホール]において、2人の研究者は、フラグメントフィルタリングを測定するための測定回路網を利用しました。彼らは、502 IPv6対応及び到達可能なプローブと1280の最小MTUにフラグメント化されたパケットを、送信されました。彼らは、任意の試用期間中、プローブの10％が断片化されたパケットを受信しなかったことがわかりました。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Thus, this problem is valid for both IPv4 and IPv6 and may be caused by either deficiency of network devices or operational choice.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
したがって、この問題は、IPv4とIPv6の両方のために有効であり、ネットワーク機器や運用の選択肢のいずれかの欠乏によって引き起こされることがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.2. Proposed Solution
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.2. 提案されたソリューション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The solution to the problem described in this document is to perform fragmentation of large messages by IKEv2 itself and replace them with a series of smaller messages. In this case, the resulting IP datagrams will be small enough so that no fragmentation at the IP level will take place.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書で説明する問題を解決するには、IKEv2のそれ自体で大きなメッセージの断片化を行い、より小さな一連のメッセージに置き換えることです。 IPレベルでは断片化が行われませんように、この場合、結果としてIPデータグラムは十分に小さくなります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The primary goal of this solution is to allow IKEv2 to operate in environments that might block IP fragments. This goal does not assume that IP fragmentation should be avoided completely, but only in those cases when it interferes with IKE operations. However, this solution could be used to avoid IP fragmentation in all situations where fragmentation within IKE is applicable, as recommended in Section 3.2 of [RFC5405]. Avoiding IP fragmentation would be beneficial for IKEv2 in general. The Security Considerations section of [RFC7296] mentions exhaustion of the IP reassembly buffers as one of the possible attacks on the protocol. In [DOSUDPPROT], several aspects of attacks on IKE using IP fragmentation are discussed, and one of the defenses it proposes is to perform fragmentation within IKE, similar to the solution described in this document.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
このソリューションの主な目的は、IKEv2のは、IPフラグメントをブロックする可能性があります環境で動作できるようにすることです。この目標は、IPフラグメンテーションを完全に避けるべきであることを前提としていませんが、それはIKE操作を妨げるケースのみでとき。しかし、この解決策は、[RFC5405]のセクション3.2で推奨されているようにIKE内の断片化が、適用されるすべての状況でIP断片化を避けるために使用することができます。 IP断片化を回避することは、一般的にはIKEv2のために有益であろう。 [RFC7296]のSecurity Considerations部は、プロトコル上の攻撃の可能性の一つとして、IP再アセンブリバッファの枯渇を言及しています。 【DOSUDPPROT]において、IPフラグメンテーションを使用してIKEへの攻撃のいくつかの態様が議論され、それが提案されている防御の一つは、この文書で説明するソリューションと同様IKE内の断片化を実行することです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3. Conventions Used in This Document
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
1.3. このドキュメントの表記規則
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The key words &#34;MUST&#34;, &#34;MUST NOT&#34;, &#34;REQUIRED&#34;, &#34;SHALL&#34;, &#34;SHALL NOT&#34;, &#34;SHOULD&#34;, &#34;SHOULD NOT&#34;, &#34;RECOMMENDED&#34;, &#34;MAY&#34;, and &#34;OPTIONAL&#34; in this document are to be interpreted as described in [RFC2119].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書のキーワード &#34;MUST&#34;、 &#34;MUST NOT&#34;、 &#34;REQUIRED&#34;、、、、 &#34;べきではない&#34; &#34;べきである&#34; &#34;ないもの&#34; &#34;ものとし&#34;、 &#34;推奨&#34;、 &#34;MAY&#34;、および &#34;OPTIONAL&#34; はあります[RFC2119]に記載されているように解釈されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2. Protocol Details
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.プロトコルの詳細
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. Overview
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.1. 概要
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The idea of the protocol described in this document is to split large IKEv2 messages into a set of smaller ones, called IKE Fragment messages. Fragmentation takes place before the original message is encrypted and authenticated, so that each IKE Fragment message receives individual protection. On the receiving side, IKE Fragment messages are collected, verified, decrypted, and merged together to get the original message before encryption. See Appendix A for details on design rationale.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書に記載されているプロトコルのアイデアは小さいもののセットに大型のIKEv2メッセージを分割することです、IKEフラグメントメッセージと呼ばれます。元のメッセージが暗号化および認証される前に、各IKEフラグメントメッセージは、個々の保護を受けるように断片化は、行われます。受信側では、IKEフラグメントメッセージを集め、検証し、復号化し、暗号化の前に、元のメッセージを取得するために一緒にマージされます。設計根拠の詳細については、付録Aを参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. Limitations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.2. 制限事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Since IKE Fragment messages are cryptographically protected, SK_a and SK_e must already be calculated. In general, it means that the original message can be fragmented if and only if it contains an Encrypted payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメントメッセージが暗号で保護されているので、SK_AとSK_eは、すでに計算されなければなりません。一般的には、元のメッセージが暗号化されたペイロードを含む場合にのみ断片化することができることを意味します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This implies that messages of the IKE_SA_INIT exchange cannot be fragmented. In most cases, this is not a problem because IKE_SA_INIT messages are usually small enough to avoid IP fragmentation. But in some cases (advertising a badly structured long list of algorithms, using large Modular Exponentiation (MODP) groups, etc.), these messages may become fairly large and get fragmented at the IP level. In this case, the solution described in this document will not help.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、IKE_SA_INIT交換のメッセージが断片化することができないことを意味します。 IKE_SA_INITメッセージは通常、IP断片化を回避するのに十分に小さいので、ほとんどの場合、これは問題ではありません。しかし、（大べき乗剰余（MODP）グループなどを使用して、アルゴリズムの悪い構造の長いリストを公示）いくつかのケースでは、これらのメッセージは、かなり大きくなる可能性がありとIPレベルで断片化し得ます。この場合には、この文書で説明するソリューションは助けにはなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Among existing IKEv2 extensions, messages of an IKE_SESSION_RESUME exchange, as defined in [RFC5723], cannot be fragmented either. See Section 3 for details.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
既存のIKEv2の拡張機能のうち、IKE_SESSION_RESUME交換のメッセージは、[RFC5723]で定義されるように、いずれかの断片化することができません。詳細については、第3節を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Another limitation is that the minimum size of an IP datagram bearing an IKE Fragment message is about 100 bytes, depending on the algorithms employed. According to [RFC0791], the minimum IPv4 datagram size that is guaranteed not to be further fragmented is 68 bytes. So, even the smallest IKE Fragment messages could be fragmented at the IP level in some circumstances. But such extremely small Path MTU (PMTU) sizes are very rare in real life.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
別の制限は、IKEフラグメントメッセージを担持するIPデータグラムの最小サイズは、使用するアルゴリズムに依存して、約100バイトであるということです。 [RFC0791]によれば、さらに断片化しないことが保証される最小のIPv4データグラムのサイズは68バイトです。だから、でも最小のIKEフラグメントメッセージは、いくつかの状況ではIPレベルでフラグメント化することができます。しかし、このような非常に小さいパスMTU（PMTU）のサイズは、実際の生活の中で非常に稀です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3. Negotiation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.3. ネゴシエーション
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator indicates its support for IKE fragmentation and willingness to use it by including a Notification payload of type IKEV2_FRAGMENTATION_SUPPORTED in the IKE_SA_INIT request message. If the responder also supports this extension and is willing to use it, it includes this notification in the response message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエータは、IKEフラグメンテーションおよびIKE_SA_INIT要求メッセージ内のタイプIKEV2_FRAGMENTATION_SUPPORTEDの通知ペイロードを含むことによって、それを使用する意思のサポートを示しています。レスポンダはまた、この拡張機能をサポートしており、それを使用して喜んでいる場合は、応答メッセージに、この通知を含んでいます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
   Initiator                   Responder
   -----------                 -----------
   HDR, SAi1, KEi, Ni,
      [N(IKEV2_FRAGMENTATION_SUPPORTED)]  --&gt;
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                       &lt;--   HDR, SAr1, KEr, Nr, [CERTREQ],
                                  [N(IKEV2_FRAGMENTATION_SUPPORTED)]
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Notify payload is formatted as follows:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次のように通知ペイロードがフォーマットされます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |Protocol ID(=0)| SPI Size (=0) |      Notify Message Type      |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Protocol ID (1 octet) - MUST be 0.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
OプロトコルID（1つのオクテット） -  0でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o SPI Size (1 octet) - MUST be 0, meaning no Security Parameter Index (SPI) is present.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O SPIサイズ（1つのオクテット） - 何のセキュリティパラメータインデックス（SPI）が存在しないことを意味、0でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Notify Message Type (2 octets) - MUST be 16430, the value assigned for the IKEV2_FRAGMENTATION_SUPPORTED notification.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oメッセージタイプ（2オクテット）を通知 -  IKEV2_FRAGMENTATION_SUPPORTED通知に割り当てられた値、16430でなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This notification contains no data.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この通知は、データは含まれていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.4. Using IKE Fragmentation
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.4.  IKEの断片化を使用します
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE fragmentation MUST NOT be used unless both peers have indicated their support for it. After that, it is up to the initiator of each exchange to decide whether or not to use it. The responder usually replies in the same form as the request message, but other considerations might override this.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
両方のピアがそれのために彼らの支持を表明していない限り、IKEの断片化を使用してはいけません。その後、それはそれを使用するかどうかを決定するために、各エクスチェンジのイニシエータまでです。レスポンダは通常、要求メッセージと同じ形式で返信が、他の考慮事項は、これを上書きすることがあります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The initiator can employ various policies regarding the use of IKE fragmentation. It might first try to send an unfragmented message and resend it as fragmented only if no complete response is received even after several retransmissions. Alternatively, it might choose to always send fragmented messages (however, see Section 3), or it might fragment only large messages and messages that are expected to result in large responses.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
イニシエータは、IKEの断片化の使用に関する様々な政策を採用することができます。これは、最初の断片化されていないメッセージを送信しようと断片化として何の完全な応答がさらに数再送信後に受信されていない場合にのみ、それを再送信することがあります。また、それは常に断片化されたメッセージを送信することもできます（ただし、セクション3を参照）、またはそれだけで大きなメッセージと大きな応答をもたらすことが期待されているメッセージを断片化する可能性があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following general guidelines apply:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の一般的なガイドラインが適用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If either peer has information that a part of the transaction is likely to be fragmented at the IP layer, causing interference with the IKE exchange, that peer SHOULD use IKE fragmentation. This information might be passed from a lower layer, provided by configuration, or derived through heuristics. Examples of heuristics are the lack of a complete response after several retransmissions for the initiator, and receiving repeated retransmissions of the request for the responder.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
いずれかのピアがトランザクションの一部は、IKE交換と干渉を引き起こす、IPレイヤでフラグメント化される可能性があるという情報を持っている場合は、O、そのピアは、IKE断片化を使用すべきです。この情報は、構成によって提供される、下位レイヤから渡された、または経験則を介して導出されるかもしれません。ヒューリスティックの例としては、開始剤のためのいくつかの再送信後に完全寛解の欠如、および応答の要求を繰り返し再送信を受信して​​います。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If either peer knows that IKE fragmentation has been used in a previous exchange in the context of the current IKE SA, that peer SHOULD continue to use IKE fragmentation for the messages that are larger than the current fragmentation threshold (see Section 2.5.1).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
いずれかのピアがIKEの断片化は、現在のIKE SAの文脈で前交換に使用されていることを知っている場合、そのピアが現在のフラグメンテーション閾値より大きいメッセージに対してIKEフラグメンテーションを使用し続けるべきO（セクション2.5.1を参照） 。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKE fragmentation SHOULD NOT be used in cases where IP-layer fragmentation of both the request and response messages is unlikely. For example, there is no point in fragmenting liveness check messages.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O IKEの断片化は、両方の要求メッセージと応答メッセージのIP層の断片化がほとんどありません例では使用しないでください。例えば、ライブネスチェックメッセージを断片化しても意味がありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If none of the above apply, the responder SHOULD respond in the same form (fragmented or not) as the request message to which it is responding. Note that the other guidelines might override this because of information or heuristics available to the responder.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記のいずれにも該当しない場合はO、レスポンダは、応答された要求メッセージとして（断片化されたか否か）と同じ形で応答する必要があります。他のガイドラインがあるため、レスポンダに入手可能な情報や経験則でこのメソッドをオーバーライドする場合があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In most cases, IKE fragmentation will be used in the IKE_AUTH exchange, especially if certificates are employed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ほとんどの場合、IKEの断片化は、証明書が使用されている場合は特に、IKE_AUTH交換に使用されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5. Fragmenting Message
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5. 断片化のメッセージ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Only messages that contain an Encrypted payload are subject to IKE fragmentation. For the purpose of construction of IKE Fragment messages, the original (unencrypted) content of the Encrypted payload is split into chunks. The content is treated as a binary blob and is split regardless of the boundaries of inner payloads. Each of the resulting chunks is treated as an original content of the Encrypted Fragment payload and is then encrypted and authenticated. Thus, the Encrypted Fragment payload contains a chunk of the original content of the Encrypted payload in encrypted form. The cryptographic processing of the Encrypted Fragment payload is identical to that described in Section 3.14 of [RFC7296], as well as documents updating such processing for particular algorithms or modes, such as [RFC5282].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号化されたペイロードを含むメッセージのみがIKEの断片化の対象となっています。 IKEフラグメントメッセージの構築のために、暗号化されたペイロードの元の（非暗号化）コンテンツをチャンクに分割されます。コンテンツは、バイナリブロブとして扱われ、内側ペイロードの境界とは無関係に分割されます。得られたチャンクのそれぞれは、暗号化されたフラグメントのペイロードのオリジナルコンテンツとして扱われ、その後、暗号化され、認証されます。したがって、暗号化フラグメントのペイロードは暗号化形式で暗号化されたペイロードのオリジナルコンテンツのチャンクを含んでいます。暗号化されたフラグメントのペイロードの暗号処理は、[RFC7296]のセクション3.14、ならびに[RFC5282]などの特定のアルゴリズムまたはモードのような処理を更新する文書に記載されたものと同じです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
As is the case for the Encrypted payload, the Encrypted Fragment payload, if present in a message, MUST be the last payload in the message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号化されたペイロードの場合のように、暗号化されたフラグメントのペイロードは、メッセージ中に存在する場合、メッセージの最後のペイロードでなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Encrypted Fragment payload is denoted SKF{...}, and its payload type is 53. This payload is also called the &#34;Encrypted and Authenticated Fragment&#34; payload.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
暗号化されたフラグメントのペイロードはSKF {...}で示され、そのペイロードタイプは53である。このペイロードは、「暗号化および認証されたフラグメント」ペイロードと呼ばれています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12">
        <pre class="text text-monospace">
                        1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   | Next Payload  |C|  RESERVED   |         Payload Length        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |        Fragment Number        |        Total Fragments        |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |                     Initialization Vector                     |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                      Encrypted content                        ~
   +               +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   |               |             Padding (0-255 octets)            |
   +-+-+-+-+-+-+-+-+                               +-+-+-+-+-+-+-+-+
   |                                               |  Pad Length   |
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
   ~                    Integrity Checksum Data                    ~
   +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
        </pre>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
Encrypted Fragment Payload
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-24">
暗号化されたフラグメントペイロード
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Next Payload (1 octet) - in the very first fragment (with Fragment Number equal to 1), this field MUST be set to the payload type of the first inner payload (the same as for the Encrypted payload). In the rest of the Fragment messages (with Fragment Number greater than 1), this field MUST be set to zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O次にペイロード（1オクテット）が - （1に等しいフラグメント番号を有する）は、非常に最初のフラグメントに、このフィールドは、第一の内側ペイロード（暗号化されたペイロードと同じ）のペイロードタイプに設定しなければなりません。 （フラグメント番号が1より大きいと）断片メッセージの残りの部分では、このフィールドはゼロに設定しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Fragment Number (2 octets, unsigned integer) - current Fragment message number, starting from 1. This field MUST be less than or equal to the next field (Total Fragments). This field MUST NOT be zero.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oフラグメント番号（2つのオクテットの符号なし整数） -  1から始まる現行断片メッセージ番号は、このフィールドには、次のフィールド（合計フラグメント）より小さいか等しくなければなりません。このフィールドはゼロであるはずがありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Total Fragments (2 octets, unsigned integer) - number of Fragment messages into which the original message was divided. This field MUST NOT be zero. With PMTU discovery, this field plays an additional role. See Section 2.5.2 for details.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O全フラグメント（2つのオクテットの符号なし整数） - 元のメッセージが分割された断片にメッセージの数。このフィールドはゼロであるはずがありません。 PMTU検出を使用すると、このフィールドには、追加的な役割を果たしています。詳細については、2.5.2項を参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The other fields are identical to those specified in Section 3.14 of [RFC7296].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
他のフィールドは、[RFC7296]のセクション3.14で指定されたものと同一です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When prepending the IKE header to the IKE Fragment messages, it MUST be taken intact from the original message, except for the Length and Next Payload fields. The Length field is adjusted to reflect the length of the IKE Fragment message being constructed, and the Next Payload field is set to the payload type of the first payload in that message (in most cases, it will be the Encrypted Fragment payload). After prepending the IKE header and all payloads that possibly precede the Encrypted payload in the original message (if any; see Section 2.5.3), the resulting messages are sent to the peer.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメントメッセージにIKEヘッダを付加するとき、それは長さと次にペイロードフィールドを除いて、元のメッセージから無傷注意しなければなりません。 Lengthフィールドは、構成されIKEフラグメントメッセージの長さを反映するように調整され、次のペイロードフィールドは、そのメッセージ内の最初のペイロードのペイロードタイプ（ほとんどの場合、それは、暗号化フラグメントのペイロードになります）に設定されています。 （もしあれば、セクション2.5.3を参照）IKEヘッダとおそらくは元のメッセージに暗号化されたペイロードに先行するすべてのペイロードを付加した後、得られたメッセージをピアに送信されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Below is an example of fragmenting a message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下メッセージを断片化の一例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR(MID=n), SK(NextPld=PLD1) {PLD1 ... PLDN}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR（MID = N）、SK（NextPld = PLD1）{PLD1 ... PLDN}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
Original Message
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
オリジナルメッセージ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR(MID=n), SKF(NextPld=PLD1, Frag#=1, TotalFrags=m) {...}, HDR(MID=n), SKF(NextPld=0, Frag#=2, TotalFrags=m) {...}, ... HDR(MID=n), SKF(NextPld=0, Frag#=m, TotalFrags=m) {...}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR（MID = N）、SKF（NextPld = PLD1、FRAG＃= 1、TotalFrags = M）{...}、HDR（MID = N）、SKF（NextPld = 0、FRAG＃= 2、TotalFrags = M） {...}、... HDR（MID = N）、SKF（NextPld = 0、FRAG＃= M、TotalFrags = M）{...}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
IKE Fragment Messages
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
IKEフラグメントメッセージ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.1. Selecting Fragment Size
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.1. 選択フラグメントサイズ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When splitting the content of an Encrypted payload into chunks, the sender SHOULD choose their size so that the resulting IP datagrams will be smaller than some fragmentation threshold. Implementations may calculate the fragmentation threshold using various sources of information.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
チャンクに暗号化されたペイロードのコンテンツを分割する場合、得られたIPデータグラムは、いくつかのフラグメンテーション閾値よりも小さくなるように、送信者は、それらのサイズを選択してください。実装は、情報の様々なソースを使用して断片化閾値を算出してもよいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the sender has information about the PMTU size, it SHOULD use it. The responder in the exchange may use the maximum size of the received IKE Fragment message IP datagrams as a threshold when constructing a fragmented response. Successful completion of previous exchanges (including those exchanges that cannot employ IKE fragmentation, e.g., IKE_SA_INIT) may be an indication that the fragmentation threshold can be set to the size of the largest message of those messages already sent.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
送信者がPMTUサイズについての情報を持っている場合、それはそれを使用する必要があります。断片化された応答を構築する際の交換に応答閾値として受信IKEフラグメントメッセージのIPデータグラムの最大サイズを使用してもよいです。 （IKEの断片化を採用することができないものの交換を含む、例えば、IKE_SA_INIT）以前の交換が正常に完了は、フラグメンテーション閾値が既に送信されたそれらのメッセージの最大メッセージのサイズに設定することができることを示すことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Otherwise, for messages to be sent over IPv6, it is RECOMMENDED that a value of 1280 bytes as a maximum IP datagram size be used ([RFC2460]). For messages to be sent over IPv4, it is RECOMMENDED that a value of 576 bytes as a maximum IP datagram size be used. The presence of tunnels on the path may reduce these values. Implementations may use other values if they are appropriate in the current environment.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
メッセージがIPv6を介して送信するためにそうでなければ、それは最大のIPデータグラムのサイズとして1280バイトの値を使用することを推奨されている（[RFC2460]）。 IPv4の上に送信されるメッセージの場合、最大IPデータグラムサイズとして576バイトの値を使用することを推奨されています。経路上のトンネルの存在は、これらの値を減少させることができます。彼らは現在の環境に応じた適切な場合、実装は他の値を使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
According to [RFC0791], the minimum IPv4 datagram size that is guaranteed not to be further fragmented is 68 bytes, but it is generally impossible to use such a small value for the solution described in this document. Using 576 bytes is a compromise -- the value is large enough for the presented solution and small enough to avoid IP fragmentation in most situations. Several other UDP-based protocols (Syslog, DNS, etc.) use 576 bytes as a safe low limit for IP datagram size.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC0791]によれば、さらに断片化しないことが保証される最小のIPv4データグラムのサイズは68バイトであるが、この文書で説明するソリューションのためのそのような小さな値を使用することが一般的に不可能です。 576バイトを使用することで妥協です - 値が提示ソリューションと、ほとんどの状況でIP断片化を回避するのに十分に小さいために十分な大きさです。いくつかの他のUDPベースのプロトコル（シスログ、DNSなど）はIPデータグラムサイズの安全な下限として576バイトを使用します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
See Appendix B for correlation between IP datagram size and Encrypted payload content size.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPデータグラムのサイズと暗号化されたペイロードのコンテンツサイズとの相関関係については、付録Bを参照してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.2. PMTU Discovery
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.2.  PMTUディスカバリー
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The amount of traffic that the IKE endpoint produces during the lifetime of an IKE SA is fairly modest -- it is usually below 100 KB within a period of several hours. Most of this traffic consists of relatively short messages -- usually below several hundred bytes. In most cases, the only time when IKE endpoints exchange messages of several KB in size is IKE SA establishment, and often each endpoint sends exactly one such message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEのエンドポイントがIKE SAのライフタイム中に生成したトラフィックの量はかなり控えめである - それは、数時間の期間内に、通常は100キロバイト以下です。通常は数百バイトの下に - このトラフィックの大部分は、比較的短いメッセージで構成されています。ほとんどの場合、IKEのサイズはいくつかのKBの交換メッセージをエンドポイントだけ時間がIKE SAの確立であり、多くの場合、各エンドポイントは、1つのそのようなメッセージを送信します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
For the reasons articulated above, implementing PMTU discovery in IKE is OPTIONAL. It is believed that using the values recommended in Section 2.5.1 as a fragmentation threshold will be sufficient in most cases. Using these values could lead to suboptimal fragmentation, but it is acceptable given the amount of traffic IKE produces. Implementations may support PMTU discovery if there are good reasons to do it (for example, if they are intended to be used in environments where the MTU size might be less than the values listed in Section 2.5.1).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
上記の関節の理由から、IKEでのPMTU検出を実装はオプションです。フラグメンテーションしきい値として、セクション2.5.1に推奨値を使用すると、ほとんどの場合で十分であろうと考えられています。これらの値を使用すると、次善の断片化につながるが、それはIKEが生成するトラフィック量与えられた許容可能である可能性があります。 （これらはMTUサイズは、セクション2.5.1に記載されている値よりも小さくなる可能性がある環境で使用することが意図されている場合、例えば）それを行うには十分な理由がある場合は、実装はPMTU発見をサポートすることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PMTU discovery in IKE follows recommendations given in Section 10.4 of [RFC4821] with some modifications, induced by the distinctive features of IKE listed above. The difference is that the PMTU search is performed downward, while in [RFC4821] it is performed upward. The reason for this change is that IKE usually sends large messages only when the IKE SA is being established, and in many cases there is only one such message. If the probing were performed upward, this message would be fragmented using the smallest allowable threshold, and usually all other messages are small enough to avoid IP fragmentation, so continued probing would be of little value.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEにおけるPMTU発見は、上記IKEの特有の特徴によって誘導されるいくつかの修正と[RFC4821]のセクション10.4に与えられた勧告に従います。違いは、[RFC4821]にそれが上向きに行われている間PMTU探索は、下方に行われることです。この変更の理由は、IKEは通常、IKE SAが確立されているときのみ、大きなメッセージを送信し、多くの場合、唯一のそのようなメッセージがあるということです。プロービングが上向きに行われた場合には、これほど少ないの価値があるであろうプロービングを続け、このメッセージは、最小許容しきい値を用いて断片化されるだろう、と通常は他のすべてのメッセージは、IPフラグメンテーションを回避するのに十分に小さいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
It is the initiator of the exchange who performs PMTU discovery. This is done by probing several values of fragmentation threshold. Implementations MUST be prepared to probe in every exchange that utilizes IKE fragmentation to deal with possible changes in path MTU over time. While doing probes, it MUST start from larger values and refragment the original message, using the next smaller value of the threshold if it did not receive a response in a reasonable time after several retransmissions. The exact number of retransmissions and length of timeouts are not covered in this specification because they do not affect interoperability. However, the timeout interval is supposed to be relatively short, so that unsuccessful probes would not delay IKE operations too much. Performing a few retries within several seconds for each probe seems appropriate, but different environments may require different rules. When starting a new probe, the node MUST reset its retransmission timers so that if it employs exponential back-off the timers will start over. After reaching the smallest allowed value for the fragmentation threshold, an implementation MUST continue retransmitting until the exchange either completes or times out using some timeout interval as discussed in Section 2.4 of [RFC7296].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
これは、PMTU検出を行い、交流の開始剤です。これは、フラグメンテーションしきい値のいくつかの値を探索することによって行われます。実装は、時間をかけてパスMTU性の変化の可能性に対処するためのIKEの断片化を利用して、すべての交換をプローブするために準備しなければなりません。プローブをしているが、それはそれは、いくつかの再送信の後、合理的な時間内に応答を受信しなかった場合、閾値の次に小さい値を使用して、より大きな値から開始し、元のメッセージを再断片化しなければなりません。彼らは相互運用性に影響しないので、再送とタイムアウトの長さの正確な数は、この仕様ではカバーされていません。しかし、タイムアウト間隔が失敗したプローブは、あまりにも多くのIKE操作を遅らせないように、比較的短いことになっています。各プローブのために、数秒以内に、いくつかの再試行を実行すると、適切なようだが、異なる環境では異なるルールが必要な場合があります。新しいプローブを起動するとき、それは指数バックオフを使用した場合、タイマーは最初からやり直しになるように、ノードは、その再送信タイマーをリセットしなければなりません。 [RFC7296]のセクション2.4で議論するように交換は、いくつかのタイムアウト期間を使用して完了するか、または時間のいずれかまで、フラグメンテーションしきい値の最小許容値に達した後、実装は再送を継続しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PMTU discovery in IKE is supposed to be coarse-grained, i.e., it is expected that a node will try only a few fragmentation thresholds in order to minimize delays caused by unsuccessful probes. If path MTU information is not yet available, the endpoint may use the link MTU size when it starts probing. In subsequent exchanges, the node should start with the current value of the fragmentation threshold.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEでのPMTUの発見は、粒度の粗いことになっている、すなわち、ノードが失敗したプローブによる遅延を最小限に抑えるために、わずか数フラグメンテーションしきい値を試すことが期待されます。パスMTU情報がまだ利用できない場合、それはプロービングを開始すると、エンドポイントは、リンクのMTUサイズを使用することができます。その後の交流において、ノードは、フラグメンテーション閾値の現在の値で始まる必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an implementation is capable of receiving ICMP error messages, it can additionally utilize classic PMTU discovery methods, as described in [RFC1191] and [RFC1981]. In particular, if the initiator receives a Packet Too Big error in response to the probe, and it contains a smaller value than the current fragmentation threshold, then the initiator SHOULD stop retransmitting the probe and SHOULD select a new value for the fragmentation threshold that is less than or equal to the value from the ICMP message and meets the requirements listed below.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
実装は、ICMPエラーメッセージを受信することが可能である場合は、[RFC1191]及び[RFC1981]に記載されているように、それはさらに、古典PMTU探索方法を利用することができます。イニシエータは、プローブに応答してパケット過大エラーを受け取り、そしてそれが現在のフラグメンテーション閾値よりも小さい値を含む場合、特に、イニシエータは、プローブを再送信を停止すべきとされフラグメンテーション閾値の新しい値を選択すべきです以下の値に等しいICMPメッセージから、以下に示す要件を満たしています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of PMTU discovery, the Total Fragments field is used to distinguish between different sets of fragments, i.e., the sets that were created by fragmenting the original message using different fragmentation thresholds. Since the sender starts from larger fragments and then makes them smaller, the value in the Total Fragments field increases with each new probe. When selecting the next smaller value for the fragmentation threshold, the sender MUST ensure that the value in the Total Fragments field is really increased. This requirement should not be a problem for the sender, because PMTU discovery in IKE is supposed to be coarse-grained, so the difference between previous and next fragmentation thresholds should be significant anyway. The need to distinguish between the sets is vital for the receiver, since receiving a valid fragment from a newer set means that it has to start the reassembly process over and not mix fragments from different sets.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
PMTU発見の場合には、総フラグメントフィールドはフラグメントの異なるセットを区別するために使用され、即ち、異なるフラグメンテーションしきい値を使用して元のメッセージを断片化することによって作成されたセット。送信者は、より大きな断片から開始し、それらそれぞれの新しいプローブとの合計フラグメントフィールド増加が小さい値になりますので。フラグメンテーションしきい値のための次に小さい値を選択すると、送信者は合計フラグメントフィールドの値が実際に増加していることを確認しなければなりません。 IKEでのPMTUの発見は、粒度の粗いことになっているので、前回と次のフラグメンテーションしきい値との差が、とにかく重要でなければなりませんので、この要件は、送信者のために問題になることはありません。セットを区別する必要性は、新しいセットから有効なフラグメントを受信するので、それが終わっ再構築プロセスを開始し、異なるセットからの断片を混在させないために持っていることを意味し、受信機のために不可欠です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.3. Fragmenting Messages Containing Unprotected Payloads
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.5.3. 保護されていないペイロードを含む断片化メッセージ
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Currently, there are no IKEv2 exchanges that define messages, containing both unprotected payloads and payloads, that are protected by the Encrypted payload. However, IKEv2 does not prohibit such construction. If some future IKEv2 extension defines such a message and it needs to be fragmented, all unprotected payloads MUST be placed in the first fragment (with the Fragment Number field equal to 1), along with the Encrypted Fragment payload, which MUST be present in every IKE Fragment message and be the last payload in it.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
現在、暗号化されたペイロードによって保護され、保護されていないペイロードおよびペイロードの両方を含むメッセージを定義何のIKEv2交換は、存在しません。ただし、IKEv2のは、このような構成を禁止するものではありません。いくつかの将来のIKEv2の拡張は、そのようなメッセージを定義し、それを断片化する必要がある場合、すべての保護されていないペイロードはすべてに存在しなければならない暗号化されたフラグメントのペイロードと共に、（1に等しいフラグメント番号フィールドを有する）最初のフラグメントに配置する必要がありますIKEフラグメントメッセージとそれに最後のペイロードこと。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Below is an example of a fragmenting message that contains both protected and unprotected payloads.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
以下の両方の保護および非保護のペイロードを含んでいる断片化メッセージの一例です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR(MID=n), PLD0, SK(NextPld=PLD1) {PLD1 ... PLDN}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR（MID = N）、PLD0、SK（NextPld = PLD1）{PLD1 ... PLDN}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
Original Message
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-29">
オリジナルメッセージ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR(MID=n), PLD0, SKF(NextPld=PLD1, Frag#=1, TotalFrags=m) {...}, HDR(MID=n), SKF(NextPld=0, Frag#=2, TotalFrags=m) {...}, ... HDR(MID=n), SKF(NextPld=0, Frag#=m, TotalFrags=m) {...}
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
HDR（MID = N）、PLD0、SKF（NextPld = PLD1、FRAG＃= 1、TotalFrags = M）{...}、HDR（MID = N）、SKF（NextPld = 0、FRAG＃= 2、TotalFrags = M）{...}、... HDR（MID = N）、SKF（NextPld = 0、FRAG＃= M、TotalFrags = M）{...}
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
IKE Fragment Messages
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-27">
IKEフラグメントメッセージ
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that the size of each IP datagram bearing IKE Fragment messages should not exceed the fragmentation threshold, including the first one, that contains unprotected payloads. This will reduce the size of the Encrypted Fragment payload content in the first IKE Fragment message to accommodate all unprotected payloads. In an extreme case, the Encrypted Fragment payload will contain no data, but it still must be present in the message, because only its presence allows the receiver to determine that the sender has used IKE fragmentation.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメントメッセージを担持する各IPデータグラムのサイズが保護されていないペイロードを含んでいる最初のもの、を含むフラグメンテーションしきい値を超えてはならないことに留意されたいです。これは、すべての保護されていないペイロードを収容する第一IKEフラグメントメッセージで暗号化フラグメントのペイロードのコンテンツのサイズを減少させます。極端な場合には、暗号化されたフラグメントのペイロードは、データを含まないであろうが、唯一のその存在は、受信機は、送信者がIKEの断片を使用したことを判断することができるので、それはまだ、メッセージ中に存在しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6. Receiving IKE Fragment Message
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6.  IKEフラグメントメッセージの受信
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The receiver identifies the IKE Fragment message by the presence of an Encrypted Fragment payload in it. In most cases, it will be the first and only payload in the message; however, this may not be true for some hypothetical IKE exchanges (see Section 2.5.3).
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
受信機は、その中に暗号化されたフラグメントのペイロードの存在によってIKEフラグメントメッセージを識別する。ほとんどの場合、それはメッセージで最初で唯一のペイロードになります。しかし、これは（2.5.3項を参照）、いくつかの仮定のIKE交換のために真ではないかもしれません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Upon receiving the IKE Fragment message, the following actions are performed:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメントメッセージを受信すると、次のアクションが実行されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Check message validity - in particular, check whether the values in the Fragment Number and the Total Fragments fields in the Encrypted Fragment payload are valid. The following tests need to be performed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oメッセージの妥当性を確認してください - 特に、フラグメント番号と暗号化されたフラグメントのペイロードにおける総フラグメントのフィールドの値が有効であるかどうかを確認してください。次のテストを実行する必要があります。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* check that the Fragment Number and the Total Fragments fields contain non-zero values
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
*フラグメント数と総フラグメントフィールドがゼロ以外の値が含まれていることを確認してください
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* check that the value in the Fragment Number field is less than or equal to the value in the Total Fragments field
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
*フラグメント番号フィールドの値が合計フラグメントフィールドの値以下であることを確認してください
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
* if reassembling has already started, check that the value in the Total Fragments field is equal to or greater than the Total Fragments field in the fragments that have already been stored in the reassembling queue
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
*再組み立てがすでに開始されている場合、総フラグメントフィールドの値が既に再組み立てキューに格納されている断片で合計フラグメントフィールド以上であることを確認してください
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
If any of these tests fail, the message MUST be silently discarded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-6">
これらのテストのいずれかが失敗した場合、メッセージは静かに捨てなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Check that this IKE Fragment message is new for the receiver and not a replay. If an IKE Fragment message with the same Message ID, Fragment Number, and Total Fragments fields is already present in the reassembling queue, this message is considered a replay and MUST be silently discarded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
OこのIKEフラグメントメッセージを受信して​​いない再生のために新しいものであることを確認してください。同じメッセージIDを持つIKEフラグメントメッセージ、フラグメント数、および総フラグメントフィールドが再組み立てキューにすでに存在している場合、このメッセージはリプレイとみなされ、静かに捨てなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Verify IKE Fragment message authenticity by checking the Integrity Check Value (ICV) in the Encrypted Fragment payload. If the ICV check fails, the message MUST be silently discarded.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O整合性が暗号化フラグメントのペイロードの値（ICV）を確認チェックすることにより、IKEフラグメントメッセージの真正性を検証します。 ICVチェックが失敗した場合、メッセージは静かに捨てなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o If reassembling is not finished yet and the Total Fragments field in the received fragment is greater than the Total Fragments field in those fragments that are in the reassembling queue, the receiver MUST discard all received fragments and start the reassembly process over with just the received IKE Fragment message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O再組み立てはまだ終わっていませんし、受信したフラグメントで総フラグメントフィールドは、再組み立てキューにあるそれらの断片で合計フラグメントフィールドよりも大きい場合は、受信したすべての断片を破棄し、受信したばかりで再構築プロセスを最初からやり直す必要があります受信機IKEフラグメントメッセージ。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Store the message in the reassembling queue waiting for the rest of the fragments to arrive.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O断片の残りが到着するのを待って再組み立てキューにメッセージを保管してください。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When all IKE Fragment messages (as indicated in the Total Fragments field) are received, the decrypted content of all Encrypted Fragment payloads is merged together to form the content of the original Encrypted payload and, therefore, along with the IKE header and unprotected payloads (if any), the original message. Then, it is processed as if it was received, verified, and decrypted as a regular IKE message.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
すべてのIKEフラグメントメッセージが（合計フラグメントフィールドに示されているように）受信した場合、すべての暗号化フラグメントのペイロードの復号化されたコンテンツは、IKEヘッダと保護されていないペイロード（と共に、従って、元の暗号化されたペイロードの内容を形成し、そしてするために一緒にマージされ）もしあれば、元のメッセージ。次いで、受信確認、および定期的なIKEメッセージとして解読されたかのように処理されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the receiver does not get all IKE fragments needed to reassemble the original message within a timeout interval, it MUST discard all IKE Fragment messages received so far for the exchange. The next actions depend on the role of the receiver in the exchange.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
受信機はタイムアウト間隔内に元のメッセージを再構成するために必要なすべてのIKEの断片を取得していない場合は、交換のために、これまでに受信したすべてのIKEフラグメントメッセージを捨てなければなりません。次のアクションは、為替における受信機の役割に依存します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The initiator acts as described in Section 2.1 of [RFC7296]. It either retransmits the fragmented request message or deems the IKE SA to have failed and deletes it. The number of retransmits and length of timeouts for the initiator are not covered in this specification, since they are assumed to be the same as in a regular IKEv2 exchange and are discussed in Section 2.4 of [RFC7296].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296]のセクション2.1に記載したように、O開始剤が作用します。これはどちらかは、断片化された要求メッセージを再送信するか、IKE SAが失敗したと考えると、それを削除します。それらは正規のIKEv2交換と同じであると仮定されており、[RFC7296]のセクション2.4に記載されているので、再送信し、イニシエータのタイムアウトの長さの数は、本明細書ではカバーされていません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o The responder in this case acts as if no request message was received. It would delete any memory of the incomplete request message and not treat it as an IKE SA failure. It is RECOMMENDED that the reassembling timeout for the responder be equal to the time interval that the implementation waits before completely giving up when acting as the initiator of an exchange. Section 2.4 of [RFC7296] gives recommendations for selecting this interval. Implementations can use a shorter timeout to conserve memory.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oこの場合の応答には、要求メッセージが受信されなかったかのように作用します。これは、不完全な要求メッセージの任意のメモリを削除して、IKE SAの障害として扱いません。応答のために再組立タイムアウトが実装が交換のイニシエータとして動作するときに完全に放棄する前に待機する時間間隔に等しくすることが推奨されます。 [RFC7296]の2.4節には、この間隔を選択するための推奨事項を示します。実装は、メモリを節約するために短いタイムアウトを使用することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6.1. Replay Detection and Retransmissions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
2.6.1. リプレイの検出と再送
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
According to Section 2.2 of [RFC7296], the Message ID is used, in particular, to identify retransmissions of IKE messages. Each request or response message, sent by either side, must have a unique Message ID, or be considered a retransmission otherwise. This logic has already been updated by [RFC6311], which deliberately allows any number of messages with zero Message ID. This document also updates this logic for those situations where IKE fragmentation is in use.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296]のセクション2.2によれば、メッセージIDは、IKEメッセージの再送信を識別するために、特に、使用されます。どちらかの側によって送信された各要求または応答メッセージは、一意のメッセージIDを持つ必要があり、またはそうでなければ再送信とみなされます。このロジックは、既に故意ゼロメッセージIDを持つメッセージの任意の数のを可能にする[RFC6311]によって更新されています。また、このドキュメントでは、IKEの断片化が使用されているような状況のため、このロジックを更新します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If an incoming message contains an Encrypted Fragment payload, the values of the Fragment Number and Total Fragments fields MUST be used along with the Message ID to detect retransmissions and replays.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
着信メッセージが暗号化フラグメントのペイロードが含まれている場合は、フラグメント番号及び合計フラグメントフィールドの値は、再送信とリプレイを検出するために、メッセージIDと共に使用されなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If the responder receives a retransmitted fragment of a request when it has already processed that request and has sent back a response, that event MUST only trigger a retransmission of the response message (fragmented or not) if the Fragment Number field in the received fragment is set to 1; otherwise, it MUST be ignored.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
レスポンダは、それが既にその要求を処理し、応答を返送している要求の再送フラグメントを受信した場合、受信し断片にフラグメント番号フィールドがある場合、そのイベントは、（断片化されたか否か）、応答メッセージの再送をトリガしなければなりません1に設定します。そうでない場合は、それを無視しなければなりません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
3. Interaction with Other IKE Extensions
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
その他のIKE拡張3.相互作用
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKE fragmentation is compatible with most IKE extensions, such as IKE Session Resumption ([RFC5723]), the Quick Crash Detection Method ([RFC6290]), and so on. It neither affects their operation nor is affected by them. It is believed that IKE fragmentation will also be compatible with future IKE extensions, if they follow general principles of formatting, sending, and receiving IKE messages, as described in [RFC7296].
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメンテーションは、IKEセッションの再開として最もIKE拡張機能と互換性があり（[RFC5723]）ようにクイッククラッシュ検出法（[RFC6290]）、および。それはどちらも、それらの動作に影響を与えなかったり、それらの影響を受けています。それらは、書式送信、および[RFC7296]に記載されているように、IKEメッセージを受信する一般的な原則に従う場合IKEの断片化はまた、将来のIKE拡張機能と互換性があると考えられます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
When IKE fragmentation is used with IKE Session Resumption ([RFC5723]), messages of an IKE_SESSION_RESUME exchange cannot be fragmented, since they do not contain an Encrypted payload. These messages may be large due to the ticket size. To avoid IP fragmentation in this situation, it is recommended that smaller tickets be used, e.g., by utilizing a &#34;ticket by reference&#34; approach instead of &#34;ticket by value&#34;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメンテーションをIKEセッションの再開（[RFC5723]）で使用されるときに暗号化されたペイロードを含んでいないので、IKE_SESSION_RESUME交換のメッセージは、断片化することができません。これらのメッセージは、チケットのサイズが大きいためかもしれません。このような状況でIP断片化を回避するために、小さなチケットは「参照によってチケット」「値でチケット」の代わりのアプローチを利用することにより、例えば、使用することをお勧めします。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Protocol Support for High Availability of IKEv2/IPsec, described in [RFC6311], requires special care when deciding whether to fragment an IKE message or not. Since it deliberately allows any number of synchronization exchanges to have the same Message ID, namely zero, standard IKEv2 replay detection logic, based on checking the Message ID, is not applicable for such messages, and the receiver has to check message content to detect replays. When implementing IKE fragmentation along with [RFC6311], IKE Message ID Synchronization messages MUST NOT be sent fragmented, to simplify the receiver&#39;s task of detecting replays. Fortunately, these messages are small, and there is no point in fragmenting them anyway.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEメッセージを断片化するかどうかを決定する際に、[RFC6311]で説明したのIKEv2 / IPsecの高可用性のためのプロトコルサポートは、特別な注意が必要です。それは意図的に同期交換の任意の数が同じメッセージIDを持つことができるので、すなわちゼロ、メッセージIDをチェックに基づいて標準のIKEv2再生検出ロジックは、そのようなメッセージには適用されません、そして、受信機は、リプレイを検出するために、メッセージの内容をチェックしなければなりません。 [RFC6311]と共にIKEの断片化を実装する場合、IKEメッセージID同期メッセージは、リプレイを検出する受信機の作業を簡略化するために、断片化され送信されてはいけません。幸いなことに、これらのメッセージは小さく、とにかくそれらを細分化しても意味がありません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4. Transport Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
4.輸送の考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
With IKE fragmentation, if any single IKE Fragment message gets lost, the receiver becomes unable to reassemble the original message. So, in general, using IKE fragmentation implies a higher probability that the message will not be delivered to the peer. Although in most network environments the difference will be insignificant, on some lossy networks it may become noticeable. When using IKE fragmentation, implementations MAY use longer timeouts and do more retransmits than usual before considering the peer dead.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
任意の単一のIKEフラグメントメッセージが失われる場合に、IKE断片化と、受信機は、元のメッセージを再構築することができなくなります。だから、一般的に、IKEフラグメンテーションを使用すると、メッセージがピアに配信されないことをより高い確率を意味しています。ほとんどのネットワーク環境に差は無視できるほど小さくなりますが、一部の非可逆のネットワーク上でそれが顕著になることがあります。 IKEの断片化を使用する場合、実装は長いタイムアウトを使用して、死んだ仲間を検討する前に、通常よりも多くの再送を行うことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Note that Fragment messages are not individually acknowledged. The response Fragment messages are all sent back together only when all fragments of the request are received, and the original request message is reassembled and successfully processed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
フラグメントメッセージを個別に認識されていないことに注意してください。応答フラグメントメッセージは、すべての要求のすべてのフラグメントが受信され、元の要求メッセージが再組み立てされ、正常に処理する場合にのみ一緒に返送されます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5. Security Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
5.セキュリティについての考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Most of the security considerations for IKE fragmentation are the same as those for the base IKEv2 protocol described in [RFC7296]. This extension introduces the Encrypted Fragment payload to protect the content of an IKE Message Fragment. This allows the receiver to individually check the authenticity of fragments, thus protecting peers from a DoS attack.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEの断片化のためのセキュリティ問題のほとんどは、[RFC7296]に記載のベースのIKEv2プロトコルのためのものと同じです。この拡張は、IKEメッセージ断片の内容を保護するために暗号化されたフラグメントのペイロードを紹介します。これによりDoS攻撃から仲間を守る、受信機は個別の断片の正当性をチェックすることができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The Security Considerations section of [RFC7296] mentions a possible attack on IKE where an attacker could prevent an exchange from completing by exhausting the IP reassembly buffers. The mechanism described in this document allows IKE to avoid IP fragmentation and therefore increases its robustness to DoS attacks.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296]のSecurity Considerations部は、攻撃者がIP再組み立てバッファを排出することによって完成からの交換を防ぐことができるIKE上の攻撃の可能性に言及しています。本書で説明されたメカニズムは、IKEは、IP断片化を回避することができ、したがって、DoS攻撃へのロバスト性を増加させます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The following attack is possible with IKE fragmentation. An attacker can initiate an IKE_SA_INIT exchange, complete it, compute SK_a and SK_e, and then send a large but still incomplete set of IKE_AUTH fragments. These fragments will pass the ICV check and will be stored in reassembly buffers, but since the set is incomplete, the reassembling will never succeed and eventually will time out. If the set is large, this attack could potentially exhaust the receiver&#39;s memory resources.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
次の攻撃は、IKEの断片化によって可能です。攻撃者は、IKE_SA_INIT交換を開始、それを完了、SK_AとSK_eを計算し、その後、IKE_AUTH断片の大規模なまだ不完全なセットを送信することができます。これらの断片は、ICVチェックを通過し、リアセンブリ・バッファに格納されますが、セットが不完全であるため、再組み立ては決して成功しないだろうし、最終的にタイムアウトします。セットが大きい場合、この攻撃は、潜在的に、受信機のメモリリソースを使い果たすことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To mitigate the impact of this attack, it is RECOMMENDED that the receiver limit the number of fragments it stores in the reassembling queue so that the sum of the sizes of Encrypted Fragment payload contents (after decryption) for fragments that are already placed into the reassembling queue is less than some value that is reasonable for the implementation. If the peer sends so many fragments that the above condition is not met, the receiver can consider this situation to be either an attack or a broken sender implementation. In either case, the receiver SHOULD drop the connection and discard all the received fragments.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この攻撃の影響を緩和するためには、受信機は、それが再組立キューに格納するフラグメントの数を制限することが推奨されているように、既に再組み立て中に配置されるフラグメントについての（復号後に）暗号化されたフラグメントのペイロードの内容のサイズの合計キューは、実装のための合理的であるいくつかの値よりも小さいです。ピアは、上記の条件が満たされていないので、多くの断片を送信する場合、受信機は攻撃または壊れた送信者の実装のいずれかであることを、このような状況を考慮することができます。いずれの場合においても、受信機は接続をドロップし、すべての受信されたフラグメントを破棄すべきです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This value can be predefined, can be a configurable option, or can be calculated dynamically, depending on the receiver&#39;s memory load. Some care should be taken when selecting this value because if it is too small it might prevent a legitimate peer from establishing an IKE SA if the size of messages it sends exceeds this value. It is NOT RECOMMENDED for this value to exceed 64 KB because any IKE message before fragmentation would likely be shorter than that.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
予め定義することができ、この値は、設定可能なオプションとすることができる、または受信機のメモリの負荷に応じて、動的に計算することができます。この値を選択するとき、それは小さすぎる場合、それが送信するメッセージのサイズがこの値を超えた場合、IKE SAを確立する正当なピアを防ぐ可能性があるため、いくつかの注意が必要です。断片化の前に任意のIKEメッセージは、おそらくそれよりも短くなるので、64キロバイトを超えると、この値は推奨されません。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If IKE fragments arrive in order, it is possible, but not advised, for the receiver to parse the beginning of the message that is being reassembled and extract the already-available payloads before the reassembly is complete. It can be dangerous to take any action based on the content of these payloads, because the fragments that have not yet been received might contain payloads that could change the meaning of them (or could even make the whole message invalid), and this can potentially be exploited by an attacker. It is important to address this threat by ensuring that all the fragments are received prior to parsing the reassembled message, as described in Section 2.6.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメントが順番に到着した場合、それは可能ですが、受信機が再組み立てされているメッセージの先頭を解析し、再構築が完了する前に、既に利用可能なペイロードを抽出するため、お勧めできません。まだ受信されていない断片は、それらの意味を変えることができる（あるいは、メッセージ全体が無効に作ることができる）のペイロードが含まれる可能性がありますので、これらのペイロードの内容に基づいて任意のアクションを取るために危険なことができ、これは潜在的にすることができます攻撃者によって悪用されます。 2.6節で説明したように、すべてのフラグメントは、前に再組み立てたメッセージを解析するに受信されることを保証することにより、この脅威に対処することが重要です。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. IANA Considerations
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
6. IANAの考慮事項
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document defines a new payload in the &#34;IKEv2 Payload Types&#34; registry:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書では、「IKEv2のペイロードタイプ」レジストリに新しいペイロードを定義しています。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
53 Encrypted and Authenticated Fragment SKF
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
53暗号化と認証フラグメントSKF
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
This document also defines a new Notify Message Type in the &#34;IKEv2 Notify Message Types - Status Types&#34; registry:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この文書はまた、「IKEv2のメッセージタイプ通知 - ステータスタイプ」に、新たな通知メッセージ・タイプを定義して、レジストリ：
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
16430 IKEV2_FRAGMENTATION_SUPPORTED
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-5">
16430 IKEV2_FRAGMENTATION_SUPPORTED
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7. References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.参考
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. Normative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.1. 引用規格
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119] Bradner, S., &#34;Key words for use in RFCs to Indicate Requirement Levels&#34;, BCP 14, RFC 2119, March 1997, &lt;http://www.rfc-editor.org/info/rfc2119&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2119]ブラドナーの、S.、 &#34;要件レベルを示すためにRFCsにおける使用のためのキーワード&#34;、BCP 14、RFC 2119、1997年3月、&lt;http://www.rfc-editor.org/info/rfc2119&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296] Kaufman, C., Hoffman, P., Nir, Y., Eronen, P., and T. Kivinen, &#34;Internet Key Exchange Protocol Version 2 (IKEv2)&#34;, STD 79, RFC 7296, October 2014, &lt;http://www.rfc-editor.org/info/rfc7296&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC7296]カウフマン、C.、ホフマン、P.、ニール、Y.、Eronen、P.、およびT. Kivinen、 &#34;インターネット鍵交換プロトコルバージョン2（IKEv2の）&#34;、STD 79、RFC 7296、2014年10月、&lt; http://www.rfc-editor.org/info/rfc7296&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6311] Singh, R., Kalyani, G., Nir, Y., Sheffer, Y., and D. Zhang, &#34;Protocol Support for High Availability of IKEv2/ IPsec&#34;, RFC 6311, July 2011, &lt;http://www.rfc-editor.org/info/rfc6311&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6311]シン、R.、Kalyani、G.、ニール、Y.、シェファー、Y.、およびD.張、 &#34;IKEv2の/ IPsecの高可用性のためのプロトコルサポート&#34;、RFC 6311、2011年7月、&lt;のhttp：/ /www.rfc-editor.org/info/rfc6311&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. Informative References
        </h5>
      </div>
      <div class="col-sm-12 col-md-6">
        <h5 class="text mt-2">
7.2. 参考文献
        </h5>
      </div>

    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC0791] Postel, J., &#34;Internet Protocol&#34;, STD 5, RFC 791, September 1981, &lt;http://www.rfc-editor.org/info/rfc791&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC0791]ポステル、J.、 &#34;インターネットプロトコル&#34;、STD 5、RFC 791、1981年9月、&lt;http://www.rfc-editor.org/info/rfc791&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1191] Mogul, J. and S. Deering, &#34;Path MTU discovery&#34;, RFC 1191, November 1990, &lt;http://www.rfc-editor.org/info/rfc1191&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1191]ムガール人、J.とS.デアリング、 &#34;パスMTUディスカバリ&#34;、RFC 1191、1990年11月、&lt;http://www.rfc-editor.org/info/rfc1191&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1981] McCann, J., Deering, S., and J. Mogul, &#34;Path MTU Discovery for IP version 6&#34;, RFC 1981, August 1996, &lt;http://www.rfc-editor.org/info/rfc1981&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC1981]マッキャン、J.、デアリング、S.、およびJ.モーグル、 &#34;IPバージョン6のパスMTUディスカバリ&#34;、RFC 1981、1996年8月、&lt;http://www.rfc-editor.org/info/rfc1981 &gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2460] Deering, S. and R. Hinden, &#34;Internet Protocol, Version 6 (IPv6) Specification&#34;, RFC 2460, December 1998, &lt;http://www.rfc-editor.org/info/rfc2460&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC2460]デアリング、S.とR. Hindenと、 &#34;インターネットプロトコルバージョン6（IPv6）の仕様&#34;、RFC 2460、1998年12月、&lt;http://www.rfc-editor.org/info/rfc2460&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4787] Audet, F. and C. Jennings, &#34;Network Address Translation (NAT) Behavioral Requirements for Unicast UDP&#34;, BCP 127, RFC 4787, January 2007, &lt;http://www.rfc-editor.org/info/rfc4787&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4787] Audet、F.とC.ジェニングス、 &#34;ネットワークアドレス変換（NAT）ユニキャストUDPのための行動の要件&#34;、BCP 127、RFC 4787、2007年1月、&lt;http://www.rfc-editor.org/info/ RFC4787&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4821] Mathis, M. and J. Heffner, &#34;Packetization Layer Path MTU Discovery&#34;, RFC 4821, March 2007, &lt;http://www.rfc-editor.org/info/rfc4821&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC4821]マシス、M.とJ. Heffner、 &#34;パケット化レイヤのパスMTUディスカバリ&#34;、RFC 4821、2007年3月、&lt;http://www.rfc-editor.org/info/rfc4821&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5282] Black, D. and D. McGrew, &#34;Using Authenticated Encryption Algorithms with the Encrypted Payload of the Internet Key Exchange version 2 (IKEv2) Protocol&#34;, RFC 5282, August 2008, &lt;http://www.rfc-editor.org/info/rfc5282&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5282]ブラック、D.とD.マグリュー、RFC 5282、2008年8月、&lt;HTTP &#34;インターネット鍵交換バージョン2（IKEv2の）プロトコルの暗号化されたペイロードと認証暗号化アルゴリズムを使用する&#34;：//www.rfc-editor .ORG /情報/ rfc5282&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5405] Eggert, L. and G. Fairhurst, &#34;Unicast UDP Usage Guidelines for Application Designers&#34;, BCP 145, RFC 5405, November 2008, &lt;http://www.rfc-editor.org/info/rfc5405&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5405]エッゲルト、L.とG. Fairhurst、 &#34;アプリケーションデザイナーのためのユニキャストUDPの使用上の注意事項&#34;、BCP 145、RFC 5405、2008年11月、&lt;http://www.rfc-editor.org/info/rfc5405&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5723] Sheffer, Y. and H. Tschofenig, &#34;Internet Key Exchange Protocol Version 2 (IKEv2) Session Resumption&#34;, RFC 5723, January 2010, &lt;http://www.rfc-editor.org/info/rfc5723&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC5723]シェファー、Y.およびH. Tschofenig、 &#34;インターネット鍵交換プロトコルバージョン2（IKEv2の）セッション再開&#34;、RFC 5723、2010年1月、&lt;http://www.rfc-editor.org/info/rfc5723&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6290] Nir, Y., Wierbowski, D., Detienne, F., and P. Sethi, &#34;A Quick Crash Detection Method for the Internet Key Exchange Protocol (IKE)&#34;, RFC 6290, June 2011, &lt;http://www.rfc-editor.org/info/rfc6290&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6290]ニール、Y.、Wierbowski、D.、Detienne、F.、およびP.セティ、 &#34;インターネット鍵交換プロトコルのためのクイッククラッシュ検出法（IKE）&#34;、RFC 6290、2011年6月、&lt;のhttp：/ /www.rfc-editor.org/info/rfc6290&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6888] Perreault, S., Yamagata, I., Miyakawa, S., Nakagawa, A., and H. Ashida, &#34;Common Requirements for Carrier-Grade NATs (CGNs)&#34;, BCP 127, RFC 6888, April 2013, &lt;http://www.rfc-editor.org/info/rfc6888&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[RFC6888]ペロー、S.、山形、I.、宮川、S.、中川、A.、およびH.芦田、 &#34;キャリアグレードNATのための共通要件（CGNを）&#34;、BCP 127、RFC 6888、2013年4月、 &lt;http://www.rfc-editor.org/info/rfc6888&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[FRAGDROP] Jaeggli, J., Colitti, L., Kumari, W., Vyncke, E., Kaeo, M., and T. Taylor, &#34;Why Operators Filter Fragments and What It Implies&#34;, Work in Progress, draft-taylor-v6ops-fragdrop-02, December 2013.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
【FRAGDROP] Jaeggli、J.、Colitti、L.、クマリ、W.、Vyncke、E.、Kaeoの、M.、およびT.テイラー、 &#34;なぜ演算子フィルタ断片とそれが意味する&#34;、進行中で働いて、draft-テイラー・v6ops-fragdrop-02、2013年12月。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[BLACKHOLES] De Boer, M. and J. Bosma, &#34;Discovering Path MTU black holes on the Internet using RIPE Atlas&#34;, July 2012, &lt;http://www.nlnetlabs.nl/downloads/publications/ pmtu-black-holes-msc-thesis.pdf&gt;.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
【ブラックホール】デ・ボーア、M.及びJ. BOSMA、「RIPEアトラスを使用してインターネット上で発見パスMTUブラックホール」、2012年7月、&lt;http://www.nlnetlabs.nl/downloads/publications/ PMTUブラックホール-msc-thesis.pdf&gt;。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOSUDPPROT] Kaufman, C., Perlman, R., and B. Sommerfeld, &#34;DoS protection for UDP-based protocols&#34;, ACM Conference on Computer and Communications Security, October 2003.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
[DOSUDPPROT]カウフマン、C.、パールマン、R.、およびB.ゾンマーフェルト、 &#34;UDPベースのプロトコルのためのDoS防御&#34;、コンピュータおよび通信セキュリティ、2003年10月にACM会議。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Appendix A. Design Rationale
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
付録A.デザイン理論的根拠
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The simplest approach to IKE fragmentation would have been to fragment a message that is fully formed and ready to be sent. However, if a message got fragmented after being encrypted and authenticated, this could make a simple DoS attack possible. The attacker could infrequently emit forged but valid-looking fragments into the network, and some of these fragments would be fetched by the receiver into the reassembling queue. The receiver would not be able to distinguish forged fragments from valid ones and would only be able to determine that some of the received fragments were forged after the whole message was reassembled and its authenticity check failed.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IKEフラグメンテーションに最も簡単な方法は、完全に形成され、送信される準備ができているメッセージを断片化することであったであろう。メッセージが暗号化および認証された後に断片化さてしまった場合は、これは単純なDoS攻撃を可能にすることができます。攻撃者は、まれに偽造が、ネットワークへの断片を有効に見える、およびこれらの断片の一部は、再組み立てキューに受信機によってフェッチされるだろう発することができました。受信機は、有効なものから鍛造断片を区別することができないとだけメッセージ全体を再組み立てし、その信憑性チェックが失敗した後に受信したフラグメントの一部が偽造されたことを決定することができるであろう。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
To prevent this kind of attack and also reduce vulnerability to some other kinds of DoS attacks, it was decided to perform fragmentation before applying cryptographic protection to the message. In this case, each Fragment message becomes individually encrypted and authenticated; this allows the receiver to determine forged fragments and not store them in the reassembling queue.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
この種の攻撃を防ぎ、また、DoS攻撃の他のいくつかの種類の脆弱性を減らすために、それはメッセージに暗号保護を適用する前に、断片化を実行することを決定しました。この場合、各フラグメントのメッセージを個別に暗号化され、認証された状態になります。これは、受信機が再組み立てキューに保存偽造断片を決定していないことができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Appendix B. Correlation between IP Datagram Size and Encrypted Payload Content Size
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
IPデータグラムのサイズと暗号化されたペイロードコンテンツサイズ間の付録B.相関
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of IPv4, the content size of the Encrypted Payload is less than the IP datagram size by the sum of the following values:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv4の場合には、暗号化されたペイロードのコンテンツサイズは、以下の値の和でIPデータグラムのサイズよりも小さいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv4 header size (typically 20 bytes, up to 60 if IP options are present)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O IPv4ヘッダのサイズ（典型的には20バイト、IPオプションが存在する場合、60まで）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o UDP header size (8 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O UDPヘッダのサイズ（8バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o non-ESP (Encapsulating Security Payload) marker size (4 bytes if present)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O非ESP（カプセル化セキュリティペイロード）マーカーのサイズ（4バイト存在する場合）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKE header size (28 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O IKEヘッダサイズ（28バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Encrypted payload header size (4 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O暗号化されたペイロードヘッダサイズ（4バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o initialization vector (IV) size (variable)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O初期化ベクトル（IV）サイズ（可変）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o padding and its size (at least 1 byte)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oパディングとそのサイズ（少なくとも1バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ICV size (variable)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O ICVのサイズ（可変）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The sum may be estimated as 61..105 bytes + IV + ICV + padding.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
和は61..105バイト+ IV + ICV +パディングとして推定することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
In the case of IPv6, the content size of the Encrypted Payload is less than the IP datagram size by the sum of the following values:
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6の場合には、暗号化されたペイロードのコンテンツサイズは、以下の値の和でIPデータグラムのサイズよりも小さいです。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv6 header size (40 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O IPv6ヘッダのサイズ（40バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IPv6 extension headers (optional; size varies)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
IPv6拡張ヘッダO（オプション、サイズが変化します）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o UDP header size (8 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O UDPヘッダのサイズ（8バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o non-ESP marker size (4 bytes if present)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O非ESPマーカーサイズ（4バイト存在する場合）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IKE header size (28 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O IKEヘッダサイズ（28バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o Encrypted payload header size (4 bytes)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O暗号化されたペイロードヘッダサイズ（4バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o IV size (variable)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
OのIVサイズ（変数）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o padding and its size (at least 1 byte)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Oパディングとそのサイズ（少なくとも1バイト）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
o ICV size (variable)
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
O ICVのサイズ（可変）
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
If no extension header is present, the sum may be estimated as 81..85 bytes + IV + ICV + padding. If extension headers are present, the payload content size is further reduced by the sum of the size of the extension headers. The length of each extension header can be calculated as 8 * (Hdr Ext Len) bytes, except for the fragment header, which is always 8 bytes in length.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
全く拡張ヘッダが存在しない場合、合計は81..85バイト+ IV + ICV +パディングとして推定することができます。拡張ヘッダが存在する場合、ペイロードのコンテンツサイズがさらに拡張ヘッダのサイズの和によって低減されます。各拡張ヘッダの長さは、常に長さは8バイトであるフラグメントヘッダを除いて、8 *（HDR拡張レン）バイトとして計算することができます。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Acknowledgements
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
謝辞
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
The author would like to thank Tero Kivinen, Yoav Nir, Paul Wouters, Yaron Sheffer, Joe Touch, Derek Atkins, Ole Troan, and others for their reviews and valuable comments. Thanks to Ron Bonica for contributing text to the Introduction section. Thanks to Paul Hoffman and Barry Leiba for improving text clarity.
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
作者は彼らのレビューと貴重なコメントをTERO Kivinen、ヨアフニール、ポールWOUTERS、ヤロンシェファー、ジョー・タッチ、デレク・アトキンス、オレTroanなどに感謝したいと思います。はじめにセクションにテキストを貢献するためのロンBonicaに感謝します。テキストの透明度を向上させるためのポール・ホフマンとバリー・レイバに感謝します。
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
Author&#39;s Address
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-0">
著者のアドレス
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Valery Smyslov ELVIS-PLUS PO Box 81 Moscow (Zelenograd) 124460 Russian Federation
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
ヴァレリーSmyslov ELVIS-PLUS私書箱81モスクワ（ゼレノグラード）124460ロシア連邦
        </p>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
Phone: +7 495 276 0211 EMail: svan@elvis.ru
        </p>
      </div>
      <div class="col-sm-12 col-md-6">
        <p class="text indent-3">
電話番号：+7 495 276 0211 Eメール：svan@elvis.ru
        </p>
      </div>
    </div>
  </div>
  <div id="rfc_footer"></div>
</body>
</html>
